{"version":3,"file":"helios.umd.cjs","sources":["../node_modules/d3-ease/src/linear.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/array.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/selectChild.js","../node_modules/d3-selection/src/selection/selectChildren.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/iterator.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/easeVarying.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-zoom/src/constant.js","../node_modules/d3-zoom/src/event.js","../node_modules/d3-zoom/src/transform.js","../node_modules/d3-zoom/src/noevent.js","../node_modules/d3-zoom/src/zoom.js","../node_modules/gl-matrix/esm/common.js","../node_modules/gl-matrix/esm/mat3.js","../node_modules/gl-matrix/esm/mat4.js","../node_modules/gl-matrix/esm/vec3.js","../node_modules/gl-matrix/esm/vec4.js","../src/utilities/webgl.js","../node_modules/@colormap/core/dist/index.esm.js","../node_modules/@colormap/presets/dist/index.esm.js","../src/core/Network.js","../src/core/Scheduler.js","../node_modules/pica/dist/pica.js","../src/layouts/d3force3dLayoutWorker.js","../src/shaders/edges.js","../src/shaders/nodes.js","../node_modules/sylvester-es6/target/LinkedList.js","../node_modules/sylvester-es6/target/CircularLinkedList.js","../node_modules/sylvester-es6/target/PRECISION.js","../node_modules/sylvester-es6/target/Matrix.js","../node_modules/sylvester-es6/target/Vector.js","../node_modules/sylvester-es6/target/Plane.js","../node_modules/sylvester-es6/target/Line.js","../node_modules/sylvester-es6/target/LineSegment.js","../node_modules/sylvester-es6/target/LinkedListNode.js","../node_modules/sylvester-es6/target/Polygon.js","../node_modules/sylvester-es6/target/Vertex.js","../node_modules/sylvester-es6/target/Utils.js","../node_modules/sylvester-es6/target/Sylvester.js","../node_modules/d3-scale-chromatic/src/colors.js","../node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","../src/shaders/density.js","../src/utilities/densityGL.js","../node_modules/avl/src/utils.js","../node_modules/avl/src/index.js","../src/utilities/SortedMap.js","../src/core/HeliosCore.js","../src/utilities/parsers/xnet.js","../src/utilities/parsers/gexf.js","../src/utilities/parsers/gml.js","../src/behaviors/BehaviorFilter.js"],"sourcesContent":["export const linear = t => +t;\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","\n\n\nlet requestAnimationFrame = (function () {\n\treturn window.requestAnimationFrame ||\n\t\twindow.webkitRequestAnimationFrame ||\n\t\twindow.mozRequestAnimationFrame ||\n\t\twindow.oRequestAnimationFrame ||\n\t\twindow.msRequestAnimationFrame ||\n\t\tfunction ( /* function FrameRequestCallback */ callback, /* DOMElement Element */ element) {\n\t\t\treturn window.setTimeout(callback, 1000 / 60);\n\t\t};\n})();\n\nlet cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\n\n\nfunction createWebGLContext(canvas, opt_attribs) {\n\tlet names = [\"webgl\", \"experimental-webgl\", \"webkit-3d\", \"moz-webgl\"];\n\tlet context = null;\n\tfor (let ii = 0; ii < names.length; ++ii) {\n\t\ttry {\n\t\t\tcontext = canvas.getContext(names[ii], opt_attribs);\n\t\t} catch (e) { }\n\t\tif (context) {\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn context;\n}\n\n\n// GetShader function obtained from\n// https://developer.mozilla.org/en/WebGL/Adding_2D_content_to_a_WebGL_context\n// under public domain.\nasync function getShader(gl, ID) {\n\tlet shaderScript = document.getElementById(ID);\n\tif (!shaderScript) {\n\t\treturn null;\n\t}\n\n\tlet str = \"\";\n\tlet k = shaderScript.firstChild;\n\twhile (k) {\n\t\tif (k.nodeType == 3) {\n\t\t\tstr += k.textContent;\n\t\t}\n\t\tk = k.nextSibling;\n\t}\n\n\tif (shaderScript.src) {\n\t\tstr = await fetch(shaderScript.src).then(response => response.text());\n\t}\n\n\tlet shader;\n\tif (shaderScript.type == \"text/glsl-fragment\") {\n\t\tshader = gl.createShader(gl.FRAGMENT_SHADER);\n\t} else if (shaderScript.type == \"text/glsl-vertex\") {\n\t\tshader = gl.createShader(gl.VERTEX_SHADER);\n\t} else {\n\t\treturn null;\n\t}\n\t// console.log(str);\n\n\tgl.shaderSource(shader, str);\n\tgl.compileShader(shader);\n\n\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t\tconsole.log(\"ERROR with script: \", ID);\n\t\tconsole.log(gl.getShaderInfoLog(shader));\n\t\treturn null;\n\t}\n\n\treturn shader;\n}\n\n//new URL('fancy-button.css', import.meta.url)\nasync function getShaderFromURL(gl, url, type) { //gl.FRAGMENT_SHADER or gl.VERTEX_SHADER\n\tlet str = await fetch(url).then(r => r.text());\n\n\tlet shader;\n\tshader = gl.createShader(type);\n\n\t// console.log(str);\n\n\tgl.shaderSource(shader, str);\n\tgl.compileShader(shader);\n\n\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t\tconsole.log(\"ERROR with script: \", url);\n\t\tconsole.log(gl.getShaderInfoLog(shader));\n\t\treturn null;\n\t}\n\n\treturn shader;\n}\n\nfunction getShaderFromString(gl, str, type) { //gl.FRAGMENT_SHADER or gl.VERTEX_SHADER\n\tlet shader;\n\t// console.log(str);\n\tshader = gl.createShader(type);\n\n\t// console.log(str);\n\n\tgl.shaderSource(shader, str);\n\tgl.compileShader(shader);\n\n\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t\tconsole.log(\"ERROR with script: \", str);\n\t\tconsole.log(gl.getShaderInfoLog(shader));\n\t\treturn null;\n\t}\n\n\treturn shader;\n}\n\n\nfunction ShaderProgram(vertexShader, fragmentShader, uniforms, attributes, glContext) {\n\tlet shaderProgram = glContext.createProgram();\n\tglContext.attachShader(shaderProgram, vertexShader);\n\tglContext.attachShader(shaderProgram, fragmentShader);\n\tglContext.linkProgram(shaderProgram);\n\n\n\tif (!glContext.getProgramParameter(shaderProgram, glContext.LINK_STATUS)) {\n\t\talert(\"Shader Compilation Error.\" + glContext.getProgramInfoLog(shaderProgram));\n\t\treturn;\n\t}\n\n\tthis.ID = shaderProgram;\n\n\tthis.uniforms = new Object();\n\tthis.attributes = new Object();\n\n\tif (uniforms) {\n\t\tfor (let i = 0; i < uniforms.length; i++) {\n\t\t\tthis.uniforms[uniforms[i]] = glContext.getUniformLocation(this.ID, uniforms[i]);\n\t\t}\n\t}\n\n\tthis.attributes.enable = function (attributeName) {\n\t\tglContext.enableVertexAttribArray(this[attributeName]);\n\t}\n\n\tthis.attributes.disable = function (attributeName) {\n\t\tglContext.disableVertexAttribArray(this[attributeName]);\n\t}\n\n\tif (attributes) {\n\t\tfor (let i = 0; i < attributes.length; i++) {\n\t\t\tthis.attributes[attributes[i]] = glContext.getAttribLocation(this.ID, attributes[i]);\n\t\t}\n\t}\n\n\tthis.use = function (glContext) {\n\t\tglContext.useProgram(this.ID);\n\t}\n}\n\n\n\n\n\n/*\n * Copyright (C) 2009 Apple Inc. All Rights Reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS'' AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n/*\n\t taken from: https://cvs.khronos.org/svn/repos/registry/trunk/public/webgl/sdk/demos/webkit/resources/J3DI.js\n*/\n\n//\n// makeSphere\n//\n// Create a sphere with the passed number of latitude and longitude bands and the passed radius.\n// Sphere has vertices, normals and texCoords. Create VBOs for each as well as the index array.\n// Return an object with the following properties:\n//\n//  normalObject        WebGLBuffer object for normals\n//  texCoordObject      WebGLBuffer object for texCoords\n//  vertexObject        WebGLBuffer object for vertices\n//  indexObject         WebGLBuffer object for indices\n//  numIndices          The number of indices in the indexObject\n//\nfunction makeSphere(ctx, radius, lats, longs) {\n\tvar geometryData = [];\n\tvar normalData = [];\n\tvar texCoordData = [];\n\tvar indexData = [];\n\n\tfor (var latNumber = 0; latNumber <= lats; ++latNumber) {\n\t\tfor (var longNumber = 0; longNumber <= longs; ++longNumber) {\n\t\t\tvar theta = latNumber * Math.PI / lats;\n\t\t\tvar phi = longNumber * 2 * Math.PI / longs;\n\t\t\tvar sinTheta = Math.sin(theta);\n\t\t\tvar sinPhi = Math.sin(phi);\n\t\t\tvar cosTheta = Math.cos(theta);\n\t\t\tvar cosPhi = Math.cos(phi);\n\n\t\t\tvar x = cosPhi * sinTheta;\n\t\t\tvar y = cosTheta;\n\t\t\tvar z = sinPhi * sinTheta;\n\t\t\tvar u = 1 - (longNumber / longs);\n\t\t\tvar v = latNumber / lats;\n\n\t\t\tnormalData.push(x);\n\t\t\tnormalData.push(y);\n\t\t\tnormalData.push(z);\n\t\t\ttexCoordData.push(u);\n\t\t\ttexCoordData.push(v);\n\t\t\tgeometryData.push(radius * x);\n\t\t\tgeometryData.push(radius * y);\n\t\t\tgeometryData.push(radius * z);\n\t\t}\n\t}\n\n\tfor (var latNumber = 0; latNumber < lats; ++latNumber) {\n\t\tfor (var longNumber = 0; longNumber < longs; ++longNumber) {\n\t\t\tvar first = (latNumber * (longs + 1)) + longNumber;\n\t\t\tvar second = first + longs + 1;\n\t\t\tindexData.push(first);\n\t\t\tindexData.push(second);\n\t\t\tindexData.push(first + 1);\n\n\t\t\tindexData.push(second);\n\t\t\tindexData.push(second + 1);\n\t\t\tindexData.push(first + 1);\n\t\t}\n\t}\n\n\tvar retval = {};\n\n\tretval.normalObject = ctx.createBuffer();\n\tctx.bindBuffer(ctx.ARRAY_BUFFER, retval.normalObject);\n\tctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(normalData), ctx.STATIC_DRAW);\n\n\tretval.texCoordObject = ctx.createBuffer();\n\tctx.bindBuffer(ctx.ARRAY_BUFFER, retval.texCoordObject);\n\tctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(texCoordData), ctx.STATIC_DRAW);\n\n\tretval.vertexObject = ctx.createBuffer();\n\tctx.bindBuffer(ctx.ARRAY_BUFFER, retval.vertexObject);\n\tctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(geometryData), ctx.STATIC_DRAW);\n\n\tretval.numIndices = indexData.length;\n\tretval.indexObject = ctx.createBuffer();\n\tctx.bindBuffer(ctx.ELEMENT_ARRAY_BUFFER, retval.indexObject);\n\tctx.bufferData(ctx.ELEMENT_ARRAY_BUFFER, new Uint16Array(indexData), ctx.STREAM_DRAW);\n\tretval.indexType = ctx.UNSIGNED_SHORT;\n\n\treturn retval;\n}\n\n\n\n\n\nfunction makePlane(ctx, generateNormal = true, generateTexCoord = true) {\n\tlet geometryData = [\n\t\t-1.0, 1.0, 0.0,\n\t\t-1.0, -1.0, 0.0,\n\t\t1.0, 1.0, 0.0,\n\t\t1.0, -1.0, 0.0,\n\t];\n\tlet normalData = [\n\t\t0.0, 0.0, 1.0,\n\t\t0.0, 0.0, 1.0,\n\t\t0.0, 0.0, 1.0,\n\t\t0.0, 0.0, 1.0,\n\t];\n\tlet texCoordData = [\n\t\t0.0, 1.0, 0.0,\n\t\t1.0, 0.0, 0.0,\n\t\t1.0, 1.0, 0.0,\n\t\t0.0, 0.0, 0.0,\n\t];\n\n\tlet retval = {};\n\n\tif (generateTexCoord) {\n\t\tretval.texCoordObject = ctx.createBuffer();\n\t\tctx.bindBuffer(ctx.ARRAY_BUFFER, retval.texCoordObject);\n\t\tctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(texCoordData), ctx.STATIC_DRAW);\n\t}\n\n\tif (generateNormal) {\n\t\tretval.normalObject = ctx.createBuffer();\n\t\tctx.bindBuffer(ctx.ARRAY_BUFFER, retval.normalObject);\n\t\tctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(normalData), ctx.STATIC_DRAW);\n\t}\n\n\tretval.vertexObject = ctx.createBuffer();\n\tctx.bindBuffer(ctx.ARRAY_BUFFER, retval.vertexObject);\n\tctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(geometryData), ctx.STATIC_DRAW);\n\tretval.numIndices = 4;\n\n\t// retval.numIndices = indexData.length;\n\t// retval.indexObject = ctx.createBuffer();\n\t// ctx.bindBuffer(ctx.ELEMENT_ARRAY_BUFFER, retval.indexObject);\n\t// ctx.bufferData(ctx.ELEMENT_ARRAY_BUFFER, new Uint16Array(indexData), ctx.STREAM_DRAW);\n\t// retval.indexType = ctx.UNSIGNED_SHORT;\n\n\treturn retval;\n}\n\n// Degrees to Radians convert function\nfunction degToRad(degrees) {\n\treturn degrees * Math.PI / 180;\n}\n\nexport {\n\tmakeSphere,\n\tmakePlane,\n\tgetShader,\n\tgetShaderFromURL,\n\tgetShaderFromString,\n\tShaderProgram,\n\trequestAnimationFrame,\n\tcancelAnimationFrame,\n\tcreateWebGLContext,\n\tdegToRad\n};\n","function findIndex(nodes, value, start, stop) {\r\n    // Find the index in the color array for which\r\n    // nodes[index].value <= value < nodes[index + 1]\r\n    if (stop <= start) {\r\n        return start;\r\n    }\r\n    const index = Math.floor(start + (stop - start) / 2);\r\n    const delta = value - nodes[index].value;\r\n    const delta1 = value - nodes[index + 1].value;\r\n    if (delta < 0) {\r\n        return findIndex(nodes, value, start, index - 1);\r\n    }\r\n    else if (delta1 < 0) {\r\n        return index;\r\n    }\r\n    else {\r\n        return findIndex(nodes, value, index + 1, stop);\r\n    }\r\n}\r\nconst linearMixer = (value, lowerNodeValue, upperNodeValue) => {\r\n    const frac = (value - lowerNodeValue) / (upperNodeValue - lowerNodeValue);\r\n    return [1 - frac, frac];\r\n};\r\nconst floorMixer = (_value, _lowerNodeValue, _upperNodeValue) => {\r\n    return [1, 0];\r\n};\r\nconst ceilMixer = (_value, _lowerNodeValue, _upperNodeValue) => {\r\n    return [0, 1];\r\n};\r\nconst roundMixer = (value, lowerNodeValue, upperNodeValue) => {\r\n    if (value - lowerNodeValue < upperNodeValue - value) {\r\n        return [1, 0];\r\n    }\r\n    else {\r\n        return [0, 1];\r\n    }\r\n};\n\nfunction isNode(node) {\r\n    return node.value !== undefined && node.mapped !== undefined;\r\n}\r\nfunction isNodeArray(nodes) {\r\n    return nodes.length > 0 && isNode(nodes[0]);\r\n}\r\nfunction opacityCombination(a, X, b, Y) {\r\n    return a * X + b * Y;\r\n}\r\nfunction colorCombination(a, X, b, Y) {\r\n    return [\r\n        a * X[0] + b * Y[0],\r\n        a * X[1] + b * Y[1],\r\n        a * X[2] + b * Y[2]\r\n    ];\r\n}\r\nfunction ensureMixer(mixer) {\r\n    return mixer ? mixer : linearMixer;\r\n}\r\nfunction createColorMap(colors, scale, mixer) {\r\n    if (!Array.isArray(colors) || colors.length < 1) {\r\n        return noColorMap;\r\n    }\r\n    if (isNodeArray(colors)) {\r\n        return createMapFromNodes(colors, scale, ensureMixer(mixer), colorCombination);\r\n    }\r\n    else {\r\n        return createMapFromArray(colors, scale, ensureMixer(mixer), colorCombination);\r\n    }\r\n}\r\nfunction createOpacityMap(opacities, scale, mixer) {\r\n    if (!Array.isArray(opacities) || opacities.length < 1) {\r\n        return noOpacityMap;\r\n    }\r\n    if (isNodeArray(opacities)) {\r\n        return createMapFromNodes(opacities, scale, ensureMixer(mixer), opacityCombination);\r\n    }\r\n    else {\r\n        return createMapFromArray(opacities, scale, ensureMixer(mixer), opacityCombination);\r\n    }\r\n}\r\nfunction createColorOpacityMap(colorMap, opacityMap) {\r\n    return function (value) {\r\n        return colorMap(value).concat(opacityMap(value));\r\n    };\r\n}\r\nfunction createMapFromNodes(nodes, scale, mixer, linearCombination) {\r\n    const sortedNodes = nodes.sort((a, b) => a.value < b.value ? -1 : 1);\r\n    return function (value) {\r\n        const scaledValue = scale(value);\r\n        const index = findIndex(sortedNodes, scaledValue, 0, sortedNodes.length - 1);\r\n        if (index == 0 && scaledValue < sortedNodes[0].value) {\r\n            return sortedNodes[index].mapped;\r\n        }\r\n        else if (index == sortedNodes.length - 1) {\r\n            return sortedNodes[index].mapped;\r\n        }\r\n        const [coeff0, coeff1] = mixer(scaledValue, sortedNodes[index].value, sortedNodes[index + 1].value);\r\n        return linearCombination(coeff0, sortedNodes[index].mapped, coeff1, sortedNodes[index + 1].mapped);\r\n    };\r\n}\r\nfunction createMapFromArray(arr, scale, mixer, linearCombination) {\r\n    return function (value) {\r\n        const scaledValue = scale(value);\r\n        const indexFloat = (arr.length - 1) * scaledValue;\r\n        if (indexFloat <= 0) {\r\n            return arr[0];\r\n        }\r\n        else if (indexFloat >= arr.length - 1) {\r\n            return arr[arr.length - 1];\r\n        }\r\n        const index = Math.floor(indexFloat);\r\n        const [coeff0, coeff1] = mixer(indexFloat, index, index + 1);\r\n        return linearCombination(coeff0, arr[index], coeff1, arr[index + 1]);\r\n    };\r\n}\r\nfunction noColorMap(_value) {\r\n    return [0, 0, 0];\r\n}\r\nfunction noOpacityMap(_value) {\r\n    return 1;\r\n}\n\nfunction linearScale(domain, range) {\r\n    let [d0, d1] = domain;\r\n    const [r0, r1] = range;\r\n    if (Math.abs(d0 - d1) < Number.EPSILON) {\r\n        d1 = d0 + 1;\r\n    }\r\n    return function (value) {\r\n        return r0 + (r1 - r0) * ((value - d0) / (d1 - d0));\r\n    };\r\n}\n\nexport { ceilMixer, createColorMap, createColorOpacityMap, createOpacityMap, floorMixer, linearMixer, linearScale, roundMixer };\n","const colors = [\r\n    [0, 0, 0],\r\n    [1, 1, 1]\r\n];\n\nconst colors$1 = [\r\n    [0.0, 0.135112, 0.304751],\r\n    [0.0, 0.138068, 0.311105],\r\n    [0.0, 0.141013, 0.317579],\r\n    [0.0, 0.143951, 0.323982],\r\n    [0.0, 0.146877, 0.330479],\r\n    [0.0, 0.149791, 0.337065],\r\n    [0.0, 0.152673, 0.343704],\r\n    [0.0, 0.155377, 0.3505],\r\n    [0.0, 0.157932, 0.357521],\r\n    [0.0, 0.160495, 0.364534],\r\n    [0.0, 0.163058, 0.371608],\r\n    [0.0, 0.165621, 0.378769],\r\n    [0.0, 0.168204, 0.385902],\r\n    [0.0, 0.1708, 0.3931],\r\n    [0.0, 0.17342, 0.400353],\r\n    [0.0, 0.176082, 0.407577],\r\n    [0.0, 0.178802, 0.414764],\r\n    [0.0, 0.18161, 0.421859],\r\n    [0.0, 0.18455, 0.428802],\r\n    [0.0, 0.186915, 0.435532],\r\n    [0.0, 0.188769, 0.439563],\r\n    [0.0, 0.19095, 0.441085],\r\n    [0.0, 0.193366, 0.441561],\r\n    [0.003602, 0.195911, 0.441564],\r\n    [0.017852, 0.198528, 0.441248],\r\n    [0.03211, 0.201199, 0.440785],\r\n    [0.046205, 0.203903, 0.440196],\r\n    [0.058378, 0.206629, 0.439531],\r\n    [0.068968, 0.209372, 0.438863],\r\n    [0.078624, 0.212122, 0.438105],\r\n    [0.087465, 0.214879, 0.437342],\r\n    [0.095645, 0.217643, 0.436593],\r\n    [0.103401, 0.220406, 0.43579],\r\n    [0.110658, 0.22317, 0.435067],\r\n    [0.117612, 0.225935, 0.434308],\r\n    [0.124291, 0.228697, 0.433547],\r\n    [0.130669, 0.231458, 0.43284],\r\n    [0.13683, 0.234216, 0.432148],\r\n    [0.142852, 0.236972, 0.431404],\r\n    [0.148638, 0.239724, 0.430752],\r\n    [0.154261, 0.242475, 0.43012],\r\n    [0.159733, 0.245221, 0.429528],\r\n    [0.165113, 0.247965, 0.428908],\r\n    [0.170362, 0.250707, 0.428325],\r\n    [0.17549, 0.253444, 0.42779],\r\n    [0.180503, 0.25618, 0.427299],\r\n    [0.185453, 0.258914, 0.426788],\r\n    [0.190303, 0.261644, 0.426329],\r\n    [0.195057, 0.264372, 0.425924],\r\n    [0.199764, 0.267099, 0.425497],\r\n    [0.204385, 0.269823, 0.425126],\r\n    [0.208926, 0.272546, 0.424809],\r\n    [0.213431, 0.275266, 0.42448],\r\n    [0.217863, 0.277985, 0.424206],\r\n    [0.222264, 0.280702, 0.423914],\r\n    [0.226598, 0.283419, 0.423678],\r\n    [0.230871, 0.286134, 0.423498],\r\n    [0.23512, 0.288848, 0.423304],\r\n    [0.239312, 0.291562, 0.423167],\r\n    [0.243485, 0.294274, 0.423014],\r\n    [0.247605, 0.296986, 0.422917],\r\n    [0.251675, 0.299698, 0.422873],\r\n    [0.255731, 0.302409, 0.422814],\r\n    [0.25974, 0.30512, 0.42281],\r\n    [0.263738, 0.307831, 0.422789],\r\n    [0.267693, 0.310542, 0.422821],\r\n    [0.271639, 0.313253, 0.422837],\r\n    [0.275513, 0.315965, 0.422979],\r\n    [0.279411, 0.318677, 0.423031],\r\n    [0.28324, 0.32139, 0.423211],\r\n    [0.287065, 0.324103, 0.423373],\r\n    [0.290884, 0.326816, 0.423517],\r\n    [0.294669, 0.329531, 0.423716],\r\n    [0.298421, 0.332247, 0.423973],\r\n    [0.302169, 0.334963, 0.424213],\r\n    [0.305886, 0.337681, 0.424512],\r\n    [0.309601, 0.340399, 0.42479],\r\n    [0.313287, 0.34312, 0.42512],\r\n    [0.316941, 0.345842, 0.425512],\r\n    [0.320595, 0.348565, 0.425889],\r\n    [0.32425, 0.351289, 0.42625],\r\n    [0.327875, 0.354016, 0.42667],\r\n    [0.331474, 0.356744, 0.427144],\r\n    [0.335073, 0.359474, 0.427605],\r\n    [0.338673, 0.362206, 0.428053],\r\n    [0.342246, 0.364939, 0.428559],\r\n    [0.345793, 0.367676, 0.429127],\r\n    [0.349341, 0.370414, 0.429685],\r\n    [0.352892, 0.373153, 0.430226],\r\n    [0.356418, 0.375896, 0.430823],\r\n    [0.359916, 0.378641, 0.431501],\r\n    [0.363446, 0.381388, 0.432075],\r\n    [0.366923, 0.384139, 0.432796],\r\n    [0.37043, 0.38689, 0.433428],\r\n    [0.373884, 0.389646, 0.434209],\r\n    [0.377371, 0.392404, 0.43489],\r\n    [0.38083, 0.395164, 0.435653],\r\n    [0.384268, 0.397928, 0.436475],\r\n    [0.387705, 0.400694, 0.437305],\r\n    [0.391151, 0.403464, 0.438096],\r\n    [0.394568, 0.406236, 0.438986],\r\n    [0.397991, 0.409011, 0.439848],\r\n    [0.401418, 0.41179, 0.440708],\r\n    [0.40482, 0.414572, 0.441642],\r\n    [0.408226, 0.417357, 0.44257],\r\n    [0.411607, 0.420145, 0.443577],\r\n    [0.414992, 0.422937, 0.444578],\r\n    [0.418383, 0.425733, 0.44556],\r\n    [0.421748, 0.428531, 0.44664],\r\n    [0.42512, 0.431334, 0.447692],\r\n    [0.428462, 0.43414, 0.448864],\r\n    [0.431817, 0.43695, 0.449982],\r\n    [0.435168, 0.439763, 0.451134],\r\n    [0.438504, 0.44258, 0.452341],\r\n    [0.44181, 0.445402, 0.453659],\r\n    [0.445148, 0.448226, 0.454885],\r\n    [0.448447, 0.451053, 0.456264],\r\n    [0.451759, 0.453887, 0.457582],\r\n    [0.455072, 0.456718, 0.458976],\r\n    [0.458366, 0.459552, 0.460457],\r\n    [0.461616, 0.462405, 0.461969],\r\n    [0.464947, 0.465241, 0.463395],\r\n    [0.468254, 0.468083, 0.464908],\r\n    [0.471501, 0.47096, 0.466357],\r\n    [0.474812, 0.473832, 0.467681],\r\n    [0.478186, 0.476699, 0.468845],\r\n    [0.481622, 0.479573, 0.469767],\r\n    [0.485141, 0.482451, 0.470384],\r\n    [0.488697, 0.485318, 0.471008],\r\n    [0.492278, 0.488198, 0.471453],\r\n    [0.495913, 0.491076, 0.471751],\r\n    [0.499552, 0.49396, 0.472032],\r\n    [0.503185, 0.496851, 0.472305],\r\n    [0.506866, 0.499743, 0.472432],\r\n    [0.51054, 0.502643, 0.47255],\r\n    [0.514226, 0.505546, 0.47264],\r\n    [0.51792, 0.508454, 0.472707],\r\n    [0.521643, 0.511367, 0.472639],\r\n    [0.525348, 0.514285, 0.47266],\r\n    [0.529086, 0.517207, 0.472543],\r\n    [0.532829, 0.520135, 0.472401],\r\n    [0.536553, 0.523067, 0.472352],\r\n    [0.540307, 0.526005, 0.472163],\r\n    [0.544069, 0.528948, 0.471947],\r\n    [0.54784, 0.531895, 0.471704],\r\n    [0.551612, 0.534849, 0.471439],\r\n    [0.555393, 0.537807, 0.471147],\r\n    [0.559181, 0.540771, 0.470829],\r\n    [0.562972, 0.543741, 0.470488],\r\n    [0.566802, 0.546715, 0.469988],\r\n    [0.570607, 0.549695, 0.469593],\r\n    [0.574417, 0.552682, 0.469172],\r\n    [0.578236, 0.555673, 0.468724],\r\n    [0.582087, 0.55867, 0.468118],\r\n    [0.585916, 0.561674, 0.467618],\r\n    [0.589753, 0.564682, 0.46709],\r\n    [0.593622, 0.567697, 0.466401],\r\n    [0.597469, 0.570718, 0.465821],\r\n    [0.601354, 0.573743, 0.465074],\r\n    [0.605211, 0.576777, 0.464441],\r\n    [0.609105, 0.579816, 0.463638],\r\n    [0.612977, 0.582861, 0.46295],\r\n    [0.616852, 0.585913, 0.462237],\r\n    [0.620765, 0.58897, 0.461351],\r\n    [0.624654, 0.592034, 0.460583],\r\n    [0.628576, 0.595104, 0.459641],\r\n    [0.632506, 0.59818, 0.458668],\r\n    [0.636412, 0.601264, 0.457818],\r\n    [0.640352, 0.604354, 0.456791],\r\n    [0.64427, 0.60745, 0.455886],\r\n    [0.648222, 0.610553, 0.454801],\r\n    [0.652178, 0.613664, 0.453689],\r\n    [0.656114, 0.61678, 0.452702],\r\n    [0.660082, 0.619904, 0.451534],\r\n    [0.664055, 0.623034, 0.450338],\r\n    [0.668008, 0.626171, 0.44927],\r\n    [0.671991, 0.629316, 0.448018],\r\n    [0.675981, 0.632468, 0.446736],\r\n    [0.679979, 0.635626, 0.445424],\r\n    [0.68395, 0.638793, 0.444251],\r\n    [0.687957, 0.641966, 0.442886],\r\n    [0.691971, 0.645145, 0.441491],\r\n    [0.695985, 0.648334, 0.440072],\r\n    [0.700008, 0.651529, 0.438624],\r\n    [0.704037, 0.654731, 0.437147],\r\n    [0.708067, 0.657942, 0.435647],\r\n    [0.712105, 0.66116, 0.434117],\r\n    [0.716177, 0.664384, 0.432386],\r\n    [0.720222, 0.667618, 0.430805],\r\n    [0.724274, 0.670859, 0.429194],\r\n    [0.728334, 0.674107, 0.427554],\r\n    [0.732422, 0.677364, 0.425717],\r\n    [0.736488, 0.680629, 0.424028],\r\n    [0.740589, 0.6839, 0.422131],\r\n    [0.744664, 0.687181, 0.420393],\r\n    [0.748772, 0.69047, 0.418448],\r\n    [0.752886, 0.693766, 0.416472],\r\n    [0.756975, 0.697071, 0.414659],\r\n    [0.761096, 0.700384, 0.412638],\r\n    [0.765223, 0.703705, 0.410587],\r\n    [0.769353, 0.707035, 0.408516],\r\n    [0.773486, 0.710373, 0.406422],\r\n    [0.777651, 0.713719, 0.404112],\r\n    [0.781795, 0.717074, 0.401966],\r\n    [0.785965, 0.720438, 0.399613],\r\n    [0.790116, 0.72381, 0.397423],\r\n    [0.794298, 0.72719, 0.395016],\r\n    [0.79848, 0.73058, 0.392597],\r\n    [0.802667, 0.733978, 0.390153],\r\n    [0.806859, 0.737385, 0.387684],\r\n    [0.811054, 0.740801, 0.385198],\r\n    [0.815274, 0.744226, 0.382504],\r\n    [0.819499, 0.747659, 0.379785],\r\n    [0.823729, 0.751101, 0.377043],\r\n    [0.827959, 0.754553, 0.374292],\r\n    [0.832192, 0.758014, 0.371529],\r\n    [0.836429, 0.761483, 0.368747],\r\n    [0.840693, 0.764962, 0.365746],\r\n    [0.844957, 0.76845, 0.362741],\r\n    [0.849223, 0.771947, 0.359729],\r\n    [0.853515, 0.775454, 0.3565],\r\n    [0.857809, 0.778969, 0.353259],\r\n    [0.862105, 0.782494, 0.350011],\r\n    [0.866421, 0.786028, 0.346571],\r\n    [0.870717, 0.789572, 0.343333],\r\n    [0.875057, 0.793125, 0.339685],\r\n    [0.879378, 0.796687, 0.336241],\r\n    [0.88372, 0.800258, 0.332599],\r\n    [0.888081, 0.803839, 0.32877],\r\n    [0.89244, 0.80743, 0.324968],\r\n    [0.896818, 0.81103, 0.320982],\r\n    [0.901195, 0.814639, 0.317021],\r\n    [0.905589, 0.818257, 0.312889],\r\n    [0.91, 0.821885, 0.308594],\r\n    [0.914407, 0.825522, 0.304348],\r\n    [0.918828, 0.829168, 0.29996],\r\n    [0.923279, 0.832822, 0.295244],\r\n    [0.927724, 0.836486, 0.290611],\r\n    [0.93218, 0.840159, 0.28588],\r\n    [0.93666, 0.843841, 0.280876],\r\n    [0.941147, 0.84753, 0.275815],\r\n    [0.945654, 0.851228, 0.270532],\r\n    [0.950178, 0.854933, 0.265085],\r\n    [0.954725, 0.858646, 0.259365],\r\n    [0.959284, 0.862365, 0.253563],\r\n    [0.963872, 0.866089, 0.247445],\r\n    [0.968469, 0.869819, 0.24131],\r\n    [0.973114, 0.87355, 0.234677],\r\n    [0.97778, 0.877281, 0.227954],\r\n    [0.982497, 0.881008, 0.220878],\r\n    [0.987293, 0.884718, 0.213336],\r\n    [0.992218, 0.888385, 0.205468],\r\n    [0.994847, 0.892954, 0.203445],\r\n    [0.995249, 0.898384, 0.207561],\r\n    [0.995503, 0.903866, 0.21237],\r\n    [0.995737, 0.909344, 0.217772]\r\n];\n\nconst colors$2 = [\r\n    [0.001462, 0.000466, 0.013866],\r\n    [0.002267, 0.00127, 0.01857],\r\n    [0.003299, 0.002249, 0.024239],\r\n    [0.004547, 0.003392, 0.030909],\r\n    [0.006006, 0.004692, 0.038558],\r\n    [0.007676, 0.006136, 0.046836],\r\n    [0.009561, 0.007713, 0.055143],\r\n    [0.011663, 0.009417, 0.06346],\r\n    [0.013995, 0.011225, 0.071862],\r\n    [0.016561, 0.013136, 0.080282],\r\n    [0.019373, 0.015133, 0.088767],\r\n    [0.022447, 0.017199, 0.097327],\r\n    [0.025793, 0.019331, 0.10593],\r\n    [0.029432, 0.021503, 0.114621],\r\n    [0.033385, 0.023702, 0.123397],\r\n    [0.037668, 0.025921, 0.132232],\r\n    [0.042253, 0.028139, 0.141141],\r\n    [0.046915, 0.030324, 0.150164],\r\n    [0.051644, 0.032474, 0.159254],\r\n    [0.056449, 0.034569, 0.168414],\r\n    [0.06134, 0.03659, 0.177642],\r\n    [0.066331, 0.038504, 0.186962],\r\n    [0.071429, 0.040294, 0.196354],\r\n    [0.076637, 0.041905, 0.205799],\r\n    [0.081962, 0.043328, 0.215289],\r\n    [0.087411, 0.044556, 0.224813],\r\n    [0.09299, 0.045583, 0.234358],\r\n    [0.098702, 0.046402, 0.243904],\r\n    [0.104551, 0.047008, 0.25343],\r\n    [0.110536, 0.047399, 0.262912],\r\n    [0.116656, 0.047574, 0.272321],\r\n    [0.122908, 0.047536, 0.281624],\r\n    [0.129285, 0.047293, 0.290788],\r\n    [0.135778, 0.046856, 0.299776],\r\n    [0.142378, 0.046242, 0.308553],\r\n    [0.149073, 0.045468, 0.317085],\r\n    [0.15585, 0.044559, 0.325338],\r\n    [0.162689, 0.043554, 0.333277],\r\n    [0.169575, 0.042489, 0.340874],\r\n    [0.176493, 0.041402, 0.348111],\r\n    [0.183429, 0.040329, 0.354971],\r\n    [0.190367, 0.039309, 0.361447],\r\n    [0.197297, 0.0384, 0.367535],\r\n    [0.204209, 0.037632, 0.373238],\r\n    [0.211095, 0.03703, 0.378563],\r\n    [0.217949, 0.036615, 0.383522],\r\n    [0.224763, 0.036405, 0.388129],\r\n    [0.231538, 0.036405, 0.3924],\r\n    [0.238273, 0.036621, 0.396353],\r\n    [0.244967, 0.037055, 0.400007],\r\n    [0.25162, 0.037705, 0.403378],\r\n    [0.258234, 0.038571, 0.406485],\r\n    [0.26481, 0.039647, 0.409345],\r\n    [0.271347, 0.040922, 0.411976],\r\n    [0.27785, 0.042353, 0.414392],\r\n    [0.284321, 0.043933, 0.416608],\r\n    [0.290763, 0.045644, 0.418637],\r\n    [0.297178, 0.04747, 0.420491],\r\n    [0.303568, 0.049396, 0.422182],\r\n    [0.309935, 0.051407, 0.423721],\r\n    [0.316282, 0.05349, 0.425116],\r\n    [0.32261, 0.055634, 0.426377],\r\n    [0.328921, 0.057827, 0.427511],\r\n    [0.335217, 0.06006, 0.428524],\r\n    [0.3415, 0.062325, 0.429425],\r\n    [0.347771, 0.064616, 0.430217],\r\n    [0.354032, 0.066925, 0.430906],\r\n    [0.360284, 0.069247, 0.431497],\r\n    [0.366529, 0.071579, 0.431994],\r\n    [0.372768, 0.073915, 0.4324],\r\n    [0.379001, 0.076253, 0.432719],\r\n    [0.385228, 0.078591, 0.432955],\r\n    [0.391453, 0.080927, 0.433109],\r\n    [0.397674, 0.083257, 0.433183],\r\n    [0.403894, 0.08558, 0.433179],\r\n    [0.410113, 0.087896, 0.433098],\r\n    [0.416331, 0.090203, 0.432943],\r\n    [0.422549, 0.092501, 0.432714],\r\n    [0.428768, 0.09479, 0.432412],\r\n    [0.434987, 0.097069, 0.432039],\r\n    [0.441207, 0.099338, 0.431594],\r\n    [0.447428, 0.101597, 0.43108],\r\n    [0.453651, 0.103848, 0.430498],\r\n    [0.459875, 0.106089, 0.429846],\r\n    [0.4661, 0.108322, 0.429125],\r\n    [0.472328, 0.110547, 0.428334],\r\n    [0.478558, 0.112764, 0.427475],\r\n    [0.484789, 0.114974, 0.426548],\r\n    [0.491022, 0.117179, 0.425552],\r\n    [0.497257, 0.119379, 0.424488],\r\n    [0.503493, 0.121575, 0.423356],\r\n    [0.50973, 0.123769, 0.422156],\r\n    [0.515967, 0.12596, 0.420887],\r\n    [0.522206, 0.12815, 0.419549],\r\n    [0.528444, 0.130341, 0.418142],\r\n    [0.534683, 0.132534, 0.416667],\r\n    [0.54092, 0.134729, 0.415123],\r\n    [0.547157, 0.136929, 0.413511],\r\n    [0.553392, 0.139134, 0.411829],\r\n    [0.559624, 0.141346, 0.410078],\r\n    [0.565854, 0.143567, 0.408258],\r\n    [0.572081, 0.145797, 0.406369],\r\n    [0.578304, 0.148039, 0.404411],\r\n    [0.584521, 0.150294, 0.402385],\r\n    [0.590734, 0.152563, 0.40029],\r\n    [0.59694, 0.154848, 0.398125],\r\n    [0.603139, 0.157151, 0.395891],\r\n    [0.60933, 0.159474, 0.393589],\r\n    [0.615513, 0.161817, 0.391219],\r\n    [0.621685, 0.164184, 0.388781],\r\n    [0.627847, 0.166575, 0.386276],\r\n    [0.633998, 0.168992, 0.383704],\r\n    [0.640135, 0.171438, 0.381065],\r\n    [0.64626, 0.173914, 0.378359],\r\n    [0.652369, 0.176421, 0.375586],\r\n    [0.658463, 0.178962, 0.372748],\r\n    [0.66454, 0.181539, 0.369846],\r\n    [0.670599, 0.184153, 0.366879],\r\n    [0.676638, 0.186807, 0.363849],\r\n    [0.682656, 0.189501, 0.360757],\r\n    [0.688653, 0.192239, 0.357603],\r\n    [0.694627, 0.195021, 0.354388],\r\n    [0.700576, 0.197851, 0.351113],\r\n    [0.7065, 0.200728, 0.347777],\r\n    [0.712396, 0.203656, 0.344383],\r\n    [0.718264, 0.206636, 0.340931],\r\n    [0.724103, 0.20967, 0.337424],\r\n    [0.729909, 0.212759, 0.333861],\r\n    [0.735683, 0.215906, 0.330245],\r\n    [0.741423, 0.219112, 0.326576],\r\n    [0.747127, 0.222378, 0.322856],\r\n    [0.752794, 0.225706, 0.319085],\r\n    [0.758422, 0.229097, 0.315266],\r\n    [0.76401, 0.232554, 0.311399],\r\n    [0.769556, 0.236077, 0.307485],\r\n    [0.775059, 0.239667, 0.303526],\r\n    [0.780517, 0.243327, 0.299523],\r\n    [0.785929, 0.247056, 0.295477],\r\n    [0.791293, 0.250856, 0.29139],\r\n    [0.796607, 0.254728, 0.287264],\r\n    [0.801871, 0.258674, 0.283099],\r\n    [0.807082, 0.262692, 0.278898],\r\n    [0.812239, 0.266786, 0.274661],\r\n    [0.817341, 0.270954, 0.27039],\r\n    [0.822386, 0.275197, 0.266085],\r\n    [0.827372, 0.279517, 0.26175],\r\n    [0.832299, 0.283913, 0.257383],\r\n    [0.837165, 0.288385, 0.252988],\r\n    [0.841969, 0.292933, 0.248564],\r\n    [0.846709, 0.297559, 0.244113],\r\n    [0.851384, 0.30226, 0.239636],\r\n    [0.855992, 0.307038, 0.235133],\r\n    [0.860533, 0.311892, 0.230606],\r\n    [0.865006, 0.316822, 0.226055],\r\n    [0.869409, 0.321827, 0.221482],\r\n    [0.873741, 0.326906, 0.216886],\r\n    [0.878001, 0.33206, 0.212268],\r\n    [0.882188, 0.337287, 0.207628],\r\n    [0.886302, 0.342586, 0.202968],\r\n    [0.890341, 0.347957, 0.198286],\r\n    [0.894305, 0.353399, 0.193584],\r\n    [0.898192, 0.358911, 0.18886],\r\n    [0.902003, 0.364492, 0.184116],\r\n    [0.905735, 0.37014, 0.17935],\r\n    [0.90939, 0.375856, 0.174563],\r\n    [0.912966, 0.381636, 0.169755],\r\n    [0.916462, 0.387481, 0.164924],\r\n    [0.919879, 0.393389, 0.16007],\r\n    [0.923215, 0.399359, 0.155193],\r\n    [0.92647, 0.405389, 0.150292],\r\n    [0.929644, 0.411479, 0.145367],\r\n    [0.932737, 0.417627, 0.140417],\r\n    [0.935747, 0.423831, 0.13544],\r\n    [0.938675, 0.430091, 0.130438],\r\n    [0.941521, 0.436405, 0.125409],\r\n    [0.944285, 0.442772, 0.120354],\r\n    [0.946965, 0.449191, 0.115272],\r\n    [0.949562, 0.45566, 0.110164],\r\n    [0.952075, 0.462178, 0.105031],\r\n    [0.954506, 0.468744, 0.099874],\r\n    [0.956852, 0.475356, 0.094695],\r\n    [0.959114, 0.482014, 0.089499],\r\n    [0.961293, 0.488716, 0.084289],\r\n    [0.963387, 0.495462, 0.079073],\r\n    [0.965397, 0.502249, 0.073859],\r\n    [0.967322, 0.509078, 0.068659],\r\n    [0.969163, 0.515946, 0.063488],\r\n    [0.970919, 0.522853, 0.058367],\r\n    [0.97259, 0.529798, 0.053324],\r\n    [0.974176, 0.53678, 0.048392],\r\n    [0.975677, 0.543798, 0.043618],\r\n    [0.977092, 0.55085, 0.03905],\r\n    [0.978422, 0.557937, 0.034931],\r\n    [0.979666, 0.565057, 0.031409],\r\n    [0.980824, 0.572209, 0.028508],\r\n    [0.981895, 0.579392, 0.02625],\r\n    [0.982881, 0.586606, 0.024661],\r\n    [0.983779, 0.593849, 0.02377],\r\n    [0.984591, 0.601122, 0.023606],\r\n    [0.985315, 0.608422, 0.024202],\r\n    [0.985952, 0.61575, 0.025592],\r\n    [0.986502, 0.623105, 0.027814],\r\n    [0.986964, 0.630485, 0.030908],\r\n    [0.987337, 0.63789, 0.034916],\r\n    [0.987622, 0.64532, 0.039886],\r\n    [0.987819, 0.652773, 0.045581],\r\n    [0.987926, 0.66025, 0.05175],\r\n    [0.987945, 0.667748, 0.058329],\r\n    [0.987874, 0.675267, 0.065257],\r\n    [0.987714, 0.682807, 0.072489],\r\n    [0.987464, 0.690366, 0.07999],\r\n    [0.987124, 0.697944, 0.087731],\r\n    [0.986694, 0.70554, 0.095694],\r\n    [0.986175, 0.713153, 0.103863],\r\n    [0.985566, 0.720782, 0.112229],\r\n    [0.984865, 0.728427, 0.120785],\r\n    [0.984075, 0.736087, 0.129527],\r\n    [0.983196, 0.743758, 0.138453],\r\n    [0.982228, 0.751442, 0.147565],\r\n    [0.981173, 0.759135, 0.156863],\r\n    [0.980032, 0.766837, 0.166353],\r\n    [0.978806, 0.774545, 0.176037],\r\n    [0.977497, 0.782258, 0.185923],\r\n    [0.976108, 0.789974, 0.196018],\r\n    [0.974638, 0.797692, 0.206332],\r\n    [0.973088, 0.805409, 0.216877],\r\n    [0.971468, 0.813122, 0.227658],\r\n    [0.969783, 0.820825, 0.238686],\r\n    [0.968041, 0.828515, 0.249972],\r\n    [0.966243, 0.836191, 0.261534],\r\n    [0.964394, 0.843848, 0.273391],\r\n    [0.962517, 0.851476, 0.285546],\r\n    [0.960626, 0.859069, 0.29801],\r\n    [0.95872, 0.866624, 0.31082],\r\n    [0.956834, 0.874129, 0.323974],\r\n    [0.954997, 0.881569, 0.337475],\r\n    [0.953215, 0.888942, 0.351369],\r\n    [0.951546, 0.896226, 0.365627],\r\n    [0.950018, 0.903409, 0.380271],\r\n    [0.948683, 0.910473, 0.395289],\r\n    [0.947594, 0.917399, 0.410665],\r\n    [0.946809, 0.924168, 0.426373],\r\n    [0.946392, 0.930761, 0.442367],\r\n    [0.946403, 0.937159, 0.458592],\r\n    [0.946903, 0.943348, 0.47497],\r\n    [0.947937, 0.949318, 0.491426],\r\n    [0.949545, 0.955063, 0.50786],\r\n    [0.95174, 0.960587, 0.524203],\r\n    [0.954529, 0.965896, 0.540361],\r\n    [0.957896, 0.971003, 0.556275],\r\n    [0.961812, 0.975924, 0.571925],\r\n    [0.966249, 0.980678, 0.587206],\r\n    [0.971162, 0.985282, 0.602154],\r\n    [0.976511, 0.989753, 0.61676],\r\n    [0.982257, 0.994109, 0.631017],\r\n    [0.988362, 0.998364, 0.644924]\r\n];\n\nconst colors$3 = [\r\n    [0.001462, 0.000466, 0.013866],\r\n    [0.002258, 0.001295, 0.018331],\r\n    [0.003279, 0.002305, 0.023708],\r\n    [0.004512, 0.00349, 0.029965],\r\n    [0.00595, 0.004843, 0.03713],\r\n    [0.007588, 0.006356, 0.044973],\r\n    [0.009426, 0.008022, 0.052844],\r\n    [0.011465, 0.009828, 0.06075],\r\n    [0.013708, 0.011771, 0.068667],\r\n    [0.016156, 0.01384, 0.076603],\r\n    [0.018815, 0.016026, 0.084584],\r\n    [0.021692, 0.01832, 0.09261],\r\n    [0.024792, 0.020715, 0.100676],\r\n    [0.028123, 0.023201, 0.108787],\r\n    [0.031696, 0.025765, 0.116965],\r\n    [0.03552, 0.028397, 0.125209],\r\n    [0.039608, 0.03109, 0.133515],\r\n    [0.04383, 0.03383, 0.141886],\r\n    [0.048062, 0.036607, 0.150327],\r\n    [0.05232, 0.039407, 0.158841],\r\n    [0.056615, 0.04216, 0.167446],\r\n    [0.060949, 0.044794, 0.176129],\r\n    [0.06533, 0.047318, 0.184892],\r\n    [0.069764, 0.049726, 0.193735],\r\n    [0.074257, 0.052017, 0.20266],\r\n    [0.078815, 0.054184, 0.211667],\r\n    [0.083446, 0.056225, 0.220755],\r\n    [0.088155, 0.058133, 0.229922],\r\n    [0.092949, 0.059904, 0.239164],\r\n    [0.097833, 0.061531, 0.248477],\r\n    [0.102815, 0.06301, 0.257854],\r\n    [0.107899, 0.064335, 0.267289],\r\n    [0.113094, 0.065492, 0.276784],\r\n    [0.118405, 0.066479, 0.286321],\r\n    [0.123833, 0.067295, 0.295879],\r\n    [0.12938, 0.067935, 0.305443],\r\n    [0.135053, 0.068391, 0.315],\r\n    [0.140858, 0.068654, 0.324538],\r\n    [0.146785, 0.068738, 0.334011],\r\n    [0.152839, 0.068637, 0.343404],\r\n    [0.159018, 0.068354, 0.352688],\r\n    [0.165308, 0.067911, 0.361816],\r\n    [0.171713, 0.067305, 0.370771],\r\n    [0.178212, 0.066576, 0.379497],\r\n    [0.184801, 0.065732, 0.387973],\r\n    [0.19146, 0.064818, 0.396152],\r\n    [0.198177, 0.063862, 0.404009],\r\n    [0.204935, 0.062907, 0.411514],\r\n    [0.211718, 0.061992, 0.418647],\r\n    [0.218512, 0.061158, 0.425392],\r\n    [0.225302, 0.060445, 0.431742],\r\n    [0.232077, 0.059889, 0.437695],\r\n    [0.238826, 0.059517, 0.443256],\r\n    [0.245543, 0.059352, 0.448436],\r\n    [0.25222, 0.059415, 0.453248],\r\n    [0.258857, 0.059706, 0.45771],\r\n    [0.265447, 0.060237, 0.46184],\r\n    [0.271994, 0.060994, 0.46566],\r\n    [0.278493, 0.061978, 0.46919],\r\n    [0.284951, 0.063168, 0.472451],\r\n    [0.291366, 0.064553, 0.475462],\r\n    [0.29774, 0.066117, 0.478243],\r\n    [0.304081, 0.067835, 0.480812],\r\n    [0.310382, 0.069702, 0.483186],\r\n    [0.316654, 0.07169, 0.48538],\r\n    [0.322899, 0.073782, 0.487408],\r\n    [0.329114, 0.075972, 0.489287],\r\n    [0.335308, 0.078236, 0.491024],\r\n    [0.341482, 0.080564, 0.492631],\r\n    [0.347636, 0.082946, 0.494121],\r\n    [0.353773, 0.085373, 0.495501],\r\n    [0.359898, 0.087831, 0.496778],\r\n    [0.366012, 0.090314, 0.49796],\r\n    [0.372116, 0.092816, 0.499053],\r\n    [0.378211, 0.095332, 0.500067],\r\n    [0.384299, 0.097855, 0.501002],\r\n    [0.390384, 0.100379, 0.501864],\r\n    [0.396467, 0.102902, 0.502658],\r\n    [0.402548, 0.10542, 0.503386],\r\n    [0.408629, 0.10793, 0.504052],\r\n    [0.414709, 0.110431, 0.504662],\r\n    [0.420791, 0.11292, 0.505215],\r\n    [0.426877, 0.115395, 0.505714],\r\n    [0.432967, 0.117855, 0.50616],\r\n    [0.439062, 0.120298, 0.506555],\r\n    [0.445163, 0.122724, 0.506901],\r\n    [0.451271, 0.125132, 0.507198],\r\n    [0.457386, 0.127522, 0.507448],\r\n    [0.463508, 0.129893, 0.507652],\r\n    [0.46964, 0.132245, 0.507809],\r\n    [0.47578, 0.134577, 0.507921],\r\n    [0.481929, 0.136891, 0.507989],\r\n    [0.488088, 0.139186, 0.508011],\r\n    [0.494258, 0.141462, 0.507988],\r\n    [0.500438, 0.143719, 0.50792],\r\n    [0.506629, 0.145958, 0.507806],\r\n    [0.512831, 0.148179, 0.507648],\r\n    [0.519045, 0.150383, 0.507443],\r\n    [0.52527, 0.152569, 0.507192],\r\n    [0.531507, 0.154739, 0.506895],\r\n    [0.537755, 0.156894, 0.506551],\r\n    [0.544015, 0.159033, 0.506159],\r\n    [0.550287, 0.161158, 0.505719],\r\n    [0.556571, 0.163269, 0.50523],\r\n    [0.562866, 0.165368, 0.504692],\r\n    [0.569172, 0.167454, 0.504105],\r\n    [0.57549, 0.16953, 0.503466],\r\n    [0.581819, 0.171596, 0.502777],\r\n    [0.588158, 0.173652, 0.502035],\r\n    [0.594508, 0.175701, 0.501241],\r\n    [0.600868, 0.177743, 0.500394],\r\n    [0.607238, 0.179779, 0.499492],\r\n    [0.613617, 0.181811, 0.498536],\r\n    [0.620005, 0.18384, 0.497524],\r\n    [0.626401, 0.185867, 0.496456],\r\n    [0.632805, 0.187893, 0.495332],\r\n    [0.639216, 0.189921, 0.49415],\r\n    [0.645633, 0.191952, 0.49291],\r\n    [0.652056, 0.193986, 0.491611],\r\n    [0.658483, 0.196027, 0.490253],\r\n    [0.664915, 0.198075, 0.488836],\r\n    [0.671349, 0.200133, 0.487358],\r\n    [0.677786, 0.202203, 0.485819],\r\n    [0.684224, 0.204286, 0.484219],\r\n    [0.690661, 0.206384, 0.482558],\r\n    [0.697098, 0.208501, 0.480835],\r\n    [0.703532, 0.210638, 0.479049],\r\n    [0.709962, 0.212797, 0.477201],\r\n    [0.716387, 0.214982, 0.47529],\r\n    [0.722805, 0.217194, 0.473316],\r\n    [0.729216, 0.219437, 0.471279],\r\n    [0.735616, 0.221713, 0.46918],\r\n    [0.742004, 0.224025, 0.467018],\r\n    [0.748378, 0.226377, 0.464794],\r\n    [0.754737, 0.228772, 0.462509],\r\n    [0.761077, 0.231214, 0.460162],\r\n    [0.767398, 0.233705, 0.457755],\r\n    [0.773695, 0.236249, 0.455289],\r\n    [0.779968, 0.238851, 0.452765],\r\n    [0.786212, 0.241514, 0.450184],\r\n    [0.792427, 0.244242, 0.447543],\r\n    [0.798608, 0.24704, 0.444848],\r\n    [0.804752, 0.249911, 0.442102],\r\n    [0.810855, 0.252861, 0.439305],\r\n    [0.816914, 0.255895, 0.436461],\r\n    [0.822926, 0.259016, 0.433573],\r\n    [0.828886, 0.262229, 0.430644],\r\n    [0.834791, 0.26554, 0.427671],\r\n    [0.840636, 0.268953, 0.424666],\r\n    [0.846416, 0.272473, 0.421631],\r\n    [0.852126, 0.276106, 0.418573],\r\n    [0.857763, 0.279857, 0.415496],\r\n    [0.86332, 0.283729, 0.412403],\r\n    [0.868793, 0.287728, 0.409303],\r\n    [0.874176, 0.291859, 0.406205],\r\n    [0.879464, 0.296125, 0.403118],\r\n    [0.884651, 0.30053, 0.400047],\r\n    [0.889731, 0.305079, 0.397002],\r\n    [0.8947, 0.309773, 0.393995],\r\n    [0.899552, 0.314616, 0.391037],\r\n    [0.904281, 0.31961, 0.388137],\r\n    [0.908884, 0.324755, 0.385308],\r\n    [0.913354, 0.330052, 0.382563],\r\n    [0.917689, 0.3355, 0.379915],\r\n    [0.921884, 0.341098, 0.377376],\r\n    [0.925937, 0.346844, 0.374959],\r\n    [0.929845, 0.352734, 0.372677],\r\n    [0.933606, 0.358764, 0.370541],\r\n    [0.937221, 0.364929, 0.368567],\r\n    [0.940687, 0.371224, 0.366762],\r\n    [0.944006, 0.377643, 0.365136],\r\n    [0.94718, 0.384178, 0.363701],\r\n    [0.95021, 0.39082, 0.362468],\r\n    [0.953099, 0.397563, 0.361438],\r\n    [0.955849, 0.4044, 0.360619],\r\n    [0.958464, 0.411324, 0.360014],\r\n    [0.960949, 0.418323, 0.35963],\r\n    [0.96331, 0.42539, 0.359469],\r\n    [0.965549, 0.432519, 0.359529],\r\n    [0.967671, 0.439703, 0.35981],\r\n    [0.96968, 0.446936, 0.360311],\r\n    [0.971582, 0.45421, 0.36103],\r\n    [0.973381, 0.46152, 0.361965],\r\n    [0.975082, 0.468861, 0.363111],\r\n    [0.97669, 0.476226, 0.364466],\r\n    [0.97821, 0.483612, 0.366025],\r\n    [0.979645, 0.491014, 0.367783],\r\n    [0.981, 0.498428, 0.369734],\r\n    [0.982279, 0.505851, 0.371874],\r\n    [0.983485, 0.51328, 0.374198],\r\n    [0.984622, 0.520713, 0.376698],\r\n    [0.985693, 0.528148, 0.379371],\r\n    [0.9867, 0.535582, 0.38221],\r\n    [0.987646, 0.543015, 0.38521],\r\n    [0.988533, 0.550446, 0.388365],\r\n    [0.989363, 0.557873, 0.391671],\r\n    [0.990138, 0.565296, 0.395122],\r\n    [0.990871, 0.572706, 0.398714],\r\n    [0.991558, 0.580107, 0.402441],\r\n    [0.992196, 0.587502, 0.406299],\r\n    [0.992785, 0.594891, 0.410283],\r\n    [0.993326, 0.602275, 0.41439],\r\n    [0.993834, 0.609644, 0.418613],\r\n    [0.994309, 0.616999, 0.42295],\r\n    [0.994738, 0.62435, 0.427397],\r\n    [0.995122, 0.631696, 0.431951],\r\n    [0.99548, 0.639027, 0.436607],\r\n    [0.99581, 0.646344, 0.441361],\r\n    [0.996096, 0.653659, 0.446213],\r\n    [0.996341, 0.660969, 0.45116],\r\n    [0.99658, 0.668256, 0.456192],\r\n    [0.996775, 0.675541, 0.461314],\r\n    [0.996925, 0.682828, 0.466526],\r\n    [0.997077, 0.690088, 0.471811],\r\n    [0.997186, 0.697349, 0.477182],\r\n    [0.997254, 0.704611, 0.482635],\r\n    [0.997325, 0.711848, 0.488154],\r\n    [0.997351, 0.719089, 0.493755],\r\n    [0.997351, 0.726324, 0.499428],\r\n    [0.997341, 0.733545, 0.505167],\r\n    [0.997285, 0.740772, 0.510983],\r\n    [0.997228, 0.747981, 0.516859],\r\n    [0.997138, 0.75519, 0.522806],\r\n    [0.997019, 0.762398, 0.528821],\r\n    [0.996898, 0.769591, 0.534892],\r\n    [0.996727, 0.776795, 0.541039],\r\n    [0.996571, 0.783977, 0.547233],\r\n    [0.996369, 0.791167, 0.553499],\r\n    [0.996162, 0.798348, 0.55982],\r\n    [0.995932, 0.805527, 0.566202],\r\n    [0.99568, 0.812706, 0.572645],\r\n    [0.995424, 0.819875, 0.57914],\r\n    [0.995131, 0.827052, 0.585701],\r\n    [0.994851, 0.834213, 0.592307],\r\n    [0.994524, 0.841387, 0.598983],\r\n    [0.994222, 0.84854, 0.605696],\r\n    [0.993866, 0.855711, 0.612482],\r\n    [0.993545, 0.862859, 0.619299],\r\n    [0.99317, 0.870024, 0.626189],\r\n    [0.992831, 0.877168, 0.633109],\r\n    [0.99244, 0.88433, 0.640099],\r\n    [0.992089, 0.89147, 0.647116],\r\n    [0.991688, 0.898627, 0.654202],\r\n    [0.991332, 0.905763, 0.661309],\r\n    [0.99093, 0.912915, 0.668481],\r\n    [0.99057, 0.920049, 0.675675],\r\n    [0.990175, 0.927196, 0.682926],\r\n    [0.989815, 0.934329, 0.690198],\r\n    [0.989434, 0.94147, 0.697519],\r\n    [0.989077, 0.948604, 0.704863],\r\n    [0.988717, 0.955742, 0.712242],\r\n    [0.988367, 0.962878, 0.719649],\r\n    [0.988033, 0.970012, 0.727077],\r\n    [0.987691, 0.977154, 0.734536],\r\n    [0.987387, 0.984288, 0.742002],\r\n    [0.987053, 0.991438, 0.749504]\r\n];\n\nconst colors$4 = [\r\n    [0.050383, 0.029803, 0.527975],\r\n    [0.063536, 0.028426, 0.533124],\r\n    [0.075353, 0.027206, 0.538007],\r\n    [0.086222, 0.026125, 0.542658],\r\n    [0.096379, 0.025165, 0.547103],\r\n    [0.10598, 0.024309, 0.551368],\r\n    [0.115124, 0.023556, 0.555468],\r\n    [0.123903, 0.022878, 0.559423],\r\n    [0.132381, 0.022258, 0.56325],\r\n    [0.140603, 0.021687, 0.566959],\r\n    [0.148607, 0.021154, 0.570562],\r\n    [0.156421, 0.020651, 0.574065],\r\n    [0.16407, 0.020171, 0.577478],\r\n    [0.171574, 0.019706, 0.580806],\r\n    [0.17895, 0.019252, 0.584054],\r\n    [0.186213, 0.018803, 0.587228],\r\n    [0.193374, 0.018354, 0.59033],\r\n    [0.200445, 0.017902, 0.593364],\r\n    [0.207435, 0.017442, 0.596333],\r\n    [0.21435, 0.016973, 0.599239],\r\n    [0.221197, 0.016497, 0.602083],\r\n    [0.227983, 0.016007, 0.604867],\r\n    [0.234715, 0.015502, 0.607592],\r\n    [0.241396, 0.014979, 0.610259],\r\n    [0.248032, 0.014439, 0.612868],\r\n    [0.254627, 0.013882, 0.615419],\r\n    [0.261183, 0.013308, 0.617911],\r\n    [0.267703, 0.012716, 0.620346],\r\n    [0.274191, 0.012109, 0.622722],\r\n    [0.280648, 0.011488, 0.625038],\r\n    [0.287076, 0.010855, 0.627295],\r\n    [0.293478, 0.010213, 0.62949],\r\n    [0.299855, 0.009561, 0.631624],\r\n    [0.30621, 0.008902, 0.633694],\r\n    [0.312543, 0.008239, 0.6357],\r\n    [0.318856, 0.007576, 0.63764],\r\n    [0.32515, 0.006915, 0.639512],\r\n    [0.331426, 0.006261, 0.641316],\r\n    [0.337683, 0.005618, 0.643049],\r\n    [0.343925, 0.004991, 0.64471],\r\n    [0.35015, 0.004382, 0.646298],\r\n    [0.356359, 0.003798, 0.64781],\r\n    [0.362553, 0.003243, 0.649245],\r\n    [0.368733, 0.002724, 0.650601],\r\n    [0.374897, 0.002245, 0.651876],\r\n    [0.381047, 0.001814, 0.653068],\r\n    [0.387183, 0.001434, 0.654177],\r\n    [0.393304, 0.001114, 0.655199],\r\n    [0.399411, 0.000859, 0.656133],\r\n    [0.405503, 0.000678, 0.656977],\r\n    [0.41158, 0.000577, 0.65773],\r\n    [0.417642, 0.000564, 0.65839],\r\n    [0.423689, 0.000646, 0.658956],\r\n    [0.429719, 0.000831, 0.659425],\r\n    [0.435734, 0.001127, 0.659797],\r\n    [0.441732, 0.00154, 0.660069],\r\n    [0.447714, 0.00208, 0.66024],\r\n    [0.453677, 0.002755, 0.66031],\r\n    [0.459623, 0.003574, 0.660277],\r\n    [0.46555, 0.004545, 0.660139],\r\n    [0.471457, 0.005678, 0.659897],\r\n    [0.477344, 0.00698, 0.659549],\r\n    [0.48321, 0.00846, 0.659095],\r\n    [0.489055, 0.010127, 0.658534],\r\n    [0.494877, 0.01199, 0.657865],\r\n    [0.500678, 0.014055, 0.657088],\r\n    [0.506454, 0.016333, 0.656202],\r\n    [0.512206, 0.018833, 0.655209],\r\n    [0.517933, 0.021563, 0.654109],\r\n    [0.523633, 0.024532, 0.652901],\r\n    [0.529306, 0.027747, 0.651586],\r\n    [0.534952, 0.031217, 0.650165],\r\n    [0.54057, 0.03495, 0.64864],\r\n    [0.546157, 0.038954, 0.64701],\r\n    [0.551715, 0.043136, 0.645277],\r\n    [0.557243, 0.047331, 0.643443],\r\n    [0.562738, 0.051545, 0.641509],\r\n    [0.568201, 0.055778, 0.639477],\r\n    [0.573632, 0.060028, 0.637349],\r\n    [0.579029, 0.064296, 0.635126],\r\n    [0.584391, 0.068579, 0.632812],\r\n    [0.589719, 0.072878, 0.630408],\r\n    [0.595011, 0.07719, 0.627917],\r\n    [0.600266, 0.081516, 0.625342],\r\n    [0.605485, 0.085854, 0.622686],\r\n    [0.610667, 0.090204, 0.619951],\r\n    [0.615812, 0.094564, 0.61714],\r\n    [0.620919, 0.098934, 0.614257],\r\n    [0.625987, 0.103312, 0.611305],\r\n    [0.631017, 0.107699, 0.608287],\r\n    [0.636008, 0.112092, 0.605205],\r\n    [0.640959, 0.116492, 0.602065],\r\n    [0.645872, 0.120898, 0.598867],\r\n    [0.650746, 0.125309, 0.595617],\r\n    [0.65558, 0.129725, 0.592317],\r\n    [0.660374, 0.134144, 0.588971],\r\n    [0.665129, 0.138566, 0.585582],\r\n    [0.669845, 0.142992, 0.582154],\r\n    [0.674522, 0.147419, 0.578688],\r\n    [0.67916, 0.151848, 0.575189],\r\n    [0.683758, 0.156278, 0.57166],\r\n    [0.688318, 0.160709, 0.568103],\r\n    [0.69284, 0.165141, 0.564522],\r\n    [0.697324, 0.169573, 0.560919],\r\n    [0.701769, 0.174005, 0.557296],\r\n    [0.706178, 0.178437, 0.553657],\r\n    [0.710549, 0.182868, 0.550004],\r\n    [0.714883, 0.187299, 0.546338],\r\n    [0.719181, 0.191729, 0.542663],\r\n    [0.723444, 0.196158, 0.538981],\r\n    [0.72767, 0.200586, 0.535293],\r\n    [0.731862, 0.205013, 0.531601],\r\n    [0.736019, 0.209439, 0.527908],\r\n    [0.740143, 0.213864, 0.524216],\r\n    [0.744232, 0.218288, 0.520524],\r\n    [0.748289, 0.222711, 0.516834],\r\n    [0.752312, 0.227133, 0.513149],\r\n    [0.756304, 0.231555, 0.509468],\r\n    [0.760264, 0.235976, 0.505794],\r\n    [0.764193, 0.240396, 0.502126],\r\n    [0.76809, 0.244817, 0.498465],\r\n    [0.771958, 0.249237, 0.494813],\r\n    [0.775796, 0.253658, 0.491171],\r\n    [0.779604, 0.258078, 0.487539],\r\n    [0.783383, 0.2625, 0.483918],\r\n    [0.787133, 0.266922, 0.480307],\r\n    [0.790855, 0.271345, 0.476706],\r\n    [0.794549, 0.27577, 0.473117],\r\n    [0.798216, 0.280197, 0.469538],\r\n    [0.801855, 0.284626, 0.465971],\r\n    [0.805467, 0.289057, 0.462415],\r\n    [0.809052, 0.293491, 0.45887],\r\n    [0.812612, 0.297928, 0.455338],\r\n    [0.816144, 0.302368, 0.451816],\r\n    [0.819651, 0.306812, 0.448306],\r\n    [0.823132, 0.311261, 0.444806],\r\n    [0.826588, 0.315714, 0.441316],\r\n    [0.830018, 0.320172, 0.437836],\r\n    [0.833422, 0.324635, 0.434366],\r\n    [0.836801, 0.329105, 0.430905],\r\n    [0.840155, 0.33358, 0.427455],\r\n    [0.843484, 0.338062, 0.424013],\r\n    [0.846788, 0.342551, 0.420579],\r\n    [0.850066, 0.347048, 0.417153],\r\n    [0.853319, 0.351553, 0.413734],\r\n    [0.856547, 0.356066, 0.410322],\r\n    [0.85975, 0.360588, 0.406917],\r\n    [0.862927, 0.365119, 0.403519],\r\n    [0.866078, 0.36966, 0.400126],\r\n    [0.869203, 0.374212, 0.396738],\r\n    [0.872303, 0.378774, 0.393355],\r\n    [0.875376, 0.383347, 0.389976],\r\n    [0.878423, 0.387932, 0.3866],\r\n    [0.881443, 0.392529, 0.383229],\r\n    [0.884436, 0.397139, 0.37986],\r\n    [0.887402, 0.401762, 0.376494],\r\n    [0.89034, 0.406398, 0.37313],\r\n    [0.89325, 0.411048, 0.369768],\r\n    [0.896131, 0.415712, 0.366407],\r\n    [0.898984, 0.420392, 0.363047],\r\n    [0.901807, 0.425087, 0.359688],\r\n    [0.904601, 0.429797, 0.356329],\r\n    [0.907365, 0.434524, 0.35297],\r\n    [0.910098, 0.439268, 0.34961],\r\n    [0.9128, 0.444029, 0.346251],\r\n    [0.915471, 0.448807, 0.34289],\r\n    [0.918109, 0.453603, 0.339529],\r\n    [0.920714, 0.458417, 0.336166],\r\n    [0.923287, 0.463251, 0.332801],\r\n    [0.925825, 0.468103, 0.329435],\r\n    [0.928329, 0.472975, 0.326067],\r\n    [0.930798, 0.477867, 0.322697],\r\n    [0.933232, 0.48278, 0.319325],\r\n    [0.93563, 0.487712, 0.315952],\r\n    [0.93799, 0.492667, 0.312575],\r\n    [0.940313, 0.497642, 0.309197],\r\n    [0.942598, 0.502639, 0.305816],\r\n    [0.944844, 0.507658, 0.302433],\r\n    [0.947051, 0.512699, 0.299049],\r\n    [0.949217, 0.517763, 0.295662],\r\n    [0.951344, 0.52285, 0.292275],\r\n    [0.953428, 0.52796, 0.288883],\r\n    [0.95547, 0.533093, 0.28549],\r\n    [0.957469, 0.53825, 0.282096],\r\n    [0.959424, 0.543431, 0.278701],\r\n    [0.961336, 0.548636, 0.275305],\r\n    [0.963203, 0.553865, 0.271909],\r\n    [0.965024, 0.559118, 0.268513],\r\n    [0.966798, 0.564396, 0.265118],\r\n    [0.968526, 0.5697, 0.261721],\r\n    [0.970205, 0.575028, 0.258325],\r\n    [0.971835, 0.580382, 0.254931],\r\n    [0.973416, 0.585761, 0.25154],\r\n    [0.974947, 0.591165, 0.248151],\r\n    [0.976428, 0.596595, 0.244767],\r\n    [0.977856, 0.602051, 0.241387],\r\n    [0.979233, 0.607532, 0.238013],\r\n    [0.980556, 0.613039, 0.234646],\r\n    [0.981826, 0.618572, 0.231287],\r\n    [0.983041, 0.624131, 0.227937],\r\n    [0.984199, 0.629718, 0.224595],\r\n    [0.985301, 0.63533, 0.221265],\r\n    [0.986345, 0.640969, 0.217948],\r\n    [0.987332, 0.646633, 0.214648],\r\n    [0.98826, 0.652325, 0.211364],\r\n    [0.989128, 0.658043, 0.2081],\r\n    [0.989935, 0.663787, 0.204859],\r\n    [0.990681, 0.669558, 0.201642],\r\n    [0.991365, 0.675355, 0.198453],\r\n    [0.991985, 0.681179, 0.195295],\r\n    [0.992541, 0.68703, 0.19217],\r\n    [0.993032, 0.692907, 0.189084],\r\n    [0.993456, 0.69881, 0.186041],\r\n    [0.993814, 0.704741, 0.183043],\r\n    [0.994103, 0.710698, 0.180097],\r\n    [0.994324, 0.716681, 0.177208],\r\n    [0.994474, 0.722691, 0.174381],\r\n    [0.994553, 0.728728, 0.171622],\r\n    [0.994561, 0.734791, 0.168938],\r\n    [0.994495, 0.74088, 0.166335],\r\n    [0.994355, 0.746995, 0.163821],\r\n    [0.994141, 0.753137, 0.161404],\r\n    [0.993851, 0.759304, 0.159092],\r\n    [0.993482, 0.765499, 0.156891],\r\n    [0.993033, 0.77172, 0.154808],\r\n    [0.992505, 0.777967, 0.152855],\r\n    [0.991897, 0.784239, 0.151042],\r\n    [0.991209, 0.790537, 0.149377],\r\n    [0.990439, 0.796859, 0.14787],\r\n    [0.989587, 0.803205, 0.146529],\r\n    [0.988648, 0.809579, 0.145357],\r\n    [0.987621, 0.815978, 0.144363],\r\n    [0.986509, 0.822401, 0.143557],\r\n    [0.985314, 0.828846, 0.142945],\r\n    [0.984031, 0.835315, 0.142528],\r\n    [0.982653, 0.841812, 0.142303],\r\n    [0.98119, 0.848329, 0.142279],\r\n    [0.979644, 0.854866, 0.142453],\r\n    [0.977995, 0.861432, 0.142808],\r\n    [0.976265, 0.868016, 0.143351],\r\n    [0.974443, 0.874622, 0.144061],\r\n    [0.97253, 0.88125, 0.144923],\r\n    [0.970533, 0.887896, 0.145919],\r\n    [0.968443, 0.894564, 0.147014],\r\n    [0.966271, 0.901249, 0.14818],\r\n    [0.964021, 0.90795, 0.14937],\r\n    [0.961681, 0.914672, 0.15052],\r\n    [0.959276, 0.921407, 0.151566],\r\n    [0.956808, 0.928152, 0.152409],\r\n    [0.954287, 0.934908, 0.152921],\r\n    [0.951726, 0.941671, 0.152925],\r\n    [0.949151, 0.948435, 0.152178],\r\n    [0.946602, 0.95519, 0.150328],\r\n    [0.944152, 0.961916, 0.146861],\r\n    [0.941896, 0.96859, 0.140956],\r\n    [0.940015, 0.975158, 0.131326]\r\n];\n\nconst colors$5 = [\r\n    [0.267004, 0.004874, 0.329415],\r\n    [0.26851, 0.009605, 0.335427],\r\n    [0.269944, 0.014625, 0.341379],\r\n    [0.271305, 0.019942, 0.347269],\r\n    [0.272594, 0.025563, 0.353093],\r\n    [0.273809, 0.031497, 0.358853],\r\n    [0.274952, 0.037752, 0.364543],\r\n    [0.276022, 0.044167, 0.370164],\r\n    [0.277018, 0.050344, 0.375715],\r\n    [0.277941, 0.056324, 0.381191],\r\n    [0.278791, 0.062145, 0.386592],\r\n    [0.279566, 0.067836, 0.391917],\r\n    [0.280267, 0.073417, 0.397163],\r\n    [0.280894, 0.078907, 0.402329],\r\n    [0.281446, 0.08432, 0.407414],\r\n    [0.281924, 0.089666, 0.412415],\r\n    [0.282327, 0.094955, 0.417331],\r\n    [0.282656, 0.100196, 0.42216],\r\n    [0.28291, 0.105393, 0.426902],\r\n    [0.283091, 0.110553, 0.431554],\r\n    [0.283197, 0.11568, 0.436115],\r\n    [0.283229, 0.120777, 0.440584],\r\n    [0.283187, 0.125848, 0.44496],\r\n    [0.283072, 0.130895, 0.449241],\r\n    [0.282884, 0.13592, 0.453427],\r\n    [0.282623, 0.140926, 0.457517],\r\n    [0.28229, 0.145912, 0.46151],\r\n    [0.281887, 0.150881, 0.465405],\r\n    [0.281412, 0.155834, 0.469201],\r\n    [0.280868, 0.160771, 0.472899],\r\n    [0.280255, 0.165693, 0.476498],\r\n    [0.279574, 0.170599, 0.479997],\r\n    [0.278826, 0.17549, 0.483397],\r\n    [0.278012, 0.180367, 0.486697],\r\n    [0.277134, 0.185228, 0.489898],\r\n    [0.276194, 0.190074, 0.493001],\r\n    [0.275191, 0.194905, 0.496005],\r\n    [0.274128, 0.199721, 0.498911],\r\n    [0.273006, 0.20452, 0.501721],\r\n    [0.271828, 0.209303, 0.504434],\r\n    [0.270595, 0.214069, 0.507052],\r\n    [0.269308, 0.218818, 0.509577],\r\n    [0.267968, 0.223549, 0.512008],\r\n    [0.26658, 0.228262, 0.514349],\r\n    [0.265145, 0.232956, 0.516599],\r\n    [0.263663, 0.237631, 0.518762],\r\n    [0.262138, 0.242286, 0.520837],\r\n    [0.260571, 0.246922, 0.522828],\r\n    [0.258965, 0.251537, 0.524736],\r\n    [0.257322, 0.25613, 0.526563],\r\n    [0.255645, 0.260703, 0.528312],\r\n    [0.253935, 0.265254, 0.529983],\r\n    [0.252194, 0.269783, 0.531579],\r\n    [0.250425, 0.27429, 0.533103],\r\n    [0.248629, 0.278775, 0.534556],\r\n    [0.246811, 0.283237, 0.535941],\r\n    [0.244972, 0.287675, 0.53726],\r\n    [0.243113, 0.292092, 0.538516],\r\n    [0.241237, 0.296485, 0.539709],\r\n    [0.239346, 0.300855, 0.540844],\r\n    [0.237441, 0.305202, 0.541921],\r\n    [0.235526, 0.309527, 0.542944],\r\n    [0.233603, 0.313828, 0.543914],\r\n    [0.231674, 0.318106, 0.544834],\r\n    [0.229739, 0.322361, 0.545706],\r\n    [0.227802, 0.326594, 0.546532],\r\n    [0.225863, 0.330805, 0.547314],\r\n    [0.223925, 0.334994, 0.548053],\r\n    [0.221989, 0.339161, 0.548752],\r\n    [0.220057, 0.343307, 0.549413],\r\n    [0.21813, 0.347432, 0.550038],\r\n    [0.21621, 0.351535, 0.550627],\r\n    [0.214298, 0.355619, 0.551184],\r\n    [0.212395, 0.359683, 0.55171],\r\n    [0.210503, 0.363727, 0.552206],\r\n    [0.208623, 0.367752, 0.552675],\r\n    [0.206756, 0.371758, 0.553117],\r\n    [0.204903, 0.375746, 0.553533],\r\n    [0.203063, 0.379716, 0.553925],\r\n    [0.201239, 0.38367, 0.554294],\r\n    [0.19943, 0.387607, 0.554642],\r\n    [0.197636, 0.391528, 0.554969],\r\n    [0.19586, 0.395433, 0.555276],\r\n    [0.1941, 0.399323, 0.555565],\r\n    [0.192357, 0.403199, 0.555836],\r\n    [0.190631, 0.407061, 0.556089],\r\n    [0.188923, 0.41091, 0.556326],\r\n    [0.187231, 0.414746, 0.556547],\r\n    [0.185556, 0.41857, 0.556753],\r\n    [0.183898, 0.422383, 0.556944],\r\n    [0.182256, 0.426184, 0.55712],\r\n    [0.180629, 0.429975, 0.557282],\r\n    [0.179019, 0.433756, 0.55743],\r\n    [0.177423, 0.437527, 0.557565],\r\n    [0.175841, 0.44129, 0.557685],\r\n    [0.174274, 0.445044, 0.557792],\r\n    [0.172719, 0.448791, 0.557885],\r\n    [0.171176, 0.45253, 0.557965],\r\n    [0.169646, 0.456262, 0.55803],\r\n    [0.168126, 0.459988, 0.558082],\r\n    [0.166617, 0.463708, 0.558119],\r\n    [0.165117, 0.467423, 0.558141],\r\n    [0.163625, 0.471133, 0.558148],\r\n    [0.162142, 0.474838, 0.55814],\r\n    [0.160665, 0.47854, 0.558115],\r\n    [0.159194, 0.482237, 0.558073],\r\n    [0.157729, 0.485932, 0.558013],\r\n    [0.15627, 0.489624, 0.557936],\r\n    [0.154815, 0.493313, 0.55784],\r\n    [0.153364, 0.497, 0.557724],\r\n    [0.151918, 0.500685, 0.557587],\r\n    [0.150476, 0.504369, 0.55743],\r\n    [0.149039, 0.508051, 0.55725],\r\n    [0.147607, 0.511733, 0.557049],\r\n    [0.14618, 0.515413, 0.556823],\r\n    [0.144759, 0.519093, 0.556572],\r\n    [0.143343, 0.522773, 0.556295],\r\n    [0.141935, 0.526453, 0.555991],\r\n    [0.140536, 0.530132, 0.555659],\r\n    [0.139147, 0.533812, 0.555298],\r\n    [0.13777, 0.537492, 0.554906],\r\n    [0.136408, 0.541173, 0.554483],\r\n    [0.135066, 0.544853, 0.554029],\r\n    [0.133743, 0.548535, 0.553541],\r\n    [0.132444, 0.552216, 0.553018],\r\n    [0.131172, 0.555899, 0.552459],\r\n    [0.129933, 0.559582, 0.551864],\r\n    [0.128729, 0.563265, 0.551229],\r\n    [0.127568, 0.566949, 0.550556],\r\n    [0.126453, 0.570633, 0.549841],\r\n    [0.125394, 0.574318, 0.549086],\r\n    [0.124395, 0.578002, 0.548287],\r\n    [0.123463, 0.581687, 0.547445],\r\n    [0.122606, 0.585371, 0.546557],\r\n    [0.121831, 0.589055, 0.545623],\r\n    [0.121148, 0.592739, 0.544641],\r\n    [0.120565, 0.596422, 0.543611],\r\n    [0.120092, 0.600104, 0.54253],\r\n    [0.119738, 0.603785, 0.5414],\r\n    [0.119512, 0.607464, 0.540218],\r\n    [0.119423, 0.611141, 0.538982],\r\n    [0.119483, 0.614817, 0.537692],\r\n    [0.119699, 0.61849, 0.536347],\r\n    [0.120081, 0.622161, 0.534946],\r\n    [0.120638, 0.625828, 0.533488],\r\n    [0.12138, 0.629492, 0.531973],\r\n    [0.122312, 0.633153, 0.530398],\r\n    [0.123444, 0.636809, 0.528763],\r\n    [0.12478, 0.640461, 0.527068],\r\n    [0.126326, 0.644107, 0.525311],\r\n    [0.128087, 0.647749, 0.523491],\r\n    [0.130067, 0.651384, 0.521608],\r\n    [0.132268, 0.655014, 0.519661],\r\n    [0.134692, 0.658636, 0.517649],\r\n    [0.137339, 0.662252, 0.515571],\r\n    [0.14021, 0.665859, 0.513427],\r\n    [0.143303, 0.669459, 0.511215],\r\n    [0.146616, 0.67305, 0.508936],\r\n    [0.150148, 0.676631, 0.506589],\r\n    [0.153894, 0.680203, 0.504172],\r\n    [0.157851, 0.683765, 0.501686],\r\n    [0.162016, 0.687316, 0.499129],\r\n    [0.166383, 0.690856, 0.496502],\r\n    [0.170948, 0.694384, 0.493803],\r\n    [0.175707, 0.6979, 0.491033],\r\n    [0.180653, 0.701402, 0.488189],\r\n    [0.185783, 0.704891, 0.485273],\r\n    [0.19109, 0.708366, 0.482284],\r\n    [0.196571, 0.711827, 0.479221],\r\n    [0.202219, 0.715272, 0.476084],\r\n    [0.20803, 0.718701, 0.472873],\r\n    [0.214, 0.722114, 0.469588],\r\n    [0.220124, 0.725509, 0.466226],\r\n    [0.226397, 0.728888, 0.462789],\r\n    [0.232815, 0.732247, 0.459277],\r\n    [0.239374, 0.735588, 0.455688],\r\n    [0.24607, 0.73891, 0.452024],\r\n    [0.252899, 0.742211, 0.448284],\r\n    [0.259857, 0.745492, 0.444467],\r\n    [0.266941, 0.748751, 0.440573],\r\n    [0.274149, 0.751988, 0.436601],\r\n    [0.281477, 0.755203, 0.432552],\r\n    [0.288921, 0.758394, 0.428426],\r\n    [0.296479, 0.761561, 0.424223],\r\n    [0.304148, 0.764704, 0.419943],\r\n    [0.311925, 0.767822, 0.415586],\r\n    [0.319809, 0.770914, 0.411152],\r\n    [0.327796, 0.77398, 0.40664],\r\n    [0.335885, 0.777018, 0.402049],\r\n    [0.344074, 0.780029, 0.397381],\r\n    [0.35236, 0.783011, 0.392636],\r\n    [0.360741, 0.785964, 0.387814],\r\n    [0.369214, 0.788888, 0.382914],\r\n    [0.377779, 0.791781, 0.377939],\r\n    [0.386433, 0.794644, 0.372886],\r\n    [0.395174, 0.797475, 0.367757],\r\n    [0.404001, 0.800275, 0.362552],\r\n    [0.412913, 0.803041, 0.357269],\r\n    [0.421908, 0.805774, 0.35191],\r\n    [0.430983, 0.808473, 0.346476],\r\n    [0.440137, 0.811138, 0.340967],\r\n    [0.449368, 0.813768, 0.335384],\r\n    [0.458674, 0.816363, 0.329727],\r\n    [0.468053, 0.818921, 0.323998],\r\n    [0.477504, 0.821444, 0.318195],\r\n    [0.487026, 0.823929, 0.312321],\r\n    [0.496615, 0.826376, 0.306377],\r\n    [0.506271, 0.828786, 0.300362],\r\n    [0.515992, 0.831158, 0.294279],\r\n    [0.525776, 0.833491, 0.288127],\r\n    [0.535621, 0.835785, 0.281908],\r\n    [0.545524, 0.838039, 0.275626],\r\n    [0.555484, 0.840254, 0.269281],\r\n    [0.565498, 0.84243, 0.262877],\r\n    [0.575563, 0.844566, 0.256415],\r\n    [0.585678, 0.846661, 0.249897],\r\n    [0.595839, 0.848717, 0.243329],\r\n    [0.606045, 0.850733, 0.236712],\r\n    [0.616293, 0.852709, 0.230052],\r\n    [0.626579, 0.854645, 0.223353],\r\n    [0.636902, 0.856542, 0.21662],\r\n    [0.647257, 0.8584, 0.209861],\r\n    [0.657642, 0.860219, 0.203082],\r\n    [0.668054, 0.861999, 0.196293],\r\n    [0.678489, 0.863742, 0.189503],\r\n    [0.688944, 0.865448, 0.182725],\r\n    [0.699415, 0.867117, 0.175971],\r\n    [0.709898, 0.868751, 0.169257],\r\n    [0.720391, 0.87035, 0.162603],\r\n    [0.730889, 0.871916, 0.156029],\r\n    [0.741388, 0.873449, 0.149561],\r\n    [0.751884, 0.874951, 0.143228],\r\n    [0.762373, 0.876424, 0.137064],\r\n    [0.772852, 0.877868, 0.131109],\r\n    [0.783315, 0.879285, 0.125405],\r\n    [0.79376, 0.880678, 0.120005],\r\n    [0.804182, 0.882046, 0.114965],\r\n    [0.814576, 0.883393, 0.110347],\r\n    [0.82494, 0.88472, 0.106217],\r\n    [0.83527, 0.886029, 0.102646],\r\n    [0.845561, 0.887322, 0.099702],\r\n    [0.85581, 0.888601, 0.097452],\r\n    [0.866013, 0.889868, 0.095953],\r\n    [0.876168, 0.891125, 0.09525],\r\n    [0.886271, 0.892374, 0.095374],\r\n    [0.89632, 0.893616, 0.096335],\r\n    [0.906311, 0.894855, 0.098125],\r\n    [0.916242, 0.896091, 0.100717],\r\n    [0.926106, 0.89733, 0.104071],\r\n    [0.935904, 0.89857, 0.108131],\r\n    [0.945636, 0.899815, 0.112838],\r\n    [0.9553, 0.901065, 0.118128],\r\n    [0.964894, 0.902323, 0.123941],\r\n    [0.974417, 0.90359, 0.130215],\r\n    [0.983868, 0.904867, 0.136897],\r\n    [0.993248, 0.906157, 0.143936]\r\n];\n\nexport { colors as blackWhite, colors$1 as cividis, colors$2 as inferno, colors$3 as magma, colors$4 as plasma, colors$5 as viridis };\n","\nimport { createColorMap, linearScale } from \"@colormap/core\";\nimport { viridis, cividis, plasma, inferno, magma, blackWhite } from \"@colormap/presets\";\n\n//Make a node from a generic object\nclass Node{\n\tconstructor(originalObject,ID,index,network){\n\t\tfor (const [nodeProperty, value] of Object.entries(originalObject)) {\n\t\t\tif(nodeProperty == \"Color\"\n\t\t\t||  nodeProperty == \"Size\"\n\t\t\t||  nodeProperty == \"Position\"\n\t\t\t||  nodeProperty == \"OutlineColor\"\n\t\t\t||  nodeProperty == \"OutlineWidth\"){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis[nodeProperty] = value;\n\t\t}\n\t\tthis._network = network;\n\t\tthis.ID = ID;\n\t\tthis.index = index;\n\t}\n\n\tset color(newColor){\n\t\tlet nodeIndex = this.index;\n\t\tthis._network.colors[nodeIndex*4+0] = newColor[0];\n\t\tthis._network.colors[nodeIndex*4+1] = newColor[1];\n\t\tthis._network.colors[nodeIndex*4+2] = newColor[2];\n\t\tif(newColor.length > 3){\n\t\t\tthis._network.colors[nodeIndex*4+3] = newColor[3];\n\t\t}\n\t}\n\n\tget color(){\n\t\tlet nodeIndex = this.index;\n\t\treturn [this._network.colors[nodeIndex*4+0],this._network.colors[nodeIndex*4+1],this._network.colors[nodeIndex*4+2],this._network.colors[nodeIndex*4+3]];\n\t}\n\n\n\tset opacity(newOpacity){\n\t\tlet nodeIndex = this.index;\n\t\tthis._network.colors[nodeIndex*4+3] = newOpacity;\n\t}\n\n\tget opacity(){\n\t\tlet nodeIndex = this.index;\n\t\treturn this._network.colors[nodeIndex*4+3];\n\t}\n\n\n\tset size(newSize){\n\t\tthis._network.sizes[this.index] = newSize;\n\t}\n\n\tget size(){\n\t\treturn this._network.sizes[this.index];\n\t}\n\n\tset outlineColor(newColor){\n\t\tlet nodeIndex = this.index;\n\t\tthis._network.outlineColors[nodeIndex*4+0] = newColor[0];\n\t\tthis._network.outlineColors[nodeIndex*4+1] = newColor[1];\n\t\tthis._network.outlineColors[nodeIndex*4+2] = newColor[2];\n\t\tif(newColor.length > 3){\n\t\t\tthis._network.outlineColors[nodeIndex*4+3] = newColor[3];\n\t\t}\n\t}\n\n\tget outlineColor(){\n\t\tlet nodeIndex = this.index;\n\t\treturn [this._network.outlineColors[nodeIndex*4+0],this._network.outlineColors[nodeIndex*4+1],this._network.outlineColors[nodeIndex*4+2],this._network.outlineColors[nodeIndex*4+3]];\n\t}\n\n\tset outlineWidth(newWidth){\n\t\tthis._network.outlineWidths[this.index] = newWidth;\n\t}\n\n\tget outlineWidth(){\n\t\treturn this._network.outlineWidths[this.index];\n\t}\n\n\tget network(){\n\t\treturn this._network;\n\t}\n\n\tset position(newPosition){\n\t\tlet nodeIndex = this.index;\n\t\tthis._network.positions[nodeIndex*3+0] = newPosition[0];\n\t\tthis._network.positions[nodeIndex*3+1] = newPosition[1];\n\t\tthis._network.positions[nodeIndex*3+2] = newPosition[2];\n\t}\n\tget position(){\n\t\tlet nodeIndex = this.index;\n\t\treturn [this._network.positions[nodeIndex*3+0],this._network.positions[nodeIndex*3+1],this._network.positions[nodeIndex*3+2]];\n\t}\n}\n\n\n\n\nexport class Network{\n\tconstructor(nodes,edges,properties){\n\t\tthis.ID2index = new Object();\n\t\tthis.index2Node = [];\n\t\tfor (const [nodeID, node] of Object.entries(nodes)) {\n\t\t\tif(!this.ID2index.hasOwnProperty(nodeID)){\n\t\t\t\tlet nodeIndex = this.index2Node.length;\n\t\t\t\tthis.ID2index[nodeID] = nodeIndex;\n\t\t\t\tnode.index = nodeIndex;\n\t\t\t\tnode.ID = nodeID;\n\t\t\t\tthis.index2Node.push(node);\n\t\t\t\tnode.neighbors = [];\n\t\t\t\tnode.edges = [];\n\t\t\t}\n\t\t}\n\n\t\tthis.indexedEdges = new Int32Array(edges.length*2);\n\t\tfor (let edgeIndex = 0; edgeIndex < edges.length; edgeIndex++) {\n\t\t\tconst edge = edges[edgeIndex];\n\t\t\t// console.log(this.index2Node)\n\t\t\tlet fromIndex =this.ID2index[edge.source];\n\t\t\tlet toIndex = this.ID2index[edge.target];\n\t\t\t// let fromNode = this.index2Node[fromIndex];\n\t\t\t// let toNode = this.index2Node[toIndex];\n\t\t\tthis.indexedEdges[edgeIndex*2] = fromIndex;\n\t\t\tthis.indexedEdges[edgeIndex*2+1] = toIndex;\n\t\t}\n\t\t\n\t\tthis.positions = new Float32Array(3*this.index2Node.length);\n\t\tthis.colors = new Float32Array(4*this.index2Node.length);\n\t\tthis.sizes = new Float32Array(this.index2Node.length);\n\t\tthis.outlineColors = new Float32Array(4*this.index2Node.length);\n\t\t//set intensities to 1.0\n\t\tfor (let nodeIndex=0; nodeIndex<this.index2Node.length;nodeIndex++){\n\t\t\tthis.colors[nodeIndex*4+3] = 1.0;\n\t\t\tthis.outlineColors[nodeIndex*4+3] = 1.0;\n\t\t}\n\n\t\tthis.outlineWidths = new Float32Array(this.index2Node.length);\n\t\t\n\t\tthis.edgePositions = null; //new Float32Array(3*this.indexedEdges.length);\n\t\tthis.edgeColors = null; //new Float32Array(3*this.indexedEdges.length);\n\t\tthis.edgeSizes = null; //new Float32Array(this.indexedEdges.length);\n\t\t// this.intensities = new Float32Array(this.indexedEdges.length);\n\t\t// this.outlineColors = new Float32Array(3*this.indexedEdges.length);\n\t\t// this.outlineWidths = new Float32Array(this.indexedEdges.length);\n\n\t\t// for (let index = 0; index < this.positions.length; index++) {\n\t\t//   this.positions[index] = (Math.random()-0.5)*2*200;\n\t\t//   this.colors[index] = Math.random()*0.8+0.2;\n\t\t// }\n\n\t\tthis.nodes = {}\n\t\t\n\t\tlet colorScale = linearScale([0, this.index2Node.length], [0, 1]);\n\t\tlet colorMap = createColorMap(inferno, colorScale);\n\t\tfor (let index = 0; index < this.index2Node.length; index++) {\n\t\t\tlet node = this.index2Node[index];\n\t\t\tif(node.hasOwnProperty(\"Position\")){\n\t\t\t\tthis.positions[index*3]   = node[\"Position\"][0];\n\t\t\t\tthis.positions[index*3+1] = node[\"Position\"][1];\n\t\t\t\tthis.positions[index*3+2] = node[\"Position\"][2];\n\t\t\t}else{\n\t\t\t\tif(node.hasOwnProperty(\"posx\") && node.hasOwnProperty(\"posy\")){\n\t\t\t\t\tthis.positions[index*3]   = node[\"posx\"];\n\t\t\t\t\tthis.positions[index*3+1] = node[\"posy\"];\n\t\t\t\t\tif(node.hasOwnProperty(\"posz\")){\n\t\t\t\t\t\tthis.positions[index*3+2] = node[\"posz\"];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.positions[index*3+2] = 0;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.positions[index*3+0] = (Math.random()-0.5)*2*200;\n\t\t\t\t\tthis.positions[index*3+1] = (Math.random()-0.5)*2*200;\n\t\t\t\t\tthis.positions[index*3+2] = (Math.random()-0.5)*2*200;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(node.hasOwnProperty(\"Color\")){\n\t\t\t\tif(index==0){\n\t\t\t\t\tconsole.log(\"NODE COLOR:\",node[\"Color\"])\n\t\t\t\t}\n\t\t\t\tthis.colors[index*4+0] = node[\"Color\"][0];\n\t\t\t\tthis.colors[index*4+1] = node[\"Color\"][1];\n\t\t\t\tthis.colors[index*4+2] = node[\"Color\"][2];\n\t\t\t\tif(node[\"Color\"].length > 3){\n\t\t\t\t\tthis.colors[index*4+3] = node[\"Color\"][3];\n\t\t\t\t}else{\n\t\t\t\t\tthis.colors[index*4+3]=1.0;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tlet color = colorMap(index);\n\t\t\t\tthis.colors[index*4+0] = color[0];\n\t\t\t\tthis.colors[index*4+1] = color[1];\n\t\t\t\tthis.colors[index*4+2] = color[2];\n\t\t\t\tif(color.length > 3){\n\t\t\t\t\tthis.colors[index*4+3] = color[3];\n\t\t\t\t}else{\n\t\t\t\t\tthis.colors[index*4+3]=1.0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(node.hasOwnProperty(\"Size\")){\n\t\t\t\tthis.sizes[index] = node[\"Size\"];\n\t\t\t}else{\n\t\t\t\tthis.sizes[index] = 1.0;\n\t\t\t}\n\n\t\t\tif(node.hasOwnProperty(\"OutlineColor\")){\n\t\t\t\tthis.outlineColors[index*4+0] = node[\"OutlineColor\"][0];\n\t\t\t\tthis.outlineColors[index*4+1] = node[\"OutlineColor\"][1];\n\t\t\t\tthis.outlineColors[index*4+2] = node[\"OutlineColor\"][2];\n\t\t\t\tif(node[\"OutlineColor\"].length > 3){\n\t\t\t\t\tthis.outlineColors[index*4+3] = node[\"OutlineColor\"][3];\n\t\t\t\t}else{\n\t\t\t\t\tthis.outlineColors[index*4+3]=1.0;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.outlineColors[index*4+0] = 1.0;\n\t\t\t\tthis.outlineColors[index*4+1] = 1.0;\n\t\t\t\tthis.outlineColors[index*4+2] = 1.0;\n\t\t\t\tthis.outlineColors[index*4+3] = 1.0;\n\t\t\t}\n\n\t\t\tif(node.hasOwnProperty(\"OutlineWidth\")){\n\t\t\t\tthis.outlineWidths[index] = node[\"OutlineWidth\"];\n\t\t\t}else{\n\t\t\t\tthis.outlineWidths[index] = 0.0;\n\t\t\t}\n\n\t\t\tlet newNode = new Node(node,node.ID,index,this);\n\t\t\tthis.index2Node[index] = newNode;\n\t\t\tthis.nodes[node.ID] = newNode;\n\t\t}\n\t\tfor (let edgeIndex = 0; edgeIndex < edges.length; edgeIndex++) {\n\t\t\tconst edge = edges[edgeIndex];\n\t\t\t// console.log(this.index2Node)\n\t\t\tlet fromIndex =this.ID2index[edge.source];\n\t\t\tlet toIndex = this.ID2index[edge.target];\n\t\t\tlet fromNode = this.index2Node[fromIndex];\n\t\t\tlet toNode = this.index2Node[toIndex];\n\t\t\tfromNode.neighbors.push(toNode);\n\t\t\ttoNode.neighbors.push(fromNode);\n\t\t\tfromNode.edges.push(edgeIndex);\n\t\t\ttoNode.edges.push(edgeIndex);\n\t\t}\n\t}\n\n\tget nodeCount(){\n\t\treturn this.index2Node.length;\n\t}\n\n\tupdateEdgePositions() {\n\t\tif (this.edgePositions == null) {\n\t\t\tthis.edgePositions = new Float32Array(3 * this.indexedEdges.length);\n\t\t}\n\t\n\t\tconst edgesLength = this.indexedEdges.length;\n\t\tconst nodePositions = this.positions;\n\t\tconst edgePositions = this.edgePositions;\n\t\tconst indexedEdges = this.indexedEdges;\n\t\tfor (let edgeIndex = 0; edgeIndex < edgesLength / 2; edgeIndex++) {\n\t\t\tconst fromIndex = indexedEdges[edgeIndex * 2] * 3;\n\t\t\tconst toIndex = indexedEdges[edgeIndex * 2 + 1] * 3;\n\t\t\tconst edgeFromPositionIndex = edgeIndex * 6;\n\t\t\tconst edgeToPositionIndex = edgeFromPositionIndex + 3;\n\t\n\t\t\tedgePositions[edgeFromPositionIndex] = nodePositions[fromIndex];\n\t\t\tedgePositions[edgeFromPositionIndex + 1] = nodePositions[fromIndex + 1];\n\t\t\tedgePositions[edgeFromPositionIndex + 2] = nodePositions[fromIndex + 2];\n\t\n\t\t\tedgePositions[edgeToPositionIndex] = nodePositions[toIndex];\n\t\t\tedgePositions[edgeToPositionIndex + 1] = nodePositions[toIndex + 1];\n\t\t\tedgePositions[edgeToPositionIndex + 2] = nodePositions[toIndex + 2];\n\t\t}\n\t}\n\t\n\tupdateEdgeColors(updateOpacity = true) {\n\t\tif (this.edgeColors == null) {\n\t\t\tthis.edgeColors = new Float32Array(4 * this.indexedEdges.length);\n\t\t}\n\t\n\t\tconst edgesLength = this.indexedEdges.length;\n\t\tconst edgeColors = this.edgeColors;\n\t\tconst nodeColors = this.colors;\n\t\tconst indexedEdges = this.indexedEdges;\n\t\tfor (let edgeIndex = 0; edgeIndex < edgesLength / 2; edgeIndex++) {\n\t\t\tconst fromIndex = indexedEdges [edgeIndex * 2] * 4;\n\t\t\tconst toIndex = indexedEdges [edgeIndex * 2 + 1] * 4;\n\t\t\tconst edgeFromColorIndex = edgeIndex * 8;\n\t\t\tconst edgeToColorIndex = edgeFromColorIndex + 4;\n\t\n\t\t\tedgeColors[edgeFromColorIndex]     = nodeColors[fromIndex];\n\t\t\tedgeColors[edgeFromColorIndex + 1] = nodeColors[fromIndex + 1];\n\t\t\tedgeColors[edgeFromColorIndex + 2] = nodeColors[fromIndex + 2];\n\t\n\t\t\tedgeColors[edgeToColorIndex]     = nodeColors[toIndex];\n\t\t\tedgeColors[edgeToColorIndex + 1] = nodeColors[toIndex + 1];\n\t\t\tedgeColors[edgeToColorIndex + 2] = nodeColors [toIndex + 2];\n\t\n\t\t\tif (updateOpacity) {\n\t\t\t\tedgeColors[edgeFromColorIndex + 3] = nodeColors[fromIndex + 3];\n\t\t\t\tedgeColors[edgeToColorIndex + 3] = nodeColors[toIndex + 3];\n\t\t\t}\n\t\t}\n\t}\n\t\n\tupdateEdgeSizes() {\n\t\tif (this.edgeSizes == null) {\n\t\t\tthis.edgeSizes = new Float32Array(this.indexedEdges.length);\n\t\t}\n\t\n\t\tconst edgesLength = this.indexedEdges.length;\n\t\tconst edgeSizes  = this.edgeSizes;\n\t\tconst nodeSizes = this.sizes;\n\t\tconst indexedEdges = this.indexedEdges;\n\t\tfor (let edgeIndex = 0; edgeIndex < edgesLength / 2; edgeIndex++) {\n\t\t\tconst fromIndex = indexedEdges[edgeIndex * 2];\n\t\t\tconst toIndex = indexedEdges[edgeIndex * 2 + 1];\n\t\t\tedgeSizes[edgeIndex * 2] = nodeSizes[fromIndex];\n\t\t\tedgeSizes[edgeIndex * 2 + 1] = nodeSizes[toIndex];\n\t\t}\n\t}\n\t\n\n\n\tupdateEdgeOpacity(updateOpacity) {\n\t\tif (this.edgeColors == null) {\n\t\t\tthis.edgeColors = new Float32Array(4 * this.indexedEdges.length);\n\t\t}\n\t\n\t\tconst edgesLength = this.indexedEdges.length;\n\t\tconst edgeColors = this.edgeColors;\n\t\tconst nodeColors = this.colors;\n\t\tconst indexedEdges = this.indexedEdges;\n\t\tfor (let edgeIndex = 0; edgeIndex < edgesLength / 2; edgeIndex++) {\n\t\t\tconst fromIndex = indexedEdges[edgeIndex * 2] * 4;\n\t\t\tconst toIndex = indexedEdges[edgeIndex * 2 + 1] * 4;\n\t\t\tedgeColors[edgeIndex * 8 + 3] = nodeColors[fromIndex + 3];\n\t\t\tedgeColors[edgeIndex * 8 + 7] = nodeColors[toIndex + 3];\n\t\t}\n\t}\n\t\n}\n","\n\n// //dictionary\nexport class HeliosScheduler {\n\tconstructor(helios, { FPS = 60, throttle = true, maxQueueLength = 10 }) {\n\t\t// TODO: Check if Weakref is needed\n\t\tthis.helios = helios;\n\t\tthis.needsRender = false;\n\t\tthis.needsUpdateNodesGeometry = false;\n\t\tthis.needsUpdateEdgesGeometry = false;\n\t\tthis._FPS = FPS;\n\t\tthis._throttle = throttle; // will throttle to the requested FPS\n\t\tthis._maxQueueLength = maxQueueLength;\n\t\tthis._started = false;\n\t\tthis._paused = true;\n\t\tthis._lastFPS = 0;\n\t\tthis._averageFPS = 0;\n\t\tthis._tasks = {};\n\t\tthis._executionCount = 0,\n\t\tthis._lastTimestamp = null,\n\t\tthis._currentTimestamp = null,\n\t\tthis._lastExecutionTimestamp = null,\n\t\tthis._lastRequestFrameID = 0;\n\t\tthis._timeout = null;\n\t\tthis._times = [];\n\t\tthis._lastRepeatInterval = 0;\n\t\tthis._shouldCleanup = false;\n\t}\n\n\tFPS(value) {\n\t\tif (value === undefined) {\n\t\t\treturn this.FPS;\n\t\t}\n\t\tthis.FPS = value;\n\t\treturn this;\n\t}\n\n\tschedule({\n\t\tname = \"default\",\n\t\tcallback = null,\n\t\tdelay = 0,\n\t\trepeat = false,\n\t\tmaxRepeatCount = Infinity,\n\t\tmaxRepeatTime = Infinity,\n\t\trepeatInterval = 0,\n\t\tsynchronized = true,\n\t\timmediateUpdates = false,\n\t\tupdateNodesGeometry = false,\n\t\tupdateEdgesGeometry = false,\n\t\tafterRedraw = false,\n\t\tredraw = true,\n\t\treplace = true\n\t}) {\n\n\t\tlet newTask = {\n\t\t\tname,\n\t\t\tcallback,\n\t\t\tdelay,\n\t\t\trepeat,\n\t\t\tmaxRepeatCount,\n\t\t\tmaxRepeatTime,\n\t\t\trepeatInterval,\n\t\t\tsynchronized,\n\t\t\timmediateUpdates,\n\t\t\tupdateNodesGeometry,\n\t\t\tupdateEdgesGeometry,\n\t\t\tafterRedraw,\n\t\t\tredraw,\n\t\t\treplace,\n\t\t\texecutionCount: 0,\n\t\t\tlastTimestamp: window.performance.now(),\n\t\t\tlastExecutionTime: 0,\n\t\t\tshouldBeRemoved: false,\n\t\t\tcancel: function () {\n\t\t\t\tthis.shouldBeRemoved = true;\n\t\t\t\tif (!this.synchronized) {\n\t\t\t\t\tclearTimeout(this._timeout)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!(name in this._tasks)) {\n\t\t\tthis._tasks[name] = [];\n\t\t}\n\n\t\tif (replace) {\n\t\t\tthis._clearTask(name);\n\t\t}\n\n\t\tif (!synchronized) {\n\t\t\tthis.runAsyncTask(newTask, newTask.delay);\n\t\t}\n\n\t\tthis._addTaskToQueue(newTask, name);\n\n\t\tif (this._paused && this._started) {\n\t\t\tthis._updateTimeout();\n\t\t}\n\t\treturn this;\n\t}\n\n\trunAsyncTask(newTask, delay = 0) {\n\t\tthis._executionCount+=1;\n\t\tnewTask.timeout = setTimeout(() => {\n\t\t\tif (newTask.shouldBeRemoved) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet currentTimestamp = window.performance.now();\n\t\t\tlet elapsedTime = currentTimestamp - newTask.lastTimestamp;\n\t\t\tnewTask.callback?.(elapsedTime, newTask);\n\t\t\tnewTask.executionCount += 1;\n\t\t\tif (newTask.immediateUpdates) {\n\t\t\t\tthis._updateHelios(newTask.needsRender, newTask.needsUpdateNodesGeometry, newTask.needsUpdateEdgesGeometry);\n\t\t\t} else {\n\t\t\t\tif (newTask.redraw) {\n\t\t\t\t\tthis.needsRender = true;\n\t\t\t\t}\n\t\t\t\tif (newTask.updateNodesGeometry) {\n\t\t\t\t\tthis.needsUpdateNodesGeometry = true;\n\t\t\t\t}\n\t\t\t\tif (newTask.updateEdgesGeometry) {\n\t\t\t\t\tthis.needsUpdateEdgesGeometry = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newTask.repeat) {\n\t\t\t\tlet newCurrentTimestamp = window.performance.now();\n\t\t\t\tnewTask.lastExecutionTime = newCurrentTimestamp - currentTimestamp;\n\t\t\t\tnewTask.lastTimestamp = currentTimestamp;\n\t\t\t\tlet repeatInterval = newTask.repeatInterval - (newCurrentTimestamp - currentTimestamp)\n\t\t\t\tif (repeatInterval < 0) {\n\t\t\t\t\trepeatInterval = 0;\n\t\t\t\t}\n\t\t\t\tif (newTask.executionCount >= newTask.maxRepeatCount) {\n\t\t\t\t\tnewTask.shouldBeRemoved = true;\n\t\t\t\t}else{\n\t\t\t\t\tthis.runAsyncTask(newTask, repeatInterval);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnewTask.shouldBeRemoved = true;\n\t\t\t}\n\t\t\tif(this._started && this._paused){\n\t\t\t\tthis._updateTimeout();\n\t\t\t}\n\t\t}, delay);\n\t}\n\n\t_executeTask(task,elapsedTime,currentTimestamp){\n\t\t// console.log(\"Executing \"+task.name+\" task at iteration \"+task.executionCount+\"\")\n\t\ttask.callback?.(elapsedTime, task);\n\t\tif(task === undefined){\n\t\t\treturn false;\n\t\t}\n\t\ttask.executionCount += 1;\n\t\tif (task.repeat && task.executionCount < task.maxRepeatCount) {\n\t\t\tlet newCurrentTimestamp = window.performance.now();\n\t\t\ttask.lastExecutionTime = newCurrentTimestamp - currentTimestamp;\n\t\t\ttask.lastTimestamp = currentTimestamp;\n\t\t} else {\n\t\t\ttask.shouldBeRemoved = true;\n\t\t}\n\t\treturn true;\n\t}\n\n\trunSyncTasks() {\n\t\tif(this._shouldCleanup){\n\t\t\treturn;\n\t\t}\n\t\tthis._executionCount+=1;\n\t\tlet afterRedrawTasks = [];\n\t\tlet allTasksCurrentTimestamp = window.performance.now();\n\t\tfor (let taskName of Object.keys(this._tasks).sort()) {\n\t\t\tlet task = this._tasks[taskName];\n\t\t\tfor (let i = 0; i < task.length; i++) {\n\t\t\t\tif(task[i].synchronized || !task[i].immediateUpdates){\n\t\t\t\t\tif(task[i].redraw){\n\t\t\t\t\t\tthis.needsRender = true;\n\t\t\t\t\t}\n\t\t\t\t\tif(task[i].updateNodesGeometry){\n\t\t\t\t\t\tthis.needsUpdateNodesGeometry = true;\n\t\t\t\t\t}\n\t\t\t\t\tif(task[i].updateEdgesGeometry){\n\t\t\t\t\t\tthis.needsUpdateEdgesGeometry = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!task[i]?.shouldBeRemoved) {\n\t\t\t\t\tlet currentTimestamp = window.performance.now();\n\t\t\t\t\tlet elapsedTime = currentTimestamp - task[i].lastTimestamp + task[i].lastExecutionTime;\n\t\t\t\t\tif (elapsedTime < 0) {\n\t\t\t\t\t\telapsedTime = 0;\n\t\t\t\t\t}\n\t\t\t\t\tlet willExecute = false\n\t\t\t\t\tif (task[i].executionCount == 0) {\n\t\t\t\t\t\tif (elapsedTime >= task[i].delay) {\n\t\t\t\t\t\t\twillExecute = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (elapsedTime >= task[i].repeatInterval) {\n\t\t\t\t\t\t\twillExecute = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (willExecute) {\n\t\t\t\t\t\tif(task[i].afterRedraw){\n\t\t\t\t\t\t\tafterRedrawTasks.push({\n\t\t\t\t\t\t\t\ttask:task[i],\n\t\t\t\t\t\t\t\telapsedTime,\n\t\t\t\t\t\t\t\tcurrentTimestamp,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(!this._executeTask(task[i],elapsedTime,currentTimestamp)){\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (task[i]?.shouldBeRemoved) {\n\t\t\t\t\ttask.splice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (task.length == 0) {\n\t\t\t\tdelete this._tasks[taskName];\n\t\t\t}\n\t\t}\n\t\tthis._updateHelios(this.needsRender, this.needsUpdateNodesGeometry, this.needsUpdateEdgesGeometry, true, afterRedrawTasks);\n\t\tthis._lastTimestamp = allTasksCurrentTimestamp;\n\t}\n\n\n\t_updateHelios(needsRender, needsUpdateNodesGeometry, needsUpdateEdgesGeometry, updateTimeoutAfterRender,afterRedrawTasks) {\n\t\tif (needsRender === undefined) {\n\t\t\tneedsRender = this.needsRender;\n\t\t}\n\t\tif (needsUpdateNodesGeometry === undefined) {\n\t\t\tneedsUpdateNodesGeometry = this.needsUpdateNodesGeometry;\n\t\t}\n\t\tif (needsUpdateEdgesGeometry === undefined) {\n\t\t\tneedsUpdateEdgesGeometry = this.needsUpdateEdgesGeometry;\n\t\t}\n\n\t\tif (needsUpdateNodesGeometry) {\n\t\t\tthis.helios.updateNodesGeometry();\n\t\t\tthis.needsUpdateNodesGeometry = false;\n\t\t}\n\n\t\tif (needsUpdateEdgesGeometry) {\n\t\t\tthis.helios.updateEdgesGeometry();\n\t\t\tthis.needsUpdateEdgesGeometry = false;\n\t\t}\n\n\t\tcancelAnimationFrame(this.lastRequestFrameID);\n\t\tthis.lastRequestFrameID = requestAnimationFrame(() => {\n\t\t\t// console.log(\"Executed: \"+this.lastRequestFrameID);\n\t\t\tif(this._shouldCleanup){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst now = window.performance.now();\n\t\t\twhile (this._times.length > 0 && this._times[0] <= now - 1000) {\n\t\t\t\tthis._times.shift();\n\t\t\t}\n\t\t\tthis._times.push(now);\n\t\t\tthis._averageFPS = this._times.length;\n\t\t\t// console.log(this._averageFPS);\n\n\t\t\t// if (needsUpdateNodesGeometry) {\n\t\t\t// \tthis.helios.updateNodesGeometry();\n\t\t\t// \tthis.needsUpdateNodesGeometry = false;\n\t\t\t// }\n\n\t\t\t// if (needsUpdateEdgesGeometry) {\n\t\t\t// \tthis.helios.updateEdgesGeometry();\n\t\t\t// \tthis.needsUpdateEdgesGeometry = false;\n\t\t\t// }\n\n\t\t\tif (needsRender) {\n\t\t\t\tthis.helios.redraw();\n\t\t\t\tthis.needsRender = false;\n\t\t\t}\n\t\t\tif((afterRedrawTasks?.length ||0) > 0){\n\t\t\t\tafterRedrawTasks.forEach((task) => {\n\t\t\t\t\ttask.task._timeout = setTimeout(() => {\n\t\t\t\t\t\tthis._executeTask(task.task,task.elapsedTime,task.currentTimestamp);\n\t\t\t\t\t}, 0);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (updateTimeoutAfterRender) {\n\t\t\t\tthis._lastExecutionTimestamp = window.performance.now();\n\t\t\t\tthis._updateTimeout();\n\t\t\t}\n\t\t});\n\t\t// console.log(\"Requested: \"+this.lastRequestFrameID);\n\t}\n\n\t_addTaskToQueue(task, name) {\n\t\tlet taskQueue = this._tasks[name];\n\t\ttaskQueue.push(task);\n\t\tif (taskQueue.length > this._maxQueueLength) {\n\t\t\tif (taskQueue[0].timeout) {\n\t\t\t\ttaskQueue[0].shouldBeRemoved = true;\n\t\t\t\tclearTimeout(task.taskQueue[0]);\n\t\t\t}\n\t\t\ttaskQueue.shift();\n\t\t\tconsole.warn(`One task was discarded because of too many tasks in the ${name} queue. (maxQueueLength = ${this._maxQueueLength})`);\n\t\t}\n\t}\n\n\t_clearTask(name) {\n\t\tif (name in this._tasks) {\n\t\t\tlet taskQueue = this._tasks[name];\n\t\t\tfor (let taskIndex = 0; taskIndex < taskQueue.length; taskIndex++) {\n\t\t\t\tlet task = taskQueue[taskIndex];\n\t\t\t\tif (task.timeout) {\n\t\t\t\t\ttask.shouldBeRemoved = true;\n\t\t\t\t\tclearTimeout(task.timeout);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttaskQueue.length = 0;\n\t\t}\n\t}\n\n\tunschedule(name) {\n\t\t\n\t\tif (name in this._tasks) {\n\t\t\tthis._clearTask(name);\n\t\t\tdelete this._tasks[name];\n\t\t}\n\t\tthis._updateTimeout();\n\t\treturn this;\n\t}\n\n\thasTask(name) {\n\t\treturn name in this._tasks;\n\t}\n\n\n\tstart() {\n\t\tthis._started = true;\n\t\tthis._updateTimeout();\n\t\treturn this;\n\t}\n\n\n\n\tstop() {\n\t\tthis._shouldCleanup = true;\n\t\tclearTimeout(this._timeout);\n\t\tthis.paused = false;\n\t\tthis.started = false;\n\t\tthis._lastTimestamp = null;\n\t\tthis._lastExecutionTime = 0;\n\t\treturn this;\n\t}\n\n\t_updateTimeout() {\n\t\tclearTimeout(this._timeout);\n\t\tif (this._started) {\n\t\t\tif (Object.keys(this._tasks).length === 0) {\n\t\t\t\tthis.paused = true;\n\t\t\t} else {\n\t\t\t\tthis.paused = false;\n\t\t\t\tlet repeatInterval = 0\n\t\t\t\tlet currentTimestamp = window.performance.now();\n\t\t\t\tif (this._lastTimestamp != null && this._throttle) {\n\t\t\t\t\tlet fpsRepeatInterval = 1000 / this._FPS;\n\t\t\t\t\trepeatInterval = fpsRepeatInterval - (currentTimestamp-this._lastTimestamp)\n\t\t\t\t\tif (repeatInterval < 0) {\n\t\t\t\t\t\trepeatInterval = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._lastFPS = 1000 / ((currentTimestamp-this._lastTimestamp));\n\t\t\t\t// this._lastTimestamp = this._currentTimestamp;\n\t\t\t\t\n\t\t\t\tthis._timeout = setTimeout(() => {\n\t\t\t\t\tthis.runSyncTasks();\n\t\t\t\t}, repeatInterval);\n\t\t\t}\n\t\t}\n\t}\n\n}","/*!\n\npica\nhttps://github.com/nodeca/pica\n\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.pica = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){\n// Collection of math functions\n//\n// 1. Combine components together\n// 2. Has async init to load wasm modules\n//\n'use strict';\n\nvar Multimath = _dereq_('multimath');\n\nvar mm_unsharp_mask = _dereq_('./mm_unsharp_mask');\n\nvar mm_resize = _dereq_('./mm_resize');\n\nfunction MathLib(requested_features) {\n  var __requested_features = requested_features || [];\n\n  var features = {\n    js: __requested_features.indexOf('js') >= 0,\n    wasm: __requested_features.indexOf('wasm') >= 0\n  };\n  Multimath.call(this, features);\n  this.features = {\n    js: features.js,\n    wasm: features.wasm && this.has_wasm()\n  };\n  this.use(mm_unsharp_mask);\n  this.use(mm_resize);\n}\n\nMathLib.prototype = Object.create(Multimath.prototype);\nMathLib.prototype.constructor = MathLib;\n\nMathLib.prototype.resizeAndUnsharp = function resizeAndUnsharp(options, cache) {\n  var result = this.resize(options, cache);\n\n  if (options.unsharpAmount) {\n    this.unsharp_mask(result, options.toWidth, options.toHeight, options.unsharpAmount, options.unsharpRadius, options.unsharpThreshold);\n  }\n\n  return result;\n};\n\nmodule.exports = MathLib;\n\n},{\"./mm_resize\":4,\"./mm_unsharp_mask\":9,\"multimath\":19}],2:[function(_dereq_,module,exports){\n// Resize convolvers, pure JS implementation\n//\n'use strict'; // Precision of fixed FP values\n//var FIXED_FRAC_BITS = 14;\n\nfunction clampTo8(i) {\n  return i < 0 ? 0 : i > 255 ? 255 : i;\n}\n\nfunction clampNegative(i) {\n  return i >= 0 ? i : 0;\n} // Convolve image data in horizontal direction. Can be used for:\n//\n// 1. bitmap with premultiplied alpha\n// 2. bitmap without alpha (all values 255)\n//\n// Notes:\n//\n// - output is transposed\n// - output resolution is ~15 bits per channel(for better precision).\n//\n\n\nfunction convolveHor(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Store 15 bits between passes for better precision\n      // Instead of shift to 14 (FIXED_FRAC_BITS), shift to 7 only\n      //\n\n\n      dest[destOffset + 3] = clampNegative(a >> 7);\n      dest[destOffset + 2] = clampNegative(b >> 7);\n      dest[destOffset + 1] = clampNegative(g >> 7);\n      dest[destOffset] = clampNegative(r >> 7);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Supplementary method for `convolveHor()`\n//\n\n\nfunction convolveVert(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Sync with premultiplied version for exact result match\n\n\n      r >>= 7;\n      g >>= 7;\n      b >>= 7;\n      a >>= 7; // Bring this value back in range + round result.\n      //\n\n      dest[destOffset + 3] = clampTo8(a + (1 << 13) >> 14);\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14);\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14);\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Premultiply & convolve image data in horizontal direction. Can be used for:\n//\n// - Any bitmap data, extracted with `.getImageData()` method (with\n//   non-premultiplied alpha)\n//\n// For images without alpha channel this method is slower than `convolveHor()`\n//\n\n\nfunction convolveHorWithPre(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a, alpha;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        alpha = src[srcPtr + 3];\n        a = a + filterVal * alpha | 0;\n        b = b + filterVal * src[srcPtr + 2] * alpha | 0;\n        g = g + filterVal * src[srcPtr + 1] * alpha | 0;\n        r = r + filterVal * src[srcPtr] * alpha | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Premultiply is (* alpha / 255).\n      // Postpone division for better performance\n\n\n      b = b / 255 | 0;\n      g = g / 255 | 0;\n      r = r / 255 | 0; // Store 15 bits between passes for better precision\n      // Instead of shift to 14 (FIXED_FRAC_BITS), shift to 7 only\n      //\n\n      dest[destOffset + 3] = clampNegative(a >> 7);\n      dest[destOffset + 2] = clampNegative(b >> 7);\n      dest[destOffset + 1] = clampNegative(g >> 7);\n      dest[destOffset] = clampNegative(r >> 7);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Supplementary method for `convolveHorWithPre()`\n//\n\n\nfunction convolveVertWithPre(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Downscale to leave room for un-premultiply\n\n\n      r >>= 7;\n      g >>= 7;\n      b >>= 7;\n      a >>= 7; // Un-premultiply\n\n      a = clampTo8(a + (1 << 13) >> 14);\n\n      if (a > 0) {\n        r = r * 255 / a | 0;\n        g = g * 255 / a | 0;\n        b = b * 255 / a | 0;\n      } // Bring this value back in range + round result.\n      // Shift value = FIXED_FRAC_BITS + 7\n      //\n\n\n      dest[destOffset + 3] = a;\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14);\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14);\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n}\n\nmodule.exports = {\n  convolveHor: convolveHor,\n  convolveVert: convolveVert,\n  convolveHorWithPre: convolveHorWithPre,\n  convolveVertWithPre: convolveVertWithPre\n};\n\n},{}],3:[function(_dereq_,module,exports){\n// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n/* eslint-disable max-len */\n\nmodule.exports = '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';\n\n},{}],4:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = {\n  name: 'resize',\n  fn: _dereq_('./resize'),\n  wasm_fn: _dereq_('./resize_wasm'),\n  wasm_src: _dereq_('./convolve_wasm_base64')\n};\n\n},{\"./convolve_wasm_base64\":3,\"./resize\":5,\"./resize_wasm\":8}],5:[function(_dereq_,module,exports){\n'use strict';\n\nvar createFilters = _dereq_('./resize_filter_gen');\n\nvar _require = _dereq_('./convolve'),\n    convolveHor = _require.convolveHor,\n    convolveVert = _require.convolveVert,\n    convolveHorWithPre = _require.convolveHorWithPre,\n    convolveVertWithPre = _require.convolveVertWithPre;\n\nfunction hasAlpha(src, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    if (src[ptr] !== 255) return true;\n    ptr = ptr + 4 | 0;\n  }\n\n  return false;\n}\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nmodule.exports = function resize(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0;\n  var offsetY = options.offsetY || 0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var filter = typeof options.filter === 'undefined' ? 'mks2013' : options.filter;\n  var filtersX = createFilters(filter, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(filter, srcH, destH, scaleY, offsetY);\n  var tmp = new Uint16Array(destW * srcH * 4); // Autodetect if alpha channel exists, and use appropriate method\n\n  if (hasAlpha(src, srcW, srcH)) {\n    convolveHorWithPre(src, tmp, srcW, srcH, destW, filtersX);\n    convolveVertWithPre(tmp, dest, srcH, destW, destH, filtersY);\n  } else {\n    convolveHor(src, tmp, srcW, srcH, destW, filtersX);\n    convolveVert(tmp, dest, srcH, destW, destH, filtersY);\n    resetAlpha(dest, destW, destH);\n  }\n\n  return dest;\n};\n\n},{\"./convolve\":2,\"./resize_filter_gen\":6}],6:[function(_dereq_,module,exports){\n// Calculate convolution filters for each destination point,\n// and pack data to Int16Array:\n//\n// [ shift, length, data..., shift2, length2, data..., ... ]\n//\n// - shift - offset in src image\n// - length - filter length (in src points)\n// - data - filter values sequence\n//\n'use strict';\n\nvar FILTER_INFO = _dereq_('./resize_filter_info'); // Precision of fixed FP values\n\n\nvar FIXED_FRAC_BITS = 14;\n\nfunction toFixedPoint(num) {\n  return Math.round(num * ((1 << FIXED_FRAC_BITS) - 1));\n}\n\nmodule.exports = function resizeFilterGen(filter, srcSize, destSize, scale, offset) {\n  var filterFunction = FILTER_INFO.filter[filter].fn;\n  var scaleInverted = 1.0 / scale;\n  var scaleClamped = Math.min(1.0, scale); // For upscale\n  // Filter window (averaging interval), scaled to src image\n\n  var srcWindow = FILTER_INFO.filter[filter].win / scaleClamped;\n  var destPixel, srcPixel, srcFirst, srcLast, filterElementSize, floatFilter, fxpFilter, total, pxl, idx, floatVal, filterTotal, filterVal;\n  var leftNotEmpty, rightNotEmpty, filterShift, filterSize;\n  var maxFilterElementSize = Math.floor((srcWindow + 1) * 2);\n  var packedFilter = new Int16Array((maxFilterElementSize + 2) * destSize);\n  var packedFilterPtr = 0;\n  var slowCopy = !packedFilter.subarray || !packedFilter.set; // For each destination pixel calculate source range and built filter values\n\n  for (destPixel = 0; destPixel < destSize; destPixel++) {\n    // Scaling should be done relative to central pixel point\n    srcPixel = (destPixel + 0.5) * scaleInverted + offset;\n    srcFirst = Math.max(0, Math.floor(srcPixel - srcWindow));\n    srcLast = Math.min(srcSize - 1, Math.ceil(srcPixel + srcWindow));\n    filterElementSize = srcLast - srcFirst + 1;\n    floatFilter = new Float32Array(filterElementSize);\n    fxpFilter = new Int16Array(filterElementSize);\n    total = 0.0; // Fill filter values for calculated range\n\n    for (pxl = srcFirst, idx = 0; pxl <= srcLast; pxl++, idx++) {\n      floatVal = filterFunction((pxl + 0.5 - srcPixel) * scaleClamped);\n      total += floatVal;\n      floatFilter[idx] = floatVal;\n    } // Normalize filter, convert to fixed point and accumulate conversion error\n\n\n    filterTotal = 0;\n\n    for (idx = 0; idx < floatFilter.length; idx++) {\n      filterVal = floatFilter[idx] / total;\n      filterTotal += filterVal;\n      fxpFilter[idx] = toFixedPoint(filterVal);\n    } // Compensate normalization error, to minimize brightness drift\n\n\n    fxpFilter[destSize >> 1] += toFixedPoint(1.0 - filterTotal); //\n    // Now pack filter to useable form\n    //\n    // 1. Trim heading and tailing zero values, and compensate shitf/length\n    // 2. Put all to single array in this format:\n    //\n    //    [ pos shift, data length, value1, value2, value3, ... ]\n    //\n\n    leftNotEmpty = 0;\n\n    while (leftNotEmpty < fxpFilter.length && fxpFilter[leftNotEmpty] === 0) {\n      leftNotEmpty++;\n    }\n\n    if (leftNotEmpty < fxpFilter.length) {\n      rightNotEmpty = fxpFilter.length - 1;\n\n      while (rightNotEmpty > 0 && fxpFilter[rightNotEmpty] === 0) {\n        rightNotEmpty--;\n      }\n\n      filterShift = srcFirst + leftNotEmpty;\n      filterSize = rightNotEmpty - leftNotEmpty + 1;\n      packedFilter[packedFilterPtr++] = filterShift; // shift\n\n      packedFilter[packedFilterPtr++] = filterSize; // size\n\n      if (!slowCopy) {\n        packedFilter.set(fxpFilter.subarray(leftNotEmpty, rightNotEmpty + 1), packedFilterPtr);\n        packedFilterPtr += filterSize;\n      } else {\n        // fallback for old IE < 11, without subarray/set methods\n        for (idx = leftNotEmpty; idx <= rightNotEmpty; idx++) {\n          packedFilter[packedFilterPtr++] = fxpFilter[idx];\n        }\n      }\n    } else {\n      // zero data, write header only\n      packedFilter[packedFilterPtr++] = 0; // shift\n\n      packedFilter[packedFilterPtr++] = 0; // size\n    }\n  }\n\n  return packedFilter;\n};\n\n},{\"./resize_filter_info\":7}],7:[function(_dereq_,module,exports){\n// Filter definitions to build tables for\n// resizing convolvers.\n//\n// Presets for quality 0..3. Filter functions + window size\n//\n'use strict';\n\nvar filter = {\n  // Nearest neibor\n  box: {\n    win: 0.5,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n      return x < 0.5 ? 1.0 : 0.0;\n    }\n  },\n  // // Hamming\n  hamming: {\n    win: 1.0,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 1.0) {\n        return 0.0;\n      }\n\n      if (x < 1.19209290E-07) {\n        return 1.0;\n      }\n\n      var xpi = x * Math.PI;\n      return Math.sin(xpi) / xpi * (0.54 + 0.46 * Math.cos(xpi / 1.0));\n    }\n  },\n  // Lanczos, win = 2\n  lanczos2: {\n    win: 2.0,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 2.0) {\n        return 0.0;\n      }\n\n      if (x < 1.19209290E-07) {\n        return 1.0;\n      }\n\n      var xpi = x * Math.PI;\n      return Math.sin(xpi) / xpi * Math.sin(xpi / 2.0) / (xpi / 2.0);\n    }\n  },\n  // Lanczos, win = 3\n  lanczos3: {\n    win: 3.0,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 3.0) {\n        return 0.0;\n      }\n\n      if (x < 1.19209290E-07) {\n        return 1.0;\n      }\n\n      var xpi = x * Math.PI;\n      return Math.sin(xpi) / xpi * Math.sin(xpi / 3.0) / (xpi / 3.0);\n    }\n  },\n  // Magic Kernel Sharp 2013, win = 2.5\n  // http://johncostella.com/magic/\n  mks2013: {\n    win: 2.5,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 2.5) {\n        return 0.0;\n      }\n\n      if (x >= 1.5) {\n        return -0.125 * (x - 2.5) * (x - 2.5);\n      }\n\n      if (x >= 0.5) {\n        return 0.25 * (4 * x * x - 11 * x + 7);\n      }\n\n      return 1.0625 - 1.75 * x * x;\n    }\n  }\n};\nmodule.exports = {\n  filter: filter,\n  // Legacy mapping\n  f2q: {\n    box: 0,\n    hamming: 1,\n    lanczos2: 2,\n    lanczos3: 3\n  },\n  q2f: ['box', 'hamming', 'lanczos2', 'lanczos3']\n};\n\n},{}],8:[function(_dereq_,module,exports){\n'use strict';\n\nvar createFilters = _dereq_('./resize_filter_gen');\n\nfunction hasAlpha(src, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    if (src[ptr] !== 255) return true;\n    ptr = ptr + 4 | 0;\n  }\n\n  return false;\n}\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nfunction asUint8Array(src) {\n  return new Uint8Array(src.buffer, 0, src.byteLength);\n}\n\nvar IS_LE = true; // should not crash everything on module load in old browsers\n\ntry {\n  IS_LE = new Uint32Array(new Uint8Array([1, 0, 0, 0]).buffer)[0] === 1;\n} catch (__) {}\n\nfunction copyInt16asLE(src, target, target_offset) {\n  if (IS_LE) {\n    target.set(asUint8Array(src), target_offset);\n    return;\n  }\n\n  for (var ptr = target_offset, i = 0; i < src.length; i++) {\n    var data = src[i];\n    target[ptr++] = data & 0xFF;\n    target[ptr++] = data >> 8 & 0xFF;\n  }\n}\n\nmodule.exports = function resize_wasm(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0.0;\n  var offsetY = options.offsetY || 0.0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var filter = typeof options.filter === 'undefined' ? 'mks2013' : options.filter;\n  var filtersX = createFilters(filter, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(filter, srcH, destH, scaleY, offsetY); // destination is 0 too.\n\n  var src_offset = 0;\n  var src_size = Math.max(src.byteLength, dest.byteLength); // buffer between convolve passes\n\n  var tmp_offset = this.__align(src_offset + src_size);\n\n  var tmp_size = srcH * destW * 4 * 2; // 2 bytes per channel\n\n  var filtersX_offset = this.__align(tmp_offset + tmp_size);\n\n  var filtersY_offset = this.__align(filtersX_offset + filtersX.byteLength);\n\n  var alloc_bytes = filtersY_offset + filtersY.byteLength;\n\n  var instance = this.__instance('resize', alloc_bytes); //\n  // Fill memory block with data to process\n  //\n\n\n  var mem = new Uint8Array(this.__memory.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer); // 32-bit copy is much faster in chrome\n\n  var src32 = new Uint32Array(src.buffer);\n  mem32.set(src32); // We should guarantee LE bytes order. Filters are not big, so\n  // speed difference is not significant vs direct .set()\n\n  copyInt16asLE(filtersX, mem, filtersX_offset);\n  copyInt16asLE(filtersY, mem, filtersY_offset); // Now call webassembly method\n  // emsdk does method names with '_'\n\n  var fn = instance.exports.convolveHV || instance.exports._convolveHV;\n\n  if (hasAlpha(src, srcW, srcH)) {\n    fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH, 1);\n  } else {\n    fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH, 0);\n    resetAlpha(dest, destW, destH);\n  } //\n  // Copy data back to typed array\n  //\n  // 32-bit copy is much faster in chrome\n\n\n  var dest32 = new Uint32Array(dest.buffer);\n  dest32.set(new Uint32Array(this.__memory.buffer, 0, destH * destW));\n  return dest;\n};\n\n},{\"./resize_filter_gen\":6}],9:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = {\n  name: 'unsharp_mask',\n  fn: _dereq_('./unsharp_mask'),\n  wasm_fn: _dereq_('./unsharp_mask_wasm'),\n  wasm_src: _dereq_('./unsharp_mask_wasm_base64')\n};\n\n},{\"./unsharp_mask\":10,\"./unsharp_mask_wasm\":11,\"./unsharp_mask_wasm_base64\":12}],10:[function(_dereq_,module,exports){\n// Unsharp mask filter\n//\n// http://stackoverflow.com/a/23322820/1031804\n// USM(O) = O + (2 * (Amount / 100) * (O - GB))\n// GB - gaussian blur.\n//\n// Image is converted from RGB to HSV, unsharp mask is applied to the\n// brightness channel and then image is converted back to RGB.\n//\n'use strict';\n\nvar glur_mono16 = _dereq_('glur/mono16');\n\nfunction hsv_v16(img, width, height) {\n  var size = width * height;\n  var out = new Uint16Array(size);\n  var r, g, b, max;\n\n  for (var i = 0; i < size; i++) {\n    r = img[4 * i];\n    g = img[4 * i + 1];\n    b = img[4 * i + 2];\n    max = r >= g && r >= b ? r : g >= b && g >= r ? g : b;\n    out[i] = max << 8;\n  }\n\n  return out;\n}\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  var v1, v2, vmul;\n  var diff, iTimes4;\n\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var brightness = hsv_v16(img, width, height);\n  var blured = new Uint16Array(brightness); // copy, because blur modify src\n\n  glur_mono16(blured, width, height, radius);\n  var amountFp = amount / 100 * 0x1000 + 0.5 | 0;\n  var thresholdFp = threshold << 8;\n  var size = width * height;\n  /* eslint-disable indent */\n\n  for (var i = 0; i < size; i++) {\n    v1 = brightness[i];\n    diff = v1 - blured[i];\n\n    if (Math.abs(diff) >= thresholdFp) {\n      // add unsharp mask to the brightness channel\n      v2 = v1 + (amountFp * diff + 0x800 >> 12); // Both v1 and v2 are within [0.0 .. 255.0] (0000-FF00) range, never going into\n      // [255.003 .. 255.996] (FF01-FFFF). This allows to round this value as (x+.5)|0\n      // later without overflowing.\n\n      v2 = v2 > 0xff00 ? 0xff00 : v2;\n      v2 = v2 < 0x0000 ? 0x0000 : v2; // Avoid division by 0. V=0 means rgb(0,0,0), unsharp with unsharpAmount>0 cannot\n      // change this value (because diff between colors gets inflated), so no need to verify correctness.\n\n      v1 = v1 !== 0 ? v1 : 1; // Multiplying V in HSV model by a constant is equivalent to multiplying each component\n      // in RGB by the same constant (same for HSL), see also:\n      // https://beesbuzz.biz/code/16-hsv-color-transforms\n\n      vmul = (v2 << 12) / v1 | 0; // Result will be in [0..255] range because:\n      //  - all numbers are positive\n      //  - r,g,b <= (v1/256)\n      //  - r,g,b,(v1/256),(v2/256) <= 255\n      // So highest this number can get is X*255/X+0.5=255.5 which is < 256 and rounds down.\n\n      iTimes4 = i * 4;\n      img[iTimes4] = img[iTimes4] * vmul + 0x800 >> 12; // R\n\n      img[iTimes4 + 1] = img[iTimes4 + 1] * vmul + 0x800 >> 12; // G\n\n      img[iTimes4 + 2] = img[iTimes4 + 2] * vmul + 0x800 >> 12; // B\n    }\n  }\n};\n\n},{\"glur/mono16\":18}],11:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var pixels = width * height;\n  var img_bytes_cnt = pixels * 4;\n  var hsv_bytes_cnt = pixels * 2;\n  var blur_bytes_cnt = pixels * 2;\n  var blur_line_byte_cnt = Math.max(width, height) * 4; // float32 array\n\n  var blur_coeffs_byte_cnt = 8 * 4; // float32 array\n\n  var img_offset = 0;\n  var hsv_offset = img_bytes_cnt;\n  var blur_offset = hsv_offset + hsv_bytes_cnt;\n  var blur_tmp_offset = blur_offset + blur_bytes_cnt;\n  var blur_line_offset = blur_tmp_offset + blur_bytes_cnt;\n  var blur_coeffs_offset = blur_line_offset + blur_line_byte_cnt;\n\n  var instance = this.__instance('unsharp_mask', img_bytes_cnt + hsv_bytes_cnt + blur_bytes_cnt * 2 + blur_line_byte_cnt + blur_coeffs_byte_cnt, {\n    exp: Math.exp\n  }); // 32-bit copy is much faster in chrome\n\n\n  var img32 = new Uint32Array(img.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer);\n  mem32.set(img32); // HSL\n\n  var fn = instance.exports.hsv_v16 || instance.exports._hsv_v16;\n  fn(img_offset, hsv_offset, width, height); // BLUR\n\n  fn = instance.exports.blurMono16 || instance.exports._blurMono16;\n  fn(hsv_offset, blur_offset, blur_tmp_offset, blur_line_offset, blur_coeffs_offset, width, height, radius); // UNSHARP\n\n  fn = instance.exports.unsharp || instance.exports._unsharp;\n  fn(img_offset, img_offset, hsv_offset, blur_offset, width, height, amount, threshold); // 32-bit copy is much faster in chrome\n\n  img32.set(new Uint32Array(this.__memory.buffer, 0, pixels));\n};\n\n},{}],12:[function(_dereq_,module,exports){\n// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n/* eslint-disable max-len */\n\nmodule.exports = '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';\n\n},{}],13:[function(_dereq_,module,exports){\n'use strict';\n\nvar GC_INTERVAL = 100;\n\nfunction Pool(create, idle) {\n  this.create = create;\n  this.available = [];\n  this.acquired = {};\n  this.lastId = 1;\n  this.timeoutId = 0;\n  this.idle = idle || 2000;\n}\n\nPool.prototype.acquire = function () {\n  var _this = this;\n\n  var resource;\n\n  if (this.available.length !== 0) {\n    resource = this.available.pop();\n  } else {\n    resource = this.create();\n    resource.id = this.lastId++;\n\n    resource.release = function () {\n      return _this.release(resource);\n    };\n  }\n\n  this.acquired[resource.id] = resource;\n  return resource;\n};\n\nPool.prototype.release = function (resource) {\n  var _this2 = this;\n\n  delete this.acquired[resource.id];\n  resource.lastUsed = Date.now();\n  this.available.push(resource);\n\n  if (this.timeoutId === 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this2.gc();\n    }, GC_INTERVAL);\n  }\n};\n\nPool.prototype.gc = function () {\n  var _this3 = this;\n\n  var now = Date.now();\n  this.available = this.available.filter(function (resource) {\n    if (now - resource.lastUsed > _this3.idle) {\n      resource.destroy();\n      return false;\n    }\n\n    return true;\n  });\n\n  if (this.available.length !== 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this3.gc();\n    }, GC_INTERVAL);\n  } else {\n    this.timeoutId = 0;\n  }\n};\n\nmodule.exports = Pool;\n\n},{}],14:[function(_dereq_,module,exports){\n// Add intermediate resizing steps when scaling down by a very large factor.\n//\n// For example, when resizing 10000x10000 down to 10x10, it'll resize it to\n// 300x300 first.\n//\n// It's needed because tiler has issues when the entire tile is scaled down\n// to a few pixels (1024px source tile with border size 3 should result in\n// at least 3+3+2 = 8px target tile, so max scale factor is 128 here).\n//\n// Also, adding intermediate steps can speed up processing if we use lower\n// quality algorithms for first stages.\n//\n'use strict'; // min size = 0 results in infinite loop,\n// min size = 1 can consume large amount of memory\n\nvar MIN_INNER_TILE_SIZE = 2;\n\nmodule.exports = function createStages(fromWidth, fromHeight, toWidth, toHeight, srcTileSize, destTileBorder) {\n  var scaleX = toWidth / fromWidth;\n  var scaleY = toHeight / fromHeight; // derived from createRegions equation:\n  // innerTileWidth = pixelFloor(srcTileSize * scaleX) - 2 * destTileBorder;\n\n  var minScale = (2 * destTileBorder + MIN_INNER_TILE_SIZE + 1) / srcTileSize; // refuse to scale image multiple times by less than twice each time,\n  // it could only happen because of invalid options\n\n  if (minScale > 0.5) return [[toWidth, toHeight]];\n  var stageCount = Math.ceil(Math.log(Math.min(scaleX, scaleY)) / Math.log(minScale)); // no additional resizes are necessary,\n  // stageCount can be zero or be negative when enlarging the image\n\n  if (stageCount <= 1) return [[toWidth, toHeight]];\n  var result = [];\n\n  for (var i = 0; i < stageCount; i++) {\n    var width = Math.round(Math.pow(Math.pow(fromWidth, stageCount - i - 1) * Math.pow(toWidth, i + 1), 1 / stageCount));\n    var height = Math.round(Math.pow(Math.pow(fromHeight, stageCount - i - 1) * Math.pow(toHeight, i + 1), 1 / stageCount));\n    result.push([width, height]);\n  }\n\n  return result;\n};\n\n},{}],15:[function(_dereq_,module,exports){\n// Split original image into multiple 1024x1024 chunks to reduce memory usage\n// (images have to be unpacked into typed arrays for resizing) and allow\n// parallel processing of multiple tiles at a time.\n//\n'use strict';\n/*\n * pixelFloor and pixelCeil are modified versions of Math.floor and Math.ceil\n * functions which take into account floating point arithmetic errors.\n * Those errors can cause undesired increments/decrements of sizes and offsets:\n * Math.ceil(36 / (36 / 500)) = 501\n * pixelCeil(36 / (36 / 500)) = 500\n */\n\nvar PIXEL_EPSILON = 1e-5;\n\nfunction pixelFloor(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.floor(x);\n}\n\nfunction pixelCeil(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.ceil(x);\n}\n\nmodule.exports = function createRegions(options) {\n  var scaleX = options.toWidth / options.width;\n  var scaleY = options.toHeight / options.height;\n  var innerTileWidth = pixelFloor(options.srcTileSize * scaleX) - 2 * options.destTileBorder;\n  var innerTileHeight = pixelFloor(options.srcTileSize * scaleY) - 2 * options.destTileBorder; // prevent infinite loop, this should never happen\n\n  if (innerTileWidth < 1 || innerTileHeight < 1) {\n    throw new Error('Internal error in pica: target tile width/height is too small.');\n  }\n\n  var x, y;\n  var innerX, innerY, toTileWidth, toTileHeight;\n  var tiles = [];\n  var tile; // we go top-to-down instead of left-to-right to make image displayed from top to\n  // doesn in the browser\n\n  for (innerY = 0; innerY < options.toHeight; innerY += innerTileHeight) {\n    for (innerX = 0; innerX < options.toWidth; innerX += innerTileWidth) {\n      x = innerX - options.destTileBorder;\n\n      if (x < 0) {\n        x = 0;\n      }\n\n      toTileWidth = innerX + innerTileWidth + options.destTileBorder - x;\n\n      if (x + toTileWidth >= options.toWidth) {\n        toTileWidth = options.toWidth - x;\n      }\n\n      y = innerY - options.destTileBorder;\n\n      if (y < 0) {\n        y = 0;\n      }\n\n      toTileHeight = innerY + innerTileHeight + options.destTileBorder - y;\n\n      if (y + toTileHeight >= options.toHeight) {\n        toTileHeight = options.toHeight - y;\n      }\n\n      tile = {\n        toX: x,\n        toY: y,\n        toWidth: toTileWidth,\n        toHeight: toTileHeight,\n        toInnerX: innerX,\n        toInnerY: innerY,\n        toInnerWidth: innerTileWidth,\n        toInnerHeight: innerTileHeight,\n        offsetX: x / scaleX - pixelFloor(x / scaleX),\n        offsetY: y / scaleY - pixelFloor(y / scaleY),\n        scaleX: scaleX,\n        scaleY: scaleY,\n        x: pixelFloor(x / scaleX),\n        y: pixelFloor(y / scaleY),\n        width: pixelCeil(toTileWidth / scaleX),\n        height: pixelCeil(toTileHeight / scaleY)\n      };\n      tiles.push(tile);\n    }\n  }\n\n  return tiles;\n};\n\n},{}],16:[function(_dereq_,module,exports){\n'use strict';\n\nfunction objClass(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nmodule.exports.isCanvas = function isCanvas(element) {\n  var cname = objClass(element);\n  return cname === '[object HTMLCanvasElement]'\n  /* browser */\n  || cname === '[object OffscreenCanvas]' || cname === '[object Canvas]'\n  /* node-canvas */\n  ;\n};\n\nmodule.exports.isImage = function isImage(element) {\n  return objClass(element) === '[object HTMLImageElement]';\n};\n\nmodule.exports.isImageBitmap = function isImageBitmap(element) {\n  return objClass(element) === '[object ImageBitmap]';\n};\n\nmodule.exports.limiter = function limiter(concurrency) {\n  var active = 0,\n      queue = [];\n\n  function roll() {\n    if (active < concurrency && queue.length) {\n      active++;\n      queue.shift()();\n    }\n  }\n\n  return function limit(fn) {\n    return new Promise(function (resolve, reject) {\n      queue.push(function () {\n        fn().then(function (result) {\n          resolve(result);\n          active--;\n          roll();\n        }, function (err) {\n          reject(err);\n          active--;\n          roll();\n        });\n      });\n      roll();\n    });\n  };\n};\n\nmodule.exports.cib_quality_name = function cib_quality_name(num) {\n  switch (num) {\n    case 0:\n      return 'pixelated';\n\n    case 1:\n      return 'low';\n\n    case 2:\n      return 'medium';\n  }\n\n  return 'high';\n};\n\nmodule.exports.cib_support = function cib_support(createCanvas) {\n  return Promise.resolve().then(function () {\n    if (typeof createImageBitmap === 'undefined') {\n      return false;\n    }\n\n    var c = createCanvas(100, 100);\n    return createImageBitmap(c, 0, 0, 100, 100, {\n      resizeWidth: 10,\n      resizeHeight: 10,\n      resizeQuality: 'high'\n    }).then(function (bitmap) {\n      var status = bitmap.width === 10; // Branch below is filtered on upper level. We do not call resize\n      // detection for basic ImageBitmap.\n      //\n      // https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmap\n      // old Crome 51 has ImageBitmap without .close(). Then this code\n      // will throw and return 'false' as expected.\n      //\n\n      bitmap.close();\n      c = null;\n      return status;\n    });\n  })[\"catch\"](function () {\n    return false;\n  });\n};\n\nmodule.exports.worker_offscreen_canvas_support = function worker_offscreen_canvas_support() {\n  return new Promise(function (resolve, reject) {\n    if (typeof OffscreenCanvas === 'undefined') {\n      // if OffscreenCanvas is present, we assume browser supports Worker and built-in Promise as well\n      resolve(false);\n      return;\n    }\n\n    function workerPayload(self) {\n      if (typeof createImageBitmap === 'undefined') {\n        self.postMessage(false);\n        return;\n      }\n\n      Promise.resolve().then(function () {\n        var canvas = new OffscreenCanvas(10, 10); // test that 2d context can be used in worker\n\n        var ctx = canvas.getContext('2d');\n        ctx.rect(0, 0, 1, 1); // test that cib can be used to return image bitmap from worker\n\n        return createImageBitmap(canvas, 0, 0, 1, 1);\n      }).then(function () {\n        return self.postMessage(true);\n      }, function () {\n        return self.postMessage(false);\n      });\n    }\n\n    var code = btoa(\"(\".concat(workerPayload.toString(), \")(self);\"));\n    var w = new Worker(\"data:text/javascript;base64,\".concat(code));\n\n    w.onmessage = function (ev) {\n      return resolve(ev.data);\n    };\n\n    w.onerror = reject;\n  }).then(function (result) {\n    return result;\n  }, function () {\n    return false;\n  });\n}; // Check if canvas.getContext('2d').getImageData can be used,\n// FireFox randomizes the output of that function in `privacy.resistFingerprinting` mode\n\n\nmodule.exports.can_use_canvas = function can_use_canvas(createCanvas) {\n  var usable = false;\n\n  try {\n    var canvas = createCanvas(2, 1);\n    var ctx = canvas.getContext('2d');\n    var d = ctx.createImageData(2, 1);\n    d.data[0] = 12;\n    d.data[1] = 23;\n    d.data[2] = 34;\n    d.data[3] = 255;\n    d.data[4] = 45;\n    d.data[5] = 56;\n    d.data[6] = 67;\n    d.data[7] = 255;\n    ctx.putImageData(d, 0, 0);\n    d = null;\n    d = ctx.getImageData(0, 0, 2, 1);\n\n    if (d.data[0] === 12 && d.data[1] === 23 && d.data[2] === 34 && d.data[3] === 255 && d.data[4] === 45 && d.data[5] === 56 && d.data[6] === 67 && d.data[7] === 255) {\n      usable = true;\n    }\n  } catch (err) {}\n\n  return usable;\n}; // Check if createImageBitmap(img, sx, sy, sw, sh) signature works correctly\n// with JPEG images oriented with Exif;\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n// TODO: remove after it's fixed in chrome for at least 2 releases\n\n\nmodule.exports.cib_can_use_region = function cib_can_use_region() {\n  return new Promise(function (resolve) {\n    // `Image` check required for use in `ServiceWorker`\n    if (typeof Image === 'undefined' || typeof createImageBitmap === 'undefined') {\n      resolve(false);\n      return;\n    }\n\n    var image = new Image();\n    image.src = 'data:image/jpeg;base64,' + '/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAA' + 'AABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9' + 'sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRc' + 'ZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoa' + 'GhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRA' + 'f/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAA' + 'IQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAA' + 'AAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIB' + 'AT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAA' + 'AAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAA' + 'AAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQ' + 'QAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z';\n\n    image.onload = function () {\n      createImageBitmap(image, 0, 0, image.width, image.height).then(function (bitmap) {\n        if (bitmap.width === image.width && bitmap.height === image.height) {\n          resolve(true);\n        } else {\n          resolve(false);\n        }\n      }, function () {\n        return resolve(false);\n      });\n    };\n\n    image.onerror = function () {\n      return resolve(false);\n    };\n  });\n};\n\n},{}],17:[function(_dereq_,module,exports){\n// Web Worker wrapper for image resize function\n'use strict';\n\nmodule.exports = function () {\n  var MathLib = _dereq_('./mathlib');\n\n  var mathLib;\n  /* eslint-disable no-undef */\n\n  onmessage = function onmessage(ev) {\n    var tileOpts = ev.data.opts;\n    var returnBitmap = false;\n\n    if (!tileOpts.src && tileOpts.srcBitmap) {\n      var canvas = new OffscreenCanvas(tileOpts.width, tileOpts.height);\n      var ctx = canvas.getContext('2d');\n      ctx.drawImage(tileOpts.srcBitmap, 0, 0);\n      tileOpts.src = ctx.getImageData(0, 0, tileOpts.width, tileOpts.height).data;\n      canvas.width = canvas.height = 0;\n      canvas = null;\n      tileOpts.srcBitmap.close();\n      tileOpts.srcBitmap = null; // Temporary force out data to typed array, because Chrome have artefacts\n      // https://github.com/nodeca/pica/issues/223\n      // returnBitmap = true;\n    }\n\n    if (!mathLib) mathLib = new MathLib(ev.data.features); // Use multimath's sync auto-init. Avoid Promise use in old browsers,\n    // because polyfills are not propagated to webworker.\n\n    var data = mathLib.resizeAndUnsharp(tileOpts);\n\n    if (returnBitmap) {\n      var toImageData = new ImageData(new Uint8ClampedArray(data), tileOpts.toWidth, tileOpts.toHeight);\n\n      var _canvas = new OffscreenCanvas(tileOpts.toWidth, tileOpts.toHeight);\n\n      var _ctx = _canvas.getContext('2d');\n\n      _ctx.putImageData(toImageData, 0, 0);\n\n      createImageBitmap(_canvas).then(function (bitmap) {\n        postMessage({\n          bitmap: bitmap\n        }, [bitmap]);\n      });\n    } else {\n      postMessage({\n        data: data\n      }, [data.buffer]);\n    }\n  };\n};\n\n},{\"./mathlib\":1}],18:[function(_dereq_,module,exports){\n// Calculate Gaussian blur of an image using IIR filter\n// The method is taken from Intel's white paper and code example attached to it:\n// https://software.intel.com/en-us/articles/iir-gaussian-blur-filter\n// -implementation-using-intel-advanced-vector-extensions\n\nvar a0, a1, a2, a3, b1, b2, left_corner, right_corner;\n\nfunction gaussCoef(sigma) {\n  if (sigma < 0.5) {\n    sigma = 0.5;\n  }\n\n  var a = Math.exp(0.726 * 0.726) / sigma,\n      g1 = Math.exp(-a),\n      g2 = Math.exp(-2 * a),\n      k = (1 - g1) * (1 - g1) / (1 + 2 * a * g1 - g2);\n\n  a0 = k;\n  a1 = k * (a - 1) * g1;\n  a2 = k * (a + 1) * g1;\n  a3 = -k * g2;\n  b1 = 2 * g1;\n  b2 = -g2;\n  left_corner = (a0 + a1) / (1 - b1 - b2);\n  right_corner = (a2 + a3) / (1 - b1 - b2);\n\n  // Attempt to force type to FP32.\n  return new Float32Array([ a0, a1, a2, a3, b1, b2, left_corner, right_corner ]);\n}\n\nfunction convolveMono16(src, out, line, coeff, width, height) {\n  // takes src image and writes the blurred and transposed result into out\n\n  var prev_src, curr_src, curr_out, prev_out, prev_prev_out;\n  var src_index, out_index, line_index;\n  var i, j;\n  var coeff_a0, coeff_a1, coeff_b1, coeff_b2;\n\n  for (i = 0; i < height; i++) {\n    src_index = i * width;\n    out_index = i;\n    line_index = 0;\n\n    // left to right\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[6];\n    prev_out = prev_prev_out;\n\n    coeff_a0 = coeff[0];\n    coeff_a1 = coeff[1];\n    coeff_b1 = coeff[4];\n    coeff_b2 = coeff[5];\n\n    for (j = 0; j < width; j++) {\n      curr_src = src[src_index];\n\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n      prev_src = curr_src;\n\n      line[line_index] = prev_out;\n      line_index++;\n      src_index++;\n    }\n\n    src_index--;\n    line_index--;\n    out_index += height * (width - 1);\n\n    // right to left\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[7];\n    prev_out = prev_prev_out;\n    curr_src = prev_src;\n\n    coeff_a0 = coeff[2];\n    coeff_a1 = coeff[3];\n\n    for (j = width - 1; j >= 0; j--) {\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n\n      prev_src = curr_src;\n      curr_src = src[src_index];\n\n      out[out_index] = line[line_index] + prev_out;\n\n      src_index--;\n      line_index--;\n      out_index -= height;\n    }\n  }\n}\n\n\nfunction blurMono16(src, width, height, radius) {\n  // Quick exit on zero radius\n  if (!radius) { return; }\n\n  var out      = new Uint16Array(src.length),\n      tmp_line = new Float32Array(Math.max(width, height));\n\n  var coeff = gaussCoef(radius);\n\n  convolveMono16(src, out, tmp_line, coeff, width, height, radius);\n  convolveMono16(out, src, tmp_line, coeff, height, width, radius);\n}\n\nmodule.exports = blurMono16;\n\n},{}],19:[function(_dereq_,module,exports){\n'use strict';\n\n\nvar assign         = _dereq_('object-assign');\nvar base64decode   = _dereq_('./lib/base64decode');\nvar hasWebAssembly = _dereq_('./lib/wa_detect');\n\n\nvar DEFAULT_OPTIONS = {\n  js: true,\n  wasm: true\n};\n\n\nfunction MultiMath(options) {\n  if (!(this instanceof MultiMath)) return new MultiMath(options);\n\n  var opts = assign({}, DEFAULT_OPTIONS, options || {});\n\n  this.options         = opts;\n\n  this.__cache         = {};\n\n  this.__init_promise  = null;\n  this.__modules       = opts.modules || {};\n  this.__memory        = null;\n  this.__wasm          = {};\n\n  this.__isLE = ((new Uint32Array((new Uint8Array([ 1, 0, 0, 0 ])).buffer))[0] === 1);\n\n  if (!this.options.js && !this.options.wasm) {\n    throw new Error('mathlib: at least \"js\" or \"wasm\" should be enabled');\n  }\n}\n\n\nMultiMath.prototype.has_wasm = hasWebAssembly;\n\n\nMultiMath.prototype.use = function (module) {\n  this.__modules[module.name] = module;\n\n  // Pin the best possible implementation\n  if (this.options.wasm && this.has_wasm() && module.wasm_fn) {\n    this[module.name] = module.wasm_fn;\n  } else {\n    this[module.name] = module.fn;\n  }\n\n  return this;\n};\n\n\nMultiMath.prototype.init = function () {\n  if (this.__init_promise) return this.__init_promise;\n\n  if (!this.options.js && this.options.wasm && !this.has_wasm()) {\n    return Promise.reject(new Error('mathlib: only \"wasm\" was enabled, but it\\'s not supported'));\n  }\n\n  var self = this;\n\n  this.__init_promise = Promise.all(Object.keys(self.__modules).map(function (name) {\n    var module = self.__modules[name];\n\n    if (!self.options.wasm || !self.has_wasm() || !module.wasm_fn) return null;\n\n    // If already compiled - exit\n    if (self.__wasm[name]) return null;\n\n    // Compile wasm source\n    return WebAssembly.compile(self.__base64decode(module.wasm_src))\n      .then(function (m) { self.__wasm[name] = m; });\n  }))\n    .then(function () { return self; });\n\n  return this.__init_promise;\n};\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Methods below are for internal use from plugins\n\n\n// Simple decode base64 to typed array. Useful to load embedded webassembly\n// code. You probably don't need to call this method directly.\n//\nMultiMath.prototype.__base64decode = base64decode;\n\n\n// Increase current memory to include specified number of bytes. Do nothing if\n// size is already ok. You probably don't need to call this method directly,\n// because it will be invoked from `.__instance()`.\n//\nMultiMath.prototype.__reallocate = function mem_grow_to(bytes) {\n  if (!this.__memory) {\n    this.__memory = new WebAssembly.Memory({\n      initial: Math.ceil(bytes / (64 * 1024))\n    });\n    return this.__memory;\n  }\n\n  var mem_size = this.__memory.buffer.byteLength;\n\n  if (mem_size < bytes) {\n    this.__memory.grow(Math.ceil((bytes - mem_size) / (64 * 1024)));\n  }\n\n  return this.__memory;\n};\n\n\n// Returns instantinated webassembly item by name, with specified memory size\n// and environment.\n// - use cache if available\n// - do sync module init, if async init was not called earlier\n// - allocate memory if not enougth\n// - can export functions to webassembly via \"env_extra\",\n//   for example, { exp: Math.exp }\n//\nMultiMath.prototype.__instance = function instance(name, memsize, env_extra) {\n  if (memsize) this.__reallocate(memsize);\n\n  // If .init() was not called, do sync compile\n  if (!this.__wasm[name]) {\n    var module = this.__modules[name];\n    this.__wasm[name] = new WebAssembly.Module(this.__base64decode(module.wasm_src));\n  }\n\n  if (!this.__cache[name]) {\n    var env_base = {\n      memoryBase: 0,\n      memory: this.__memory,\n      tableBase: 0,\n      table: new WebAssembly.Table({ initial: 0, element: 'anyfunc' })\n    };\n\n    this.__cache[name] = new WebAssembly.Instance(this.__wasm[name], {\n      env: assign(env_base, env_extra || {})\n    });\n  }\n\n  return this.__cache[name];\n};\n\n\n// Helper to calculate memory aligh for pointers. Webassembly does not require\n// this, but you may wish to experiment. Default base = 8;\n//\nMultiMath.prototype.__align = function align(number, base) {\n  base = base || 8;\n  var reminder = number % base;\n  return number + (reminder ? base - reminder : 0);\n};\n\n\nmodule.exports = MultiMath;\n\n},{\"./lib/base64decode\":20,\"./lib/wa_detect\":21,\"object-assign\":22}],20:[function(_dereq_,module,exports){\n// base64 decode str -> Uint8Array, to load WA modules\n//\n'use strict';\n\n\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n\nmodule.exports = function base64decode(str) {\n  var input = str.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max   = input.length;\n\n  var out = new Uint8Array((max * 3) >> 2);\n\n  // Collect by 6*4 bits (3 bytes)\n\n  var bits = 0;\n  var ptr  = 0;\n\n  for (var idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      out[ptr++] = (bits >> 16) & 0xFF;\n      out[ptr++] = (bits >> 8) & 0xFF;\n      out[ptr++] = bits & 0xFF;\n    }\n\n    bits = (bits << 6) | BASE64_MAP.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  var tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    out[ptr++] = (bits >> 16) & 0xFF;\n    out[ptr++] = (bits >> 8) & 0xFF;\n    out[ptr++] = bits & 0xFF;\n  } else if (tailbits === 18) {\n    out[ptr++] = (bits >> 10) & 0xFF;\n    out[ptr++] = (bits >> 2) & 0xFF;\n  } else if (tailbits === 12) {\n    out[ptr++] = (bits >> 4) & 0xFF;\n  }\n\n  return out;\n};\n\n},{}],21:[function(_dereq_,module,exports){\n// Detect WebAssembly support.\n// - Check global WebAssembly object\n// - Try to load simple module (can be disabled via CSP)\n//\n'use strict';\n\n\nvar wa;\n\n\nmodule.exports = function hasWebAssembly() {\n  // use cache if called before;\n  if (typeof wa !== 'undefined') return wa;\n\n  wa = false;\n\n  if (typeof WebAssembly === 'undefined') return wa;\n\n  // If WebAssenbly is disabled, code can throw on compile\n  try {\n    // https://github.com/brion/min-wasm-fail/blob/master/min-wasm-fail.in.js\n    // Additional check that WA internals are correct\n\n    /* eslint-disable comma-spacing, max-len */\n    var bin      = new Uint8Array([ 0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11 ]);\n    var module   = new WebAssembly.Module(bin);\n    var instance = new WebAssembly.Instance(module, {});\n\n    // test storing to and loading from a non-zero location via a parameter.\n    // Safari on iOS 11.2.5 returns 0 unexpectedly at non-zero locations\n    if (instance.exports.test(4) !== 0) wa = true;\n\n    return wa;\n  } catch (__) {}\n\n  return wa;\n};\n\n},{}],22:[function(_dereq_,module,exports){\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],23:[function(_dereq_,module,exports){\nvar bundleFn = arguments[3];\nvar sources = arguments[4];\nvar cache = arguments[5];\n\nvar stringify = JSON.stringify;\n\nmodule.exports = function (fn, options) {\n    var wkey;\n    var cacheKeys = Object.keys(cache);\n\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\n        var key = cacheKeys[i];\n        var exp = cache[key].exports;\n        // Using babel as a transpiler to use esmodule, the export will always\n        // be an object with the default export as a property of it. To ensure\n        // the existing api and babel esmodule exports are both supported we\n        // check for both\n        if (exp === fn || exp && exp.default === fn) {\n            wkey = key;\n            break;\n        }\n    }\n\n    if (!wkey) {\n        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n        var wcache = {};\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n            var key = cacheKeys[i];\n            wcache[key] = key;\n        }\n        sources[wkey] = [\n            'function(require,module,exports){' + fn + '(self); }',\n            wcache\n        ];\n    }\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n    var scache = {}; scache[wkey] = wkey;\n    sources[skey] = [\n        'function(require,module,exports){' +\n            // try to call default if defined to also support babel esmodule exports\n            'var f = require(' + stringify(wkey) + ');' +\n            '(f.default ? f.default : f)(self);' +\n        '}',\n        scache\n    ];\n\n    var workerSources = {};\n    resolveSources(skey);\n\n    function resolveSources(key) {\n        workerSources[key] = true;\n\n        for (var depPath in sources[key][1]) {\n            var depKey = sources[key][1][depPath];\n            if (!workerSources[depKey]) {\n                resolveSources(depKey);\n            }\n        }\n    }\n\n    var src = '(' + bundleFn + ')({'\n        + Object.keys(workerSources).map(function (key) {\n            return stringify(key) + ':['\n                + sources[key][0]\n                + ',' + stringify(sources[key][1]) + ']'\n            ;\n        }).join(',')\n        + '},{},[' + stringify(skey) + '])'\n    ;\n\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n    var blob = new Blob([src], { type: 'text/javascript' });\n    if (options && options.bare) { return blob; }\n    var workerUrl = URL.createObjectURL(blob);\n    var worker = new Worker(workerUrl);\n    worker.objectURL = workerUrl;\n    return worker;\n};\n\n},{}],\"/index.js\":[function(_dereq_,module,exports){\n'use strict';\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = _dereq_('object-assign');\n\nvar webworkify = _dereq_('webworkify');\n\nvar MathLib = _dereq_('./lib/mathlib');\n\nvar Pool = _dereq_('./lib/pool');\n\nvar utils = _dereq_('./lib/utils');\n\nvar worker = _dereq_('./lib/worker');\n\nvar createStages = _dereq_('./lib/stepper');\n\nvar createRegions = _dereq_('./lib/tiler');\n\nvar filter_info = _dereq_('./lib/mm_resize/resize_filter_info'); // Deduplicate pools & limiters with the same configs\n// when user creates multiple pica instances.\n\n\nvar singletones = {};\nvar NEED_SAFARI_FIX = false;\n\ntry {\n  if (typeof navigator !== 'undefined' && navigator.userAgent) {\n    NEED_SAFARI_FIX = navigator.userAgent.indexOf('Safari') >= 0;\n  }\n} catch (e) {}\n\nvar concurrency = 1;\n\nif (typeof navigator !== 'undefined') {\n  concurrency = Math.min(navigator.hardwareConcurrency || 1, 4);\n}\n\nvar DEFAULT_PICA_OPTS = {\n  tile: 1024,\n  concurrency: concurrency,\n  features: ['js', 'wasm', 'ww'],\n  idle: 2000,\n  createCanvas: function createCanvas(width, height) {\n    var tmpCanvas = document.createElement('canvas');\n    tmpCanvas.width = width;\n    tmpCanvas.height = height;\n    return tmpCanvas;\n  }\n};\nvar DEFAULT_RESIZE_OPTS = {\n  filter: 'mks2013',\n  unsharpAmount: 0,\n  unsharpRadius: 0.0,\n  unsharpThreshold: 0\n};\nvar CAN_NEW_IMAGE_DATA = false;\nvar CAN_CREATE_IMAGE_BITMAP = false;\nvar CAN_USE_CANVAS_GET_IMAGE_DATA = false;\nvar CAN_USE_OFFSCREEN_CANVAS = false;\nvar CAN_USE_CIB_REGION_FOR_IMAGE = false;\n\nfunction workerFabric() {\n  return {\n    value: webworkify(worker),\n    destroy: function destroy() {\n      this.value.terminate();\n\n      if (typeof window !== 'undefined') {\n        var url = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n        if (url && url.revokeObjectURL && this.value.objectURL) {\n          url.revokeObjectURL(this.value.objectURL);\n        }\n      }\n    }\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n// API methods\n\n\nfunction Pica(options) {\n  if (!(this instanceof Pica)) return new Pica(options);\n  this.options = assign({}, DEFAULT_PICA_OPTS, options || {});\n  var limiter_key = \"lk_\".concat(this.options.concurrency); // Share limiters to avoid multiple parallel workers when user creates\n  // multiple pica instances.\n\n  this.__limit = singletones[limiter_key] || utils.limiter(this.options.concurrency);\n  if (!singletones[limiter_key]) singletones[limiter_key] = this.__limit; // List of supported features, according to options & browser/node.js\n\n  this.features = {\n    js: false,\n    // pure JS implementation, can be disabled for testing\n    wasm: false,\n    // webassembly implementation for heavy functions\n    cib: false,\n    // resize via createImageBitmap (only FF at this moment)\n    ww: false // webworkers\n\n  };\n  this.__workersPool = null; // Store requested features for webworkers\n\n  this.__requested_features = [];\n  this.__mathlib = null;\n}\n\nPica.prototype.init = function () {\n  var _this = this;\n\n  if (this.__initPromise) return this.__initPromise; // Test if we can create ImageData without canvas and memory copy\n\n  if (typeof ImageData !== 'undefined' && typeof Uint8ClampedArray !== 'undefined') {\n    try {\n      /* eslint-disable no-new */\n      new ImageData(new Uint8ClampedArray(400), 10, 10);\n      CAN_NEW_IMAGE_DATA = true;\n    } catch (__) {}\n  } // ImageBitmap can be effective in 2 places:\n  //\n  // 1. Threaded jpeg unpack (basic)\n  // 2. Built-in resize (blocked due problem in chrome, see issue #89)\n  //\n  // For basic use we also need ImageBitmap wo support .close() method,\n  // see https://developer.mozilla.org/ru/docs/Web/API/ImageBitmap\n\n\n  if (typeof ImageBitmap !== 'undefined') {\n    if (ImageBitmap.prototype && ImageBitmap.prototype.close) {\n      CAN_CREATE_IMAGE_BITMAP = true;\n    } else {\n      this.debug('ImageBitmap does not support .close(), disabled');\n    }\n  }\n\n  var features = this.options.features.slice();\n\n  if (features.indexOf('all') >= 0) {\n    features = ['cib', 'wasm', 'js', 'ww'];\n  }\n\n  this.__requested_features = features;\n  this.__mathlib = new MathLib(features); // Check WebWorker support if requested\n\n  if (features.indexOf('ww') >= 0) {\n    if (typeof window !== 'undefined' && 'Worker' in window) {\n      // IE <= 11 don't allow to create webworkers from string. We should check it.\n      // https://connect.microsoft.com/IE/feedback/details/801810/web-workers-from-blob-urls-in-ie-10-and-11\n      try {\n        var wkr = _dereq_('webworkify')(function () {});\n\n        wkr.terminate();\n        this.features.ww = true; // pool uniqueness depends on pool config + webworker config\n\n        var wpool_key = \"wp_\".concat(JSON.stringify(this.options));\n\n        if (singletones[wpool_key]) {\n          this.__workersPool = singletones[wpool_key];\n        } else {\n          this.__workersPool = new Pool(workerFabric, this.options.idle);\n          singletones[wpool_key] = this.__workersPool;\n        }\n      } catch (__) {}\n    }\n  }\n\n  var initMath = this.__mathlib.init().then(function (mathlib) {\n    // Copy detected features\n    assign(_this.features, mathlib.features);\n  });\n\n  var checkCibResize;\n\n  if (!CAN_CREATE_IMAGE_BITMAP) {\n    checkCibResize = Promise.resolve(false);\n  } else {\n    checkCibResize = utils.cib_support(this.options.createCanvas).then(function (status) {\n      if (_this.features.cib && features.indexOf('cib') < 0) {\n        _this.debug('createImageBitmap() resize supported, but disabled by config');\n\n        return;\n      }\n\n      if (features.indexOf('cib') >= 0) _this.features.cib = status;\n    });\n  }\n\n  CAN_USE_CANVAS_GET_IMAGE_DATA = utils.can_use_canvas(this.options.createCanvas);\n  var checkOffscreenCanvas;\n\n  if (CAN_CREATE_IMAGE_BITMAP && CAN_NEW_IMAGE_DATA && features.indexOf('ww') !== -1) {\n    checkOffscreenCanvas = utils.worker_offscreen_canvas_support();\n  } else {\n    checkOffscreenCanvas = Promise.resolve(false);\n  }\n\n  checkOffscreenCanvas = checkOffscreenCanvas.then(function (result) {\n    CAN_USE_OFFSCREEN_CANVAS = result;\n  }); // we use createImageBitmap to crop image data and pass it to workers,\n  // so need to check whether function works correctly;\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n\n  var checkCibRegion = utils.cib_can_use_region().then(function (result) {\n    CAN_USE_CIB_REGION_FOR_IMAGE = result;\n  }); // Init math lib. That's async because can load some\n\n  this.__initPromise = Promise.all([initMath, checkCibResize, checkOffscreenCanvas, checkCibRegion]).then(function () {\n    return _this;\n  });\n  return this.__initPromise;\n}; // Call resizer in webworker or locally, depending on config\n\n\nPica.prototype.__invokeResize = function (tileOpts, opts) {\n  var _this2 = this;\n\n  // Share cache between calls:\n  //\n  // - wasm instance\n  // - wasm memory object\n  //\n  opts.__mathCache = opts.__mathCache || {};\n  return Promise.resolve().then(function () {\n    if (!_this2.features.ww) {\n      // not possible to have ImageBitmap here if user disabled WW\n      return {\n        data: _this2.__mathlib.resizeAndUnsharp(tileOpts, opts.__mathCache)\n      };\n    }\n\n    return new Promise(function (resolve, reject) {\n      var w = _this2.__workersPool.acquire();\n\n      if (opts.cancelToken) opts.cancelToken[\"catch\"](function (err) {\n        return reject(err);\n      });\n\n      w.value.onmessage = function (ev) {\n        w.release();\n        if (ev.data.err) reject(ev.data.err);else resolve(ev.data);\n      };\n\n      var transfer = [];\n      if (tileOpts.src) transfer.push(tileOpts.src.buffer);\n      if (tileOpts.srcBitmap) transfer.push(tileOpts.srcBitmap);\n      w.value.postMessage({\n        opts: tileOpts,\n        features: _this2.__requested_features,\n        preload: {\n          wasm_nodule: _this2.__mathlib.__\n        }\n      }, transfer);\n    });\n  });\n}; // this function can return promise if createImageBitmap is used\n\n\nPica.prototype.__extractTileData = function (tile, from, opts, stageEnv, extractTo) {\n  if (this.features.ww && CAN_USE_OFFSCREEN_CANVAS && ( // createImageBitmap doesn't work for images (Image, ImageBitmap) with Exif orientation in Chrome,\n  // can use canvas because canvas doesn't have orientation;\n  // see https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n  utils.isCanvas(from) || CAN_USE_CIB_REGION_FOR_IMAGE)) {\n    this.debug('Create tile for OffscreenCanvas');\n    return createImageBitmap(stageEnv.srcImageBitmap || from, tile.x, tile.y, tile.width, tile.height).then(function (bitmap) {\n      extractTo.srcBitmap = bitmap;\n      return extractTo;\n    });\n  } // Extract tile RGBA buffer, depending on input type\n\n\n  if (utils.isCanvas(from)) {\n    if (!stageEnv.srcCtx) stageEnv.srcCtx = from.getContext('2d'); // If input is Canvas - extract region data directly\n\n    this.debug('Get tile pixel data');\n    extractTo.src = stageEnv.srcCtx.getImageData(tile.x, tile.y, tile.width, tile.height).data;\n    return extractTo;\n  } // If input is Image or decoded to ImageBitmap,\n  // draw region to temporary canvas and extract data from it\n  //\n  // Note! Attempt to reuse this canvas causes significant slowdown in chrome\n  //\n\n\n  this.debug('Draw tile imageBitmap/image to temporary canvas');\n  var tmpCanvas = this.options.createCanvas(tile.width, tile.height);\n  var tmpCtx = tmpCanvas.getContext('2d');\n  tmpCtx.globalCompositeOperation = 'copy';\n  tmpCtx.drawImage(stageEnv.srcImageBitmap || from, tile.x, tile.y, tile.width, tile.height, 0, 0, tile.width, tile.height);\n  this.debug('Get tile pixel data');\n  extractTo.src = tmpCtx.getImageData(0, 0, tile.width, tile.height).data; // Safari 12 workaround\n  // https://github.com/nodeca/pica/issues/199\n\n  tmpCanvas.width = tmpCanvas.height = 0;\n  return extractTo;\n};\n\nPica.prototype.__landTileData = function (tile, result, stageEnv) {\n  var toImageData;\n  this.debug('Convert raw rgba tile result to ImageData');\n\n  if (result.bitmap) {\n    stageEnv.toCtx.drawImage(result.bitmap, tile.toX, tile.toY);\n    return null;\n  }\n\n  if (CAN_NEW_IMAGE_DATA) {\n    // this branch is for modern browsers\n    // If `new ImageData()` & Uint8ClampedArray suported\n    toImageData = new ImageData(new Uint8ClampedArray(result.data), tile.toWidth, tile.toHeight);\n  } else {\n    // fallback for `node-canvas` and old browsers\n    // (IE11 has ImageData but does not support `new ImageData()`)\n    toImageData = stageEnv.toCtx.createImageData(tile.toWidth, tile.toHeight);\n\n    if (toImageData.data.set) {\n      toImageData.data.set(result.data);\n    } else {\n      // IE9 don't have `.set()`\n      for (var i = toImageData.data.length - 1; i >= 0; i--) {\n        toImageData.data[i] = result.data[i];\n      }\n    }\n  }\n\n  this.debug('Draw tile');\n\n  if (NEED_SAFARI_FIX) {\n    // Safari draws thin white stripes between tiles without this fix\n    stageEnv.toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth + 1e-5, tile.toInnerHeight + 1e-5);\n  } else {\n    stageEnv.toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth, tile.toInnerHeight);\n  }\n\n  return null;\n};\n\nPica.prototype.__tileAndResize = function (from, to, opts) {\n  var _this3 = this;\n\n  var stageEnv = {\n    srcCtx: null,\n    srcImageBitmap: null,\n    isImageBitmapReused: false,\n    toCtx: null\n  };\n\n  var processTile = function processTile(tile) {\n    return _this3.__limit(function () {\n      if (opts.canceled) return opts.cancelToken;\n      var tileOpts = {\n        width: tile.width,\n        height: tile.height,\n        toWidth: tile.toWidth,\n        toHeight: tile.toHeight,\n        scaleX: tile.scaleX,\n        scaleY: tile.scaleY,\n        offsetX: tile.offsetX,\n        offsetY: tile.offsetY,\n        filter: opts.filter,\n        unsharpAmount: opts.unsharpAmount,\n        unsharpRadius: opts.unsharpRadius,\n        unsharpThreshold: opts.unsharpThreshold\n      };\n\n      _this3.debug('Invoke resize math');\n\n      return Promise.resolve(tileOpts).then(function (tileOpts) {\n        return _this3.__extractTileData(tile, from, opts, stageEnv, tileOpts);\n      }).then(function (tileOpts) {\n        _this3.debug('Invoke resize math');\n\n        return _this3.__invokeResize(tileOpts, opts);\n      }).then(function (result) {\n        if (opts.canceled) return opts.cancelToken;\n        stageEnv.srcImageData = null;\n        return _this3.__landTileData(tile, result, stageEnv);\n      });\n    });\n  }; // Need to normalize data source first. It can be canvas or image.\n  // If image - try to decode in background if possible\n\n\n  return Promise.resolve().then(function () {\n    stageEnv.toCtx = to.getContext('2d');\n    if (utils.isCanvas(from)) return null;\n\n    if (utils.isImageBitmap(from)) {\n      stageEnv.srcImageBitmap = from;\n      stageEnv.isImageBitmapReused = true;\n      return null;\n    }\n\n    if (utils.isImage(from)) {\n      // try do decode image in background for faster next operations;\n      // if we're using offscreen canvas, cib is called per tile, so not needed here\n      if (!CAN_CREATE_IMAGE_BITMAP) return null;\n\n      _this3.debug('Decode image via createImageBitmap');\n\n      return createImageBitmap(from).then(function (imageBitmap) {\n        stageEnv.srcImageBitmap = imageBitmap;\n      }) // Suppress error to use fallback, if method fails\n      // https://github.com/nodeca/pica/issues/190\n\n      /* eslint-disable no-unused-vars */\n      [\"catch\"](function (e) {\n        return null;\n      });\n    }\n\n    throw new Error('Pica: \".from\" should be Image, Canvas or ImageBitmap');\n  }).then(function () {\n    if (opts.canceled) return opts.cancelToken;\n\n    _this3.debug('Calculate tiles'); //\n    // Here we are with \"normalized\" source,\n    // follow to tiling\n    //\n\n\n    var regions = createRegions({\n      width: opts.width,\n      height: opts.height,\n      srcTileSize: _this3.options.tile,\n      toWidth: opts.toWidth,\n      toHeight: opts.toHeight,\n      destTileBorder: opts.__destTileBorder\n    });\n    var jobs = regions.map(function (tile) {\n      return processTile(tile);\n    });\n\n    function cleanup(stageEnv) {\n      if (stageEnv.srcImageBitmap) {\n        if (!stageEnv.isImageBitmapReused) stageEnv.srcImageBitmap.close();\n        stageEnv.srcImageBitmap = null;\n      }\n    }\n\n    _this3.debug('Process tiles');\n\n    return Promise.all(jobs).then(function () {\n      _this3.debug('Finished!');\n\n      cleanup(stageEnv);\n      return to;\n    }, function (err) {\n      cleanup(stageEnv);\n      throw err;\n    });\n  });\n};\n\nPica.prototype.__processStages = function (stages, from, to, opts) {\n  var _this4 = this;\n\n  if (opts.canceled) return opts.cancelToken;\n\n  var _stages$shift = stages.shift(),\n      _stages$shift2 = _slicedToArray(_stages$shift, 2),\n      toWidth = _stages$shift2[0],\n      toHeight = _stages$shift2[1];\n\n  var isLastStage = stages.length === 0; // Optimization for legacy filters -\n  // only use user-defined quality for the last stage,\n  // use simpler (Hamming) filter for the first stages where\n  // scale factor is large enough (more than 2-3)\n  //\n  // For advanced filters (mks2013 and custom) - skip optimization,\n  // because need to apply sharpening every time\n\n  var filter;\n  if (isLastStage || filter_info.q2f.indexOf(opts.filter) < 0) filter = opts.filter;else if (opts.filter === 'box') filter = 'box';else filter = 'hamming';\n  opts = assign({}, opts, {\n    toWidth: toWidth,\n    toHeight: toHeight,\n    filter: filter\n  });\n  var tmpCanvas;\n\n  if (!isLastStage) {\n    // create temporary canvas\n    tmpCanvas = this.options.createCanvas(toWidth, toHeight);\n  }\n\n  return this.__tileAndResize(from, isLastStage ? to : tmpCanvas, opts).then(function () {\n    if (isLastStage) return to;\n    opts.width = toWidth;\n    opts.height = toHeight;\n    return _this4.__processStages(stages, tmpCanvas, to, opts);\n  }).then(function (res) {\n    if (tmpCanvas) {\n      // Safari 12 workaround\n      // https://github.com/nodeca/pica/issues/199\n      tmpCanvas.width = tmpCanvas.height = 0;\n    }\n\n    return res;\n  });\n};\n\nPica.prototype.__resizeViaCreateImageBitmap = function (from, to, opts) {\n  var _this5 = this;\n\n  var toCtx = to.getContext('2d');\n  this.debug('Resize via createImageBitmap()');\n  return createImageBitmap(from, {\n    resizeWidth: opts.toWidth,\n    resizeHeight: opts.toHeight,\n    resizeQuality: utils.cib_quality_name(filter_info.f2q[opts.filter])\n  }).then(function (imageBitmap) {\n    if (opts.canceled) return opts.cancelToken; // if no unsharp - draw directly to output canvas\n\n    if (!opts.unsharpAmount) {\n      toCtx.drawImage(imageBitmap, 0, 0);\n      imageBitmap.close();\n      toCtx = null;\n\n      _this5.debug('Finished!');\n\n      return to;\n    }\n\n    _this5.debug('Unsharp result');\n\n    var tmpCanvas = _this5.options.createCanvas(opts.toWidth, opts.toHeight);\n\n    var tmpCtx = tmpCanvas.getContext('2d');\n    tmpCtx.drawImage(imageBitmap, 0, 0);\n    imageBitmap.close();\n    var iData = tmpCtx.getImageData(0, 0, opts.toWidth, opts.toHeight);\n\n    _this5.__mathlib.unsharp_mask(iData.data, opts.toWidth, opts.toHeight, opts.unsharpAmount, opts.unsharpRadius, opts.unsharpThreshold);\n\n    toCtx.putImageData(iData, 0, 0); // Safari 12 workaround\n    // https://github.com/nodeca/pica/issues/199\n\n    tmpCanvas.width = tmpCanvas.height = 0;\n    iData = tmpCtx = tmpCanvas = toCtx = null;\n\n    _this5.debug('Finished!');\n\n    return to;\n  });\n};\n\nPica.prototype.resize = function (from, to, options) {\n  var _this6 = this;\n\n  this.debug('Start resize...');\n  var opts = assign({}, DEFAULT_RESIZE_OPTS);\n\n  if (!isNaN(options)) {\n    opts = assign(opts, {\n      quality: options\n    });\n  } else if (options) {\n    opts = assign(opts, options);\n  }\n\n  opts.toWidth = to.width;\n  opts.toHeight = to.height;\n  opts.width = from.naturalWidth || from.width;\n  opts.height = from.naturalHeight || from.height; // Legacy `.quality` option\n\n  if (Object.prototype.hasOwnProperty.call(opts, 'quality')) {\n    if (opts.quality < 0 || opts.quality > 3) {\n      throw new Error(\"Pica: .quality should be [0..3], got \".concat(opts.quality));\n    }\n\n    opts.filter = filter_info.q2f[opts.quality];\n  } // Prevent stepper from infinite loop\n\n\n  if (to.width === 0 || to.height === 0) {\n    return Promise.reject(new Error(\"Invalid output size: \".concat(to.width, \"x\").concat(to.height)));\n  }\n\n  if (opts.unsharpRadius > 2) opts.unsharpRadius = 2;\n  opts.canceled = false;\n\n  if (opts.cancelToken) {\n    // Wrap cancelToken to avoid successive resolve & set flag\n    opts.cancelToken = opts.cancelToken.then(function (data) {\n      opts.canceled = true;\n      throw data;\n    }, function (err) {\n      opts.canceled = true;\n      throw err;\n    });\n  }\n\n  var DEST_TILE_BORDER = 3; // Max possible filter window size\n\n  opts.__destTileBorder = Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * opts.unsharpRadius | 0));\n  return this.init().then(function () {\n    if (opts.canceled) return opts.cancelToken; // if createImageBitmap supports resize, just do it and return\n\n    if (_this6.features.cib) {\n      if (filter_info.q2f.indexOf(opts.filter) >= 0) {\n        return _this6.__resizeViaCreateImageBitmap(from, to, opts);\n      }\n\n      _this6.debug('cib is enabled, but not supports provided filter, fallback to manual math');\n    }\n\n    if (!CAN_USE_CANVAS_GET_IMAGE_DATA) {\n      var err = new Error('Pica: cannot use getImageData on canvas, ' + \"make sure fingerprinting protection isn't enabled\");\n      err.code = 'ERR_GET_IMAGE_DATA';\n      throw err;\n    } //\n    // No easy way, let's resize manually via arrays\n    //\n\n\n    var stages = createStages(opts.width, opts.height, opts.toWidth, opts.toHeight, _this6.options.tile, opts.__destTileBorder);\n    return _this6.__processStages(stages, from, to, opts);\n  });\n}; // RGBA buffer resize\n//\n\n\nPica.prototype.resizeBuffer = function (options) {\n  var _this7 = this;\n\n  var opts = assign({}, DEFAULT_RESIZE_OPTS, options); // Legacy `.quality` option\n\n  if (Object.prototype.hasOwnProperty.call(opts, 'quality')) {\n    if (opts.quality < 0 || opts.quality > 3) {\n      throw new Error(\"Pica: .quality should be [0..3], got \".concat(opts.quality));\n    }\n\n    opts.filter = filter_info.q2f[opts.quality];\n  }\n\n  return this.init().then(function () {\n    return _this7.__mathlib.resizeAndUnsharp(opts);\n  });\n};\n\nPica.prototype.toBlob = function (canvas, mimeType, quality) {\n  mimeType = mimeType || 'image/png';\n  return new Promise(function (resolve) {\n    if (canvas.toBlob) {\n      canvas.toBlob(function (blob) {\n        return resolve(blob);\n      }, mimeType, quality);\n      return;\n    }\n\n    if (canvas.convertToBlob) {\n      resolve(canvas.convertToBlob({\n        type: mimeType,\n        quality: quality\n      }));\n      return;\n    } // Fallback for old browsers\n\n\n    var asString = atob(canvas.toDataURL(mimeType, quality).split(',')[1]);\n    var len = asString.length;\n    var asBuffer = new Uint8Array(len);\n\n    for (var i = 0; i < len; i++) {\n      asBuffer[i] = asString.charCodeAt(i);\n    }\n\n    resolve(new Blob([asBuffer], {\n      type: mimeType\n    }));\n  });\n};\n\nPica.prototype.debug = function () {};\n\nmodule.exports = Pica;\n\n},{\"./lib/mathlib\":1,\"./lib/mm_resize/resize_filter_info\":7,\"./lib/pool\":13,\"./lib/stepper\":14,\"./lib/tiler\":15,\"./lib/utils\":16,\"./lib/worker\":17,\"object-assign\":22,\"webworkify\":23}]},{},[])(\"/index.js\")\n});\n","\r\n// Temporary fix for\r\n// https://github.com/evanw/esbuild/issues/312\r\n\r\nlet workerFunction = (function (){\r\n\t//dummy require\r\n\tvar require = function(moduleName){};\r\n\t// // // https://d3js.org/d3-dispatch/ v3.0.1 Copyright 2010-2021 Mike Bostock\r\n\t!function(n,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e((n=\"undefined\"!=typeof globalThis?globalThis:n||self).d3=n.d3||{})}(this,(function(n){\"use strict\";var e={value:()=>{}};function t(){for(var n,e=0,t=arguments.length,o={};e<t;++e){if(!(n=arguments[e]+\"\")||n in o||/[\\s.]/.test(n))throw new Error(\"illegal type: \"+n);o[n]=[]}return new r(o)}function r(n){this._=n}function o(n,e){return n.trim().split(/^|\\s+/).map((function(n){var t=\"\",r=n.indexOf(\".\");if(r>=0&&(t=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error(\"unknown type: \"+n);return{type:n,name:t}}))}function i(n,e){for(var t,r=0,o=n.length;r<o;++r)if((t=n[r]).name===e)return t.value}function f(n,t,r){for(var o=0,i=n.length;o<i;++o)if(n[o].name===t){n[o]=e,n=n.slice(0,o).concat(n.slice(o+1));break}return null!=r&&n.push({name:t,value:r}),n}r.prototype=t.prototype={constructor:r,on:function(n,e){var t,r=this._,l=o(n+\"\",r),a=-1,u=l.length;if(!(arguments.length<2)){if(null!=e&&\"function\"!=typeof e)throw new Error(\"invalid callback: \"+e);for(;++a<u;)if(t=(n=l[a]).type)r[t]=f(r[t],n.name,e);else if(null==e)for(t in r)r[t]=f(r[t],n.name,null);return this}for(;++a<u;)if((t=(n=l[a]).type)&&(t=i(r[t],n.name)))return t},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new r(n)},call:function(n,e){if((t=arguments.length-2)>0)for(var t,r,o=new Array(t),i=0;i<t;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error(\"unknown type: \"+n);for(i=0,t=(r=this._[n]).length;i<t;++i)r[i].value.apply(e,o)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error(\"unknown type: \"+n);for(var r=this._[n],o=0,i=r.length;o<i;++o)r[o].value.apply(e,t)}},n.dispatch=t,Object.defineProperty(n,\"__esModule\",{value:!0})}));\r\n\t// // // https://d3js.org/d3-quadtree/ v3.0.1 Copyright 2010-2021 Mike Bostock\r\n\t!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?i(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],i):i((t=\"undefined\"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,(function(t){\"use strict\";function i(t,i,e,n){if(isNaN(i)||isNaN(e))return t;var r,s,h,o,a,u,l,_,f,c=t._root,x={data:n},y=t._x0,d=t._y0,p=t._x1,v=t._y1;if(!c)return t._root=x,t;for(;c.length;)if((u=i>=(s=(y+p)/2))?y=s:p=s,(l=e>=(h=(d+v)/2))?d=h:v=h,r=c,!(c=c[_=l<<1|u]))return r[_]=x,t;if(o=+t._x.call(null,c.data),a=+t._y.call(null,c.data),i===o&&e===a)return x.next=c,r?r[_]=x:t._root=x,t;do{r=r?r[_]=new Array(4):t._root=new Array(4),(u=i>=(s=(y+p)/2))?y=s:p=s,(l=e>=(h=(d+v)/2))?d=h:v=h}while((_=l<<1|u)==(f=(a>=h)<<1|o>=s));return r[f]=c,r[_]=x,t}function e(t,i,e,n,r){this.node=t,this.x0=i,this.y0=e,this.x1=n,this.y1=r}function n(t){return t[0]}function r(t){return t[1]}function s(t,i,e){var s=new h(null==i?n:i,null==e?r:e,NaN,NaN,NaN,NaN);return null==t?s:s.addAll(t)}function h(t,i,e,n,r,s){this._x=t,this._y=i,this._x0=e,this._y0=n,this._x1=r,this._y1=s,this._root=void 0}function o(t){for(var i={data:t.data},e=i;t=t.next;)e=e.next={data:t.data};return i}var a=s.prototype=h.prototype;a.copy=function(){var t,i,e=new h(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return e;if(!n.length)return e._root=o(n),e;for(t=[{source:n,target:e._root=new Array(4)}];n=t.pop();)for(var r=0;r<4;++r)(i=n.source[r])&&(i.length?t.push({source:i,target:n.target[r]=new Array(4)}):n.target[r]=o(i));return e},a.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return i(this.cover(e,n),e,n,t)},a.addAll=function(t){var e,n,r,s,h=t.length,o=new Array(h),a=new Array(h),u=1/0,l=1/0,_=-1/0,f=-1/0;for(n=0;n<h;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(s=+this._y.call(null,e))||(o[n]=r,a[n]=s,r<u&&(u=r),r>_&&(_=r),s<l&&(l=s),s>f&&(f=s));if(u>_||l>f)return this;for(this.cover(u,l).cover(_,f),n=0;n<h;++n)i(this,o[n],a[n],t[n]);return this},a.cover=function(t,i){if(isNaN(t=+t)||isNaN(i=+i))return this;var e=this._x0,n=this._y0,r=this._x1,s=this._y1;if(isNaN(e))r=(e=Math.floor(t))+1,s=(n=Math.floor(i))+1;else{for(var h,o,a=r-e||1,u=this._root;e>t||t>=r||n>i||i>=s;)switch(o=(i<n)<<1|t<e,(h=new Array(4))[o]=u,u=h,a*=2,o){case 0:r=e+a,s=n+a;break;case 1:e=r-a,s=n+a;break;case 2:r=e+a,n=s-a;break;case 3:e=r-a,n=s-a}this._root&&this._root.length&&(this._root=u)}return this._x0=e,this._y0=n,this._x1=r,this._y1=s,this},a.data=function(){var t=[];return this.visit((function(i){if(!i.length)do{t.push(i.data)}while(i=i.next)})),t},a.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},a.find=function(t,i,n){var r,s,h,o,a,u,l,_=this._x0,f=this._y0,c=this._x1,x=this._y1,y=[],d=this._root;for(d&&y.push(new e(d,_,f,c,x)),null==n?n=1/0:(_=t-n,f=i-n,c=t+n,x=i+n,n*=n);u=y.pop();)if(!(!(d=u.node)||(s=u.x0)>c||(h=u.y0)>x||(o=u.x1)<_||(a=u.y1)<f))if(d.length){var p=(s+o)/2,v=(h+a)/2;y.push(new e(d[3],p,v,o,a),new e(d[2],s,v,p,a),new e(d[1],p,h,o,v),new e(d[0],s,h,p,v)),(l=(i>=v)<<1|t>=p)&&(u=y[y.length-1],y[y.length-1]=y[y.length-1-l],y[y.length-1-l]=u)}else{var w=t-+this._x.call(null,d.data),N=i-+this._y.call(null,d.data),g=w*w+N*N;if(g<n){var A=Math.sqrt(n=g);_=t-A,f=i-A,c=t+A,x=i+A,r=d.data}}return r},a.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(h=+this._y.call(null,t)))return this;var i,e,n,r,s,h,o,a,u,l,_,f,c=this._root,x=this._x0,y=this._y0,d=this._x1,p=this._y1;if(!c)return this;if(c.length)for(;;){if((u=s>=(o=(x+d)/2))?x=o:d=o,(l=h>=(a=(y+p)/2))?y=a:p=a,i=c,!(c=c[_=l<<1|u]))return this;if(!c.length)break;(i[_+1&3]||i[_+2&3]||i[_+3&3])&&(e=i,f=_)}for(;c.data!==t;)if(n=c,!(c=c.next))return this;return(r=c.next)&&delete c.next,n?(r?n.next=r:delete n.next,this):i?(r?i[_]=r:delete i[_],(c=i[0]||i[1]||i[2]||i[3])&&c===(i[3]||i[2]||i[1]||i[0])&&!c.length&&(e?e[f]=c:this._root=c),this):(this._root=r,this)},a.removeAll=function(t){for(var i=0,e=t.length;i<e;++i)this.remove(t[i]);return this},a.root=function(){return this._root},a.size=function(){var t=0;return this.visit((function(i){if(!i.length)do{++t}while(i=i.next)})),t},a.visit=function(t){var i,n,r,s,h,o,a=[],u=this._root;for(u&&a.push(new e(u,this._x0,this._y0,this._x1,this._y1));i=a.pop();)if(!t(u=i.node,r=i.x0,s=i.y0,h=i.x1,o=i.y1)&&u.length){var l=(r+h)/2,_=(s+o)/2;(n=u[3])&&a.push(new e(n,l,_,h,o)),(n=u[2])&&a.push(new e(n,r,_,l,o)),(n=u[1])&&a.push(new e(n,l,s,h,_)),(n=u[0])&&a.push(new e(n,r,s,l,_))}return this},a.visitAfter=function(t){var i,n=[],r=[];for(this._root&&n.push(new e(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var s=i.node;if(s.length){var h,o=i.x0,a=i.y0,u=i.x1,l=i.y1,_=(o+u)/2,f=(a+l)/2;(h=s[0])&&n.push(new e(h,o,a,_,f)),(h=s[1])&&n.push(new e(h,_,a,u,f)),(h=s[2])&&n.push(new e(h,o,f,_,l)),(h=s[3])&&n.push(new e(h,_,f,u,l))}r.push(i)}for(;i=r.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this},a.x=function(t){return arguments.length?(this._x=t,this):this._x},a.y=function(t){return arguments.length?(this._y=t,this):this._y},t.quadtree=s,Object.defineProperty(t,\"__esModule\",{value:!0})}));\r\n\t// // // https://d3js.org/d3-timer/ v3.0.1 Copyright 2010-2021 Mike Bostock\r\n\t!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?n(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],n):n((t=\"undefined\"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,(function(t){\"use strict\";var n,e,o=0,i=0,r=0,l=0,u=0,a=0,s=\"object\"==typeof performance&&performance.now?performance:Date,c=\"object\"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function f(){return u||(c(_),u=s.now()+a)}function _(){u=0}function m(){this._call=this._time=this._next=null}function p(t,n,e){var o=new m;return o.restart(t,n,e),o}function w(){f(),++o;for(var t,e=n;e;)(t=u-e._time)>=0&&e._call.call(void 0,t),e=e._next;--o}function d(){u=(l=s.now())+a,o=i=0;try{w()}finally{o=0,function(){var t,o,i=n,r=1/0;for(;i;)i._call?(r>i._time&&(r=i._time),t=i,i=i._next):(o=i._next,i._next=null,i=t?t._next=o:n=o);e=t,y(r)}(),u=0}}function h(){var t=s.now(),n=t-l;n>1e3&&(a-=n,l=t)}function y(t){o||(i&&(i=clearTimeout(i)),t-u>24?(t<1/0&&(i=setTimeout(d,t-s.now()-a)),r&&(r=clearInterval(r))):(r||(l=s.now(),r=setInterval(h,1e3)),o=1,c(d)))}m.prototype=p.prototype={constructor:m,restart:function(t,o,i){if(\"function\"!=typeof t)throw new TypeError(\"callback is not a function\");i=(null==i?f():+i)+(null==o?0:+o),this._next||e===this||(e?e._next=this:n=this,e=this),this._call=t,this._time=i,y()},stop:function(){this._call&&(this._call=null,this._time=1/0,y())}},t.interval=function(t,n,e){var o=new m,i=n;return null==n?(o.restart(t,n,e),o):(o._restart=o.restart,o.restart=function(t,n,e){n=+n,e=null==e?f():+e,o._restart((function r(l){l+=i,o._restart(r,i+=n,e),t(l)}),n,e)},o.restart(t,n,e),o)},t.now=f,t.timeout=function(t,n,e){var o=new m;return n=null==n?0:+n,o.restart((e=>{o.stop(),t(e+n)}),n,e),o},t.timer=p,t.timerFlush=w,Object.defineProperty(t,\"__esModule\",{value:!0})}));\r\n\t// // // https://d3js.org/d3-force/ v3.0.0 Copyright 2010-2021 Mike Bostock\r\n\t!function(n,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports,require(\"d3-quadtree\"),require(\"d3-dispatch\"),require(\"d3-timer\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"d3-quadtree\",\"d3-dispatch\",\"d3-timer\"],t):t((n=\"undefined\"!=typeof globalThis?globalThis:n||self).d3=n.d3||{},n.d3,n.d3,n.d3)}(this,(function(n,t,e,r){\"use strict\";function i(n){return function(){return n}}function u(n){return 1e-6*(n()-.5)}function o(n){return n.x+n.vx}function f(n){return n.y+n.vy}function a(n){return n.index}function c(n,t){var e=n.get(t);if(!e)throw new Error(\"node not found: \"+t);return e}const l=4294967296;function h(n){return n.x}function v(n){return n.y}var y=Math.PI*(3-Math.sqrt(5));n.forceCenter=function(n,t){var e,r=1;function i(){var i,u,o=e.length,f=0,a=0;for(i=0;i<o;++i)f+=(u=e[i]).x,a+=u.y;for(f=(f/o-n)*r,a=(a/o-t)*r,i=0;i<o;++i)(u=e[i]).x-=f,u.y-=a}return null==n&&(n=0),null==t&&(t=0),i.initialize=function(n){e=n},i.x=function(t){return arguments.length?(n=+t,i):n},i.y=function(n){return arguments.length?(t=+n,i):t},i.strength=function(n){return arguments.length?(r=+n,i):r},i},n.forceCollide=function(n){var e,r,a,c=1,l=1;function h(){for(var n,i,h,y,d,g,x,s=e.length,p=0;p<l;++p)for(i=t.quadtree(e,o,f).visitAfter(v),n=0;n<s;++n)h=e[n],g=r[h.index],x=g*g,y=h.x+h.vx,d=h.y+h.vy,i.visit(M);function M(n,t,e,r,i){var o=n.data,f=n.r,l=g+f;if(!o)return t>y+l||r<y-l||e>d+l||i<d-l;if(o.index>h.index){var v=y-o.x-o.vx,s=d-o.y-o.vy,p=v*v+s*s;p<l*l&&(0===v&&(p+=(v=u(a))*v),0===s&&(p+=(s=u(a))*s),p=(l-(p=Math.sqrt(p)))/p*c,h.vx+=(v*=p)*(l=(f*=f)/(x+f)),h.vy+=(s*=p)*l,o.vx-=v*(l=1-l),o.vy-=s*l)}}}function v(n){if(n.data)return n.r=r[n.data.index];for(var t=n.r=0;t<4;++t)n[t]&&n[t].r>n.r&&(n.r=n[t].r)}function y(){if(e){var t,i,u=e.length;for(r=new Array(u),t=0;t<u;++t)i=e[t],r[i.index]=+n(i,t,e)}}return\"function\"!=typeof n&&(n=i(null==n?1:+n)),h.initialize=function(n,t){e=n,a=t,y()},h.iterations=function(n){return arguments.length?(l=+n,h):l},h.strength=function(n){return arguments.length?(c=+n,h):c},h.radius=function(t){return arguments.length?(n=\"function\"==typeof t?t:i(+t),y(),h):n},h},n.forceLink=function(n){var t,e,r,o,f,l,h=a,v=function(n){return 1/Math.min(o[n.source.index],o[n.target.index])},y=i(30),d=1;function g(r){for(var i=0,o=n.length;i<d;++i)for(var a,c,h,v,y,g,x,s=0;s<o;++s)c=(a=n[s]).source,v=(h=a.target).x+h.vx-c.x-c.vx||u(l),y=h.y+h.vy-c.y-c.vy||u(l),v*=g=((g=Math.sqrt(v*v+y*y))-e[s])/g*r*t[s],y*=g,h.vx-=v*(x=f[s]),h.vy-=y*x,c.vx+=v*(x=1-x),c.vy+=y*x}function x(){if(r){var i,u,a=r.length,l=n.length,v=new Map(r.map(((n,t)=>[h(n,t,r),n])));for(i=0,o=new Array(a);i<l;++i)(u=n[i]).index=i,\"object\"!=typeof u.source&&(u.source=c(v,u.source)),\"object\"!=typeof u.target&&(u.target=c(v,u.target)),o[u.source.index]=(o[u.source.index]||0)+1,o[u.target.index]=(o[u.target.index]||0)+1;for(i=0,f=new Array(l);i<l;++i)u=n[i],f[i]=o[u.source.index]/(o[u.source.index]+o[u.target.index]);t=new Array(l),s(),e=new Array(l),p()}}function s(){if(r)for(var e=0,i=n.length;e<i;++e)t[e]=+v(n[e],e,n)}function p(){if(r)for(var t=0,i=n.length;t<i;++t)e[t]=+y(n[t],t,n)}return null==n&&(n=[]),g.initialize=function(n,t){r=n,l=t,x()},g.links=function(t){return arguments.length?(n=t,x(),g):n},g.id=function(n){return arguments.length?(h=n,g):h},g.iterations=function(n){return arguments.length?(d=+n,g):d},g.strength=function(n){return arguments.length?(v=\"function\"==typeof n?n:i(+n),s(),g):v},g.distance=function(n){return arguments.length?(y=\"function\"==typeof n?n:i(+n),p(),g):y},g},n.forceManyBody=function(){var n,e,r,o,f,a=i(-30),c=1,l=1/0,y=.81;function d(r){var i,u=n.length,f=t.quadtree(n,h,v).visitAfter(x);for(o=r,i=0;i<u;++i)e=n[i],f.visit(s)}function g(){if(n){var t,e,r=n.length;for(f=new Array(r),t=0;t<r;++t)e=n[t],f[e.index]=+a(e,t,n)}}function x(n){var t,e,r,i,u,o=0,a=0;if(n.length){for(r=i=u=0;u<4;++u)(t=n[u])&&(e=Math.abs(t.value))&&(o+=t.value,a+=e,r+=e*t.x,i+=e*t.y);n.x=r/a,n.y=i/a}else{(t=n).x=t.data.x,t.y=t.data.y;do{o+=f[t.data.index]}while(t=t.next)}n.value=o}function s(n,t,i,a){if(!n.value)return!0;var h=n.x-e.x,v=n.y-e.y,d=a-t,g=h*h+v*v;if(d*d/y<g)return g<l&&(0===h&&(g+=(h=u(r))*h),0===v&&(g+=(v=u(r))*v),g<c&&(g=Math.sqrt(c*g)),e.vx+=h*n.value*o/g,e.vy+=v*n.value*o/g),!0;if(!(n.length||g>=l)){(n.data!==e||n.next)&&(0===h&&(g+=(h=u(r))*h),0===v&&(g+=(v=u(r))*v),g<c&&(g=Math.sqrt(c*g)));do{n.data!==e&&(d=f[n.data.index]*o/g,e.vx+=h*d,e.vy+=v*d)}while(n=n.next)}}return d.initialize=function(t,e){n=t,r=e,g()},d.strength=function(n){return arguments.length?(a=\"function\"==typeof n?n:i(+n),g(),d):a},d.distanceMin=function(n){return arguments.length?(c=n*n,d):Math.sqrt(c)},d.distanceMax=function(n){return arguments.length?(l=n*n,d):Math.sqrt(l)},d.theta=function(n){return arguments.length?(y=n*n,d):Math.sqrt(y)},d},n.forceRadial=function(n,t,e){var r,u,o,f=i(.1);function a(n){for(var i=0,f=r.length;i<f;++i){var a=r[i],c=a.x-t||1e-6,l=a.y-e||1e-6,h=Math.sqrt(c*c+l*l),v=(o[i]-h)*u[i]*n/h;a.vx+=c*v,a.vy+=l*v}}function c(){if(r){var t,e=r.length;for(u=new Array(e),o=new Array(e),t=0;t<e;++t)o[t]=+n(r[t],t,r),u[t]=isNaN(o[t])?0:+f(r[t],t,r)}}return\"function\"!=typeof n&&(n=i(+n)),null==t&&(t=0),null==e&&(e=0),a.initialize=function(n){r=n,c()},a.strength=function(n){return arguments.length?(f=\"function\"==typeof n?n:i(+n),c(),a):f},a.radius=function(t){return arguments.length?(n=\"function\"==typeof t?t:i(+t),c(),a):n},a.x=function(n){return arguments.length?(t=+n,a):t},a.y=function(n){return arguments.length?(e=+n,a):e},a},n.forceSimulation=function(n){var t,i=1,u=.001,o=1-Math.pow(u,1/300),f=0,a=.6,c=new Map,h=r.timer(g),v=e.dispatch(\"tick\",\"end\"),d=function(){let n=1;return()=>(n=(1664525*n+1013904223)%l)/l}();function g(){x(),v.call(\"tick\",t),i<u&&(h.stop(),v.call(\"end\",t))}function x(e){var r,u,l=n.length;void 0===e&&(e=1);for(var h=0;h<e;++h)for(i+=(f-i)*o,c.forEach((function(n){n(i)})),r=0;r<l;++r)null==(u=n[r]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return t}function s(){for(var t,e=0,r=n.length;e<r;++e){if((t=n[e]).index=e,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+e),u=e*y;t.x=i*Math.cos(u),t.y=i*Math.sin(u)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(n,d),t}return null==n&&(n=[]),s(),t={tick:x,restart:function(){return h.restart(g),t},stop:function(){return h.stop(),t},nodes:function(e){return arguments.length?(n=e,s(),c.forEach(p),t):n},alpha:function(n){return arguments.length?(i=+n,t):i},alphaMin:function(n){return arguments.length?(u=+n,t):u},alphaDecay:function(n){return arguments.length?(o=+n,t):+o},alphaTarget:function(n){return arguments.length?(f=+n,t):f},velocityDecay:function(n){return arguments.length?(a=1-n,t):1-a},randomSource:function(n){return arguments.length?(d=n,c.forEach(p),t):d},force:function(n,e){return arguments.length>1?(null==e?c.delete(n):c.set(n,p(e)),t):c.get(n)},find:function(t,e,r){var i,u,o,f,a,c=0,l=n.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(o=(i=t-(f=n[c]).x)*i+(u=e-f.y)*u)<r&&(a=f,r=o);return a},on:function(n,e){return arguments.length>1?(v.on(n,e),t):v.on(n)}}},n.forceX=function(n){var t,e,r,u=i(.1);function o(n){for(var i,u=0,o=t.length;u<o;++u)(i=t[u]).vx+=(r[u]-i.x)*e[u]*n}function f(){if(t){var i,o=t.length;for(e=new Array(o),r=new Array(o),i=0;i<o;++i)e[i]=isNaN(r[i]=+n(t[i],i,t))?0:+u(t[i],i,t)}}return\"function\"!=typeof n&&(n=i(null==n?0:+n)),o.initialize=function(n){t=n,f()},o.strength=function(n){return arguments.length?(u=\"function\"==typeof n?n:i(+n),f(),o):u},o.x=function(t){return arguments.length?(n=\"function\"==typeof t?t:i(+t),f(),o):n},o},n.forceY=function(n){var t,e,r,u=i(.1);function o(n){for(var i,u=0,o=t.length;u<o;++u)(i=t[u]).vy+=(r[u]-i.y)*e[u]*n}function f(){if(t){var i,o=t.length;for(e=new Array(o),r=new Array(o),i=0;i<o;++i)e[i]=isNaN(r[i]=+n(t[i],i,t))?0:+u(t[i],i,t)}}return\"function\"!=typeof n&&(n=i(null==n?0:+n)),o.initialize=function(n){t=n,f()},o.strength=function(n){return arguments.length?(u=\"function\"==typeof n?n:i(+n),f(),o):u},o.y=function(t){return arguments.length?(n=\"function\"==typeof t?t:i(+t),f(),o):n},o},Object.defineProperty(n,\"__esModule\",{value:!0})}));\r\n\t// // // https://github.com/vasturiano/d3-binarytree v0.2.0 Copyright 2021 Vasco Asturiano\r\n\t!function(t,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?r(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],r):r((t=\"undefined\"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,(function(t){\"use strict\";function r(t,r,e){if(isNaN(r))return t;var n,i,o,s,h,u,a=t._root,f={data:e},l=t._x0,x=t._x1;if(!a)return t._root=f,t;for(;a.length;)if((s=r>=(i=(l+x)/2))?l=i:x=i,n=a,!(a=a[h=+s]))return n[h]=f,t;if(r===(o=+t._x.call(null,a.data)))return f.next=a,n?n[h]=f:t._root=f,t;do{n=n?n[h]=new Array(2):t._root=new Array(2),(s=r>=(i=(l+x)/2))?l=i:x=i}while((h=+s)==(u=+(o>=i)));return n[u]=a,n[h]=f,t}function e(t,r,e){this.node=t,this.x0=r,this.x1=e}function n(t){return t[0]}function i(t,r){var e=new o(null==r?n:r,NaN,NaN);return null==t?e:e.addAll(t)}function o(t,r,e){this._x=t,this._x0=r,this._x1=e,this._root=void 0}function s(t){for(var r={data:t.data},e=r;t=t.next;)e=e.next={data:t.data};return r}var h=i.prototype=o.prototype;h.copy=function(){var t,r,e=new o(this._x,this._x0,this._x1),n=this._root;if(!n)return e;if(!n.length)return e._root=s(n),e;for(t=[{source:n,target:e._root=new Array(2)}];n=t.pop();)for(var i=0;i<2;++i)(r=n.source[i])&&(r.length?t.push({source:r,target:n.target[i]=new Array(2)}):n.target[i]=s(r));return e},h.add=function(t){var e=+this._x.call(null,t);return r(this.cover(e),e,t)},h.addAll=function(t){var e,n,i=t.length,o=new Array(i),s=1/0,h=-1/0;for(e=0;e<i;++e)isNaN(n=+this._x.call(null,t[e]))||(o[e]=n,n<s&&(s=n),n>h&&(h=n));if(s>h)return this;for(this.cover(s).cover(h),e=0;e<i;++e)r(this,o[e],t[e]);return this},h.cover=function(t){if(isNaN(t=+t))return this;var r=this._x0,e=this._x1;if(isNaN(r))e=(r=Math.floor(t))+1;else{for(var n,i,o=e-r||1,s=this._root;r>t||t>=e;)switch(i=+(t<r),(n=new Array(2))[i]=s,s=n,o*=2,i){case 0:e=r+o;break;case 1:r=e-o}this._root&&this._root.length&&(this._root=s)}return this._x0=r,this._x1=e,this},h.data=function(){var t=[];return this.visit((function(r){if(!r.length)do{t.push(r.data)}while(r=r.next)})),t},h.extent=function(t){return arguments.length?this.cover(+t[0][0]).cover(+t[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},h.find=function(t,r){var n,i,o,s,h,u=this._x0,a=this._x1,f=[],l=this._root;for(l&&f.push(new e(l,u,a)),null==r?r=1/0:(u=t-r,a=t+r);s=f.pop();)if(!(!(l=s.node)||(i=s.x0)>a||(o=s.x1)<u))if(l.length){var x=(i+o)/2;f.push(new e(l[1],x,o),new e(l[0],i,x)),(h=+(t>=x))&&(s=f[f.length-1],f[f.length-1]=f[f.length-1-h],f[f.length-1-h]=s)}else{var _=Math.abs(t-+this._x.call(null,l.data));_<r&&(r=_,u=t-_,a=t+_,n=l.data)}return n},h.remove=function(t){if(isNaN(o=+this._x.call(null,t)))return this;var r,e,n,i,o,s,h,u,a,f=this._root,l=this._x0,x=this._x1;if(!f)return this;if(f.length)for(;;){if((h=o>=(s=(l+x)/2))?l=s:x=s,r=f,!(f=f[u=+h]))return this;if(!f.length)break;r[u+1&1]&&(e=r,a=u)}for(;f.data!==t;)if(n=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,n?(i?n.next=i:delete n.next,this):r?(i?r[u]=i:delete r[u],(f=r[0]||r[1])&&f===(r[1]||r[0])&&!f.length&&(e?e[a]=f:this._root=f),this):(this._root=i,this)},h.removeAll=function(t){for(var r=0,e=t.length;r<e;++r)this.remove(t[r]);return this},h.root=function(){return this._root},h.size=function(){var t=0;return this.visit((function(r){if(!r.length)do{++t}while(r=r.next)})),t},h.visit=function(t){var r,n,i,o,s=[],h=this._root;for(h&&s.push(new e(h,this._x0,this._x1));r=s.pop();)if(!t(h=r.node,i=r.x0,o=r.x1)&&h.length){var u=(i+o)/2;(n=h[1])&&s.push(new e(n,u,o)),(n=h[0])&&s.push(new e(n,i,u))}return this},h.visitAfter=function(t){var r,n=[],i=[];for(this._root&&n.push(new e(this._root,this._x0,this._x1));r=n.pop();){var o=r.node;if(o.length){var s,h=r.x0,u=r.x1,a=(h+u)/2;(s=o[0])&&n.push(new e(s,h,a)),(s=o[1])&&n.push(new e(s,a,u))}i.push(r)}for(;r=i.pop();)t(r.node,r.x0,r.x1);return this},h.x=function(t){return arguments.length?(this._x=t,this):this._x},t.binarytree=i,Object.defineProperty(t,\"__esModule\",{value:!0})}));\r\n\t// // // https://github.com/vasturiano/d3-octree v0.2.0 Copyright 2021 Vasco Asturiano\r\n\t!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?i(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],i):i((t=\"undefined\"!=typeof globalThis?globalThis:t||self).d3=t.d3||{})}(this,(function(t){\"use strict\";function i(t,i,n,e,s){if(isNaN(i)||isNaN(n)||isNaN(e))return t;var h,r,o,a,l,u,_,f,c,y,x,d,p=t._root,w={data:s},z=t._x0,N=t._y0,v=t._z0,g=t._x1,b=t._y1,A=t._z1;if(!p)return t._root=w,t;for(;p.length;)if((f=i>=(r=(z+g)/2))?z=r:g=r,(c=n>=(o=(N+b)/2))?N=o:b=o,(y=e>=(a=(v+A)/2))?v=a:A=a,h=p,!(p=p[x=y<<2|c<<1|f]))return h[x]=w,t;if(l=+t._x.call(null,p.data),u=+t._y.call(null,p.data),_=+t._z.call(null,p.data),i===l&&n===u&&e===_)return w.next=p,h?h[x]=w:t._root=w,t;do{h=h?h[x]=new Array(8):t._root=new Array(8),(f=i>=(r=(z+g)/2))?z=r:g=r,(c=n>=(o=(N+b)/2))?N=o:b=o,(y=e>=(a=(v+A)/2))?v=a:A=a}while((x=y<<2|c<<1|f)==(d=(_>=a)<<2|(u>=o)<<1|l>=r));return h[d]=p,h[x]=w,t}function n(t,i,n,e,s,h,r){this.node=t,this.x0=i,this.y0=n,this.z0=e,this.x1=s,this.y1=h,this.z1=r}function e(t){return t[0]}function s(t){return t[1]}function h(t){return t[2]}function r(t,i,n,r){var a=new o(null==i?e:i,null==n?s:n,null==r?h:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==t?a:a.addAll(t)}function o(t,i,n,e,s,h,r,o,a){this._x=t,this._y=i,this._z=n,this._x0=e,this._y0=s,this._z0=h,this._x1=r,this._y1=o,this._z1=a,this._root=void 0}function a(t){for(var i={data:t.data},n=i;t=t.next;)n=n.next={data:t.data};return i}var l=r.prototype=o.prototype;l.copy=function(){var t,i,n=new o(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root;if(!e)return n;if(!e.length)return n._root=a(e),n;for(t=[{source:e,target:n._root=new Array(8)}];e=t.pop();)for(var s=0;s<8;++s)(i=e.source[s])&&(i.length?t.push({source:i,target:e.target[s]=new Array(8)}):e.target[s]=a(i));return n},l.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t),s=+this._z.call(null,t);return i(this.cover(n,e,s),n,e,s,t)},l.addAll=function(t){var n,e,s,h,r,o=t.length,a=new Array(o),l=new Array(o),u=new Array(o),_=1/0,f=1/0,c=1/0,y=-1/0,x=-1/0,d=-1/0;for(e=0;e<o;++e)isNaN(s=+this._x.call(null,n=t[e]))||isNaN(h=+this._y.call(null,n))||isNaN(r=+this._z.call(null,n))||(a[e]=s,l[e]=h,u[e]=r,s<_&&(_=s),s>y&&(y=s),h<f&&(f=h),h>x&&(x=h),r<c&&(c=r),r>d&&(d=r));if(_>y||f>x||c>d)return this;for(this.cover(_,f,c).cover(y,x,d),e=0;e<o;++e)i(this,a[e],l[e],u[e],t[e]);return this},l.cover=function(t,i,n){if(isNaN(t=+t)||isNaN(i=+i)||isNaN(n=+n))return this;var e=this._x0,s=this._y0,h=this._z0,r=this._x1,o=this._y1,a=this._z1;if(isNaN(e))r=(e=Math.floor(t))+1,o=(s=Math.floor(i))+1,a=(h=Math.floor(n))+1;else{for(var l,u,_=r-e||1,f=this._root;e>t||t>=r||s>i||i>=o||h>n||n>=a;)switch(u=(n<h)<<2|(i<s)<<1|t<e,(l=new Array(8))[u]=f,f=l,_*=2,u){case 0:r=e+_,o=s+_,a=h+_;break;case 1:e=r-_,o=s+_,a=h+_;break;case 2:r=e+_,s=o-_,a=h+_;break;case 3:e=r-_,s=o-_,a=h+_;break;case 4:r=e+_,o=s+_,h=a-_;break;case 5:e=r-_,o=s+_,h=a-_;break;case 6:r=e+_,s=o-_,h=a-_;break;case 7:e=r-_,s=o-_,h=a-_}this._root&&this._root.length&&(this._root=f)}return this._x0=e,this._y0=s,this._z0=h,this._x1=r,this._y1=o,this._z1=a,this},l.data=function(){var t=[];return this.visit((function(i){if(!i.length)do{t.push(i.data)}while(i=i.next)})),t},l.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1],+t[0][2]).cover(+t[1][0],+t[1][1],+t[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},l.find=function(t,i,e,s){var h,r,o,a,l,u,_,f,c,y=this._x0,x=this._y0,d=this._z0,p=this._x1,w=this._y1,z=this._z1,N=[],v=this._root;for(v&&N.push(new n(v,y,x,d,p,w,z)),null==s?s=1/0:(y=t-s,x=i-s,d=e-s,p=t+s,w=i+s,z=e+s,s*=s);f=N.pop();)if(!(!(v=f.node)||(r=f.x0)>p||(o=f.y0)>w||(a=f.z0)>z||(l=f.x1)<y||(u=f.y1)<x||(_=f.z1)<d))if(v.length){var g=(r+l)/2,b=(o+u)/2,A=(a+_)/2;N.push(new n(v[7],g,b,A,l,u,_),new n(v[6],r,b,A,g,u,_),new n(v[5],g,o,A,l,b,_),new n(v[4],r,o,A,g,b,_),new n(v[3],g,b,a,l,u,A),new n(v[2],r,b,a,g,u,A),new n(v[1],g,o,a,l,b,A),new n(v[0],r,o,a,g,b,A)),(c=(e>=A)<<2|(i>=b)<<1|t>=g)&&(f=N[N.length-1],N[N.length-1]=N[N.length-1-c],N[N.length-1-c]=f)}else{var k=t-+this._x.call(null,v.data),m=i-+this._y.call(null,v.data),M=e-+this._z.call(null,v.data),j=k*k+m*m+M*M;if(j<s){var T=Math.sqrt(s=j);y=t-T,x=i-T,d=e-T,p=t+T,w=i+T,z=e+T,h=v.data}}return h},l.remove=function(t){if(isNaN(h=+this._x.call(null,t))||isNaN(r=+this._y.call(null,t))||isNaN(o=+this._z.call(null,t)))return this;var i,n,e,s,h,r,o,a,l,u,_,f,c,y,x,d=this._root,p=this._x0,w=this._y0,z=this._z0,N=this._x1,v=this._y1,g=this._z1;if(!d)return this;if(d.length)for(;;){if((_=h>=(a=(p+N)/2))?p=a:N=a,(f=r>=(l=(w+v)/2))?w=l:v=l,(c=o>=(u=(z+g)/2))?z=u:g=u,i=d,!(d=d[y=c<<2|f<<1|_]))return this;if(!d.length)break;(i[y+1&7]||i[y+2&7]||i[y+3&7]||i[y+4&7]||i[y+5&7]||i[y+6&7]||i[y+7&7])&&(n=i,x=y)}for(;d.data!==t;)if(e=d,!(d=d.next))return this;return(s=d.next)&&delete d.next,e?(s?e.next=s:delete e.next,this):i?(s?i[y]=s:delete i[y],(d=i[0]||i[1]||i[2]||i[3]||i[4]||i[5]||i[6]||i[7])&&d===(i[7]||i[6]||i[5]||i[4]||i[3]||i[2]||i[1]||i[0])&&!d.length&&(n?n[x]=d:this._root=d),this):(this._root=s,this)},l.removeAll=function(t){for(var i=0,n=t.length;i<n;++i)this.remove(t[i]);return this},l.root=function(){return this._root},l.size=function(){var t=0;return this.visit((function(i){if(!i.length)do{++t}while(i=i.next)})),t},l.visit=function(t){var i,e,s,h,r,o,a,l,u=[],_=this._root;for(_&&u.push(new n(_,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=u.pop();)if(!t(_=i.node,s=i.x0,h=i.y0,r=i.z0,o=i.x1,a=i.y1,l=i.z1)&&_.length){var f=(s+o)/2,c=(h+a)/2,y=(r+l)/2;(e=_[7])&&u.push(new n(e,f,c,y,o,a,l)),(e=_[6])&&u.push(new n(e,s,c,y,f,a,l)),(e=_[5])&&u.push(new n(e,f,h,y,o,c,l)),(e=_[4])&&u.push(new n(e,s,h,y,f,c,l)),(e=_[3])&&u.push(new n(e,f,c,r,o,a,y)),(e=_[2])&&u.push(new n(e,s,c,r,f,a,y)),(e=_[1])&&u.push(new n(e,f,h,r,o,c,y)),(e=_[0])&&u.push(new n(e,s,h,r,f,c,y))}return this},l.visitAfter=function(t){var i,e=[],s=[];for(this._root&&e.push(new n(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var h=i.node;if(h.length){var r,o=i.x0,a=i.y0,l=i.z0,u=i.x1,_=i.y1,f=i.z1,c=(o+u)/2,y=(a+_)/2,x=(l+f)/2;(r=h[0])&&e.push(new n(r,o,a,l,c,y,x)),(r=h[1])&&e.push(new n(r,c,a,l,u,y,x)),(r=h[2])&&e.push(new n(r,o,y,l,c,_,x)),(r=h[3])&&e.push(new n(r,c,y,l,u,_,x)),(r=h[4])&&e.push(new n(r,o,a,x,c,y,f)),(r=h[5])&&e.push(new n(r,c,a,x,u,y,f)),(r=h[6])&&e.push(new n(r,o,y,x,c,_,f)),(r=h[7])&&e.push(new n(r,c,y,x,u,_,f))}s.push(i)}for(;i=s.pop();)t(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this},l.x=function(t){return arguments.length?(this._x=t,this):this._x},l.y=function(t){return arguments.length?(this._y=t,this):this._y},l.z=function(t){return arguments.length?(this._z=t,this):this._z},t.octree=r,Object.defineProperty(t,\"__esModule\",{value:!0})}));\r\n\t// // // https://github.com/vasturiano/d3-force-3d v3.0.2 Copyright 2021 Vasco Asturiano\r\n\t!function(n,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports,require(\"d3-binarytree\"),require(\"d3-quadtree\"),require(\"d3-octree\"),require(\"d3-dispatch\"),require(\"d3-timer\")):\"function\"==typeof define&&define.amd?define([\"exports\",\"d3-binarytree\",\"d3-quadtree\",\"d3-octree\",\"d3-dispatch\",\"d3-timer\"],t):t((n=\"undefined\"!=typeof globalThis?globalThis:n||self).d3=n.d3||{},n.d3,n.d3,n.d3,n.d3,n.d3)}(this,(function(n,t,e,r,i,u){\"use strict\";function o(n){return function(){return n}}function f(n){return 1e-6*(n()-.5)}function a(n){return n.x+n.vx}function c(n){return n.y+n.vy}function l(n){return n.z+n.vz}function h(n){return n.index}function v(n,t){var e=n.get(t);if(!e)throw new Error(\"node not found: \"+t);return e}const d=4294967296;function y(n){return n.x}function s(n){return n.y}function g(n){return n.z}var x=Math.PI*(3-Math.sqrt(5)),z=20*Math.PI/(9+Math.sqrt(221));n.forceCenter=function(n,t,e){var r,i=1;function u(){var u,o,f=r.length,a=0,c=0,l=0;for(u=0;u<f;++u)a+=(o=r[u]).x||0,c+=o.y||0,l+=o.z||0;for(a=(a/f-n)*i,c=(c/f-t)*i,l=(l/f-e)*i,u=0;u<f;++u)o=r[u],a&&(o.x-=a),c&&(o.y-=c),l&&(o.z-=l)}return null==n&&(n=0),null==t&&(t=0),null==e&&(e=0),u.initialize=function(n){r=n},u.x=function(t){return arguments.length?(n=+t,u):n},u.y=function(n){return arguments.length?(t=+n,u):t},u.z=function(n){return arguments.length?(e=+n,u):e},u.strength=function(n){return arguments.length?(i=+n,u):i},u},n.forceCollide=function(n){var i,u,h,v,d=1,y=1;function s(){for(var n,o,s,x,z,p,M,w,q=i.length,N=0;N<y;++N)for(o=(1===u?t.binarytree(i,a):2===u?e.quadtree(i,a,c):3===u?r.octree(i,a,c,l):null).visitAfter(g),n=0;n<q;++n)s=i[n],M=h[s.index],w=M*M,x=s.x+s.vx,u>1&&(z=s.y+s.vy),u>2&&(p=s.z+s.vz),o.visit(m);function m(n,t,e,r,i,o,a){var c=[t,e,r,i,o,a],l=c[0],h=c[1],y=c[2],g=c[u],q=c[u+1],N=c[u+2],m=n.data,A=n.r,b=M+A;if(!m)return l>x+b||g<x-b||u>1&&(h>z+b||q<z-b)||u>2&&(y>p+b||N<p-b);if(m.index>s.index){var k=x-m.x-m.vx,E=u>1?z-m.y-m.vy:0,j=u>2?p-m.z-m.vz:0,D=k*k+E*E+j*j;D<b*b&&(0===k&&(D+=(k=f(v))*k),u>1&&0===E&&(D+=(E=f(v))*E),u>2&&0===j&&(D+=(j=f(v))*j),D=(b-(D=Math.sqrt(D)))/D*d,s.vx+=(k*=D)*(b=(A*=A)/(w+A)),u>1&&(s.vy+=(E*=D)*b),u>2&&(s.vz+=(j*=D)*b),m.vx-=k*(b=1-b),u>1&&(m.vy-=E*b),u>2&&(m.vz-=j*b))}}}function g(n){if(n.data)return n.r=h[n.data.index];for(var t=n.r=0;t<Math.pow(2,u);++t)n[t]&&n[t].r>n.r&&(n.r=n[t].r)}function x(){if(i){var t,e,r=i.length;for(h=new Array(r),t=0;t<r;++t)e=i[t],h[e.index]=+n(e,t,i)}}return\"function\"!=typeof n&&(n=o(null==n?1:+n)),s.initialize=function(n,...t){i=n,v=t.find((n=>\"function\"==typeof n))||Math.random,u=t.find((n=>[1,2,3].includes(n)))||2,x()},s.iterations=function(n){return arguments.length?(y=+n,s):y},s.strength=function(n){return arguments.length?(d=+n,s):d},s.radius=function(t){return arguments.length?(n=\"function\"==typeof t?t:o(+t),x(),s):n},s},n.forceLink=function(n){var t,e,r,i,u,a,c,l=h,d=function(n){return 1/Math.min(u[n.source.index],u[n.target.index])},y=o(30),s=1;function g(r){for(var u=0,o=n.length;u<s;++u)for(var l,h,v,d,y,g=0,x=0,z=0,p=0;g<o;++g)h=(l=n[g]).source,x=(v=l.target).x+v.vx-h.x-h.vx||f(c),i>1&&(z=v.y+v.vy-h.y-h.vy||f(c)),i>2&&(p=v.z+v.vz-h.z-h.vz||f(c)),x*=d=((d=Math.sqrt(x*x+z*z+p*p))-e[g])/d*r*t[g],z*=d,p*=d,v.vx-=x*(y=a[g]),i>1&&(v.vy-=z*y),i>2&&(v.vz-=p*y),h.vx+=x*(y=1-y),i>1&&(h.vy+=z*y),i>2&&(h.vz+=p*y)}function x(){if(r){var i,o,f=r.length,c=n.length,h=new Map(r.map(((n,t)=>[l(n,t,r),n])));for(i=0,u=new Array(f);i<c;++i)(o=n[i]).index=i,\"object\"!=typeof o.source&&(o.source=v(h,o.source)),\"object\"!=typeof o.target&&(o.target=v(h,o.target)),u[o.source.index]=(u[o.source.index]||0)+1,u[o.target.index]=(u[o.target.index]||0)+1;for(i=0,a=new Array(c);i<c;++i)o=n[i],a[i]=u[o.source.index]/(u[o.source.index]+u[o.target.index]);t=new Array(c),z(),e=new Array(c),p()}}function z(){if(r)for(var e=0,i=n.length;e<i;++e)t[e]=+d(n[e],e,n)}function p(){if(r)for(var t=0,i=n.length;t<i;++t)e[t]=+y(n[t],t,n)}return null==n&&(n=[]),g.initialize=function(n,...t){r=n,c=t.find((n=>\"function\"==typeof n))||Math.random,i=t.find((n=>[1,2,3].includes(n)))||2,x()},g.links=function(t){return arguments.length?(n=t,x(),g):n},g.id=function(n){return arguments.length?(l=n,g):l},g.iterations=function(n){return arguments.length?(s=+n,g):s},g.strength=function(n){return arguments.length?(d=\"function\"==typeof n?n:o(+n),z(),g):d},g.distance=function(n){return arguments.length?(y=\"function\"==typeof n?n:o(+n),p(),g):y},g},n.forceManyBody=function(){var n,i,u,a,c,l,h=o(-30),v=1,d=1/0,x=.81;function z(o){var f,a=n.length,l=(1===i?t.binarytree(n,y):2===i?e.quadtree(n,y,s):3===i?r.octree(n,y,s,g):null).visitAfter(M);for(c=o,f=0;f<a;++f)u=n[f],l.visit(w)}function p(){if(n){var t,e,r=n.length;for(l=new Array(r),t=0;t<r;++t)e=n[t],l[e.index]=+h(e,t,n)}}function M(n){var t,e,r,u,o,f,a=0,c=0,h=n.length;if(h){for(r=u=o=f=0;f<h;++f)(t=n[f])&&(e=Math.abs(t.value))&&(a+=t.value,c+=e,r+=e*(t.x||0),u+=e*(t.y||0),o+=e*(t.z||0));a*=Math.sqrt(4/h),n.x=r/c,i>1&&(n.y=u/c),i>2&&(n.z=o/c)}else{(t=n).x=t.data.x,i>1&&(t.y=t.data.y),i>2&&(t.z=t.data.z);do{a+=l[t.data.index]}while(t=t.next)}n.value=a}function w(n,t,e,r,o){if(!n.value)return!0;var h=[e,r,o][i-1],y=n.x-u.x,s=i>1?n.y-u.y:0,g=i>2?n.z-u.z:0,z=h-t,p=y*y+s*s+g*g;if(z*z/x<p)return p<d&&(0===y&&(p+=(y=f(a))*y),i>1&&0===s&&(p+=(s=f(a))*s),i>2&&0===g&&(p+=(g=f(a))*g),p<v&&(p=Math.sqrt(v*p)),u.vx+=y*n.value*c/p,i>1&&(u.vy+=s*n.value*c/p),i>2&&(u.vz+=g*n.value*c/p)),!0;if(!(n.length||p>=d)){(n.data!==u||n.next)&&(0===y&&(p+=(y=f(a))*y),i>1&&0===s&&(p+=(s=f(a))*s),i>2&&0===g&&(p+=(g=f(a))*g),p<v&&(p=Math.sqrt(v*p)));do{n.data!==u&&(z=l[n.data.index]*c/p,u.vx+=y*z,i>1&&(u.vy+=s*z),i>2&&(u.vz+=g*z))}while(n=n.next)}}return z.initialize=function(t,...e){n=t,a=e.find((n=>\"function\"==typeof n))||Math.random,i=e.find((n=>[1,2,3].includes(n)))||2,p()},z.strength=function(n){return arguments.length?(h=\"function\"==typeof n?n:o(+n),p(),z):h},z.distanceMin=function(n){return arguments.length?(v=n*n,z):Math.sqrt(v)},z.distanceMax=function(n){return arguments.length?(d=n*n,z):Math.sqrt(d)},z.theta=function(n){return arguments.length?(x=n*n,z):Math.sqrt(x)},z},n.forceRadial=function(n,t,e,r){var i,u,f,a,c=o(.1);function l(n){for(var o=0,c=i.length;o<c;++o){var l=i[o],h=l.x-t||1e-6,v=(l.y||0)-e||1e-6,d=(l.z||0)-r||1e-6,y=Math.sqrt(h*h+v*v+d*d),s=(a[o]-y)*f[o]*n/y;l.vx+=h*s,u>1&&(l.vy+=v*s),u>2&&(l.vz+=d*s)}}function h(){if(i){var t,e=i.length;for(f=new Array(e),a=new Array(e),t=0;t<e;++t)a[t]=+n(i[t],t,i),f[t]=isNaN(a[t])?0:+c(i[t],t,i)}}return\"function\"!=typeof n&&(n=o(+n)),null==t&&(t=0),null==e&&(e=0),null==r&&(r=0),l.initialize=function(n,...t){i=n,u=t.find((n=>[1,2,3].includes(n)))||2,h()},l.strength=function(n){return arguments.length?(c=\"function\"==typeof n?n:o(+n),h(),l):c},l.radius=function(t){return arguments.length?(n=\"function\"==typeof t?t:o(+t),h(),l):n},l.x=function(n){return arguments.length?(t=+n,l):t},l.y=function(n){return arguments.length?(e=+n,l):e},l.z=function(n){return arguments.length?(r=+n,l):r},l},n.forceSimulation=function(n,t){t=t||2;var e,r=Math.min(3,Math.max(1,Math.round(t))),o=1,f=.001,a=1-Math.pow(f,1/300),c=0,l=.6,h=new Map,v=u.timer(g),y=i.dispatch(\"tick\",\"end\"),s=function(){let n=1;return()=>(n=(1664525*n+1013904223)%d)/d}();function g(){p(),y.call(\"tick\",e),o<f&&(v.stop(),y.call(\"end\",e))}function p(t){var i,u,f=n.length;void 0===t&&(t=1);for(var v=0;v<t;++v)for(o+=(c-o)*a,h.forEach((function(n){n(o)})),i=0;i<f;++i)null==(u=n[i]).fx?u.x+=u.vx*=l:(u.x=u.fx,u.vx=0),r>1&&(null==u.fy?u.y+=u.vy*=l:(u.y=u.fy,u.vy=0)),r>2&&(null==u.fz?u.z+=u.vz*=l:(u.z=u.fz,u.vz=0));return e}function M(){for(var t,e=0,i=n.length;e<i;++e){if((t=n[e]).index=e,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),null!=t.fz&&(t.z=t.fz),isNaN(t.x)||r>1&&isNaN(t.y)||r>2&&isNaN(t.z)){var u=10*(r>2?Math.cbrt(.5+e):r>1?Math.sqrt(.5+e):e),o=e*x,f=e*z;1===r?t.x=u:2===r?(t.x=u*Math.cos(o),t.y=u*Math.sin(o)):(t.x=u*Math.sin(o)*Math.cos(f),t.y=u*Math.cos(o),t.z=u*Math.sin(o)*Math.sin(f))}(isNaN(t.vx)||r>1&&isNaN(t.vy)||r>2&&isNaN(t.vz))&&(t.vx=0,r>1&&(t.vy=0),r>2&&(t.vz=0))}}function w(t){return t.initialize&&t.initialize(n,s,r),t}return null==n&&(n=[]),M(),e={tick:p,restart:function(){return v.restart(g),e},stop:function(){return v.stop(),e},numDimensions:function(n){return arguments.length?(r=Math.min(3,Math.max(1,Math.round(n))),h.forEach(w),e):r},nodes:function(t){return arguments.length?(n=t,M(),h.forEach(w),e):n},alpha:function(n){return arguments.length?(o=+n,e):o},alphaMin:function(n){return arguments.length?(f=+n,e):f},alphaDecay:function(n){return arguments.length?(a=+n,e):+a},alphaTarget:function(n){return arguments.length?(c=+n,e):c},velocityDecay:function(n){return arguments.length?(l=1-n,e):1-l},randomSource:function(n){return arguments.length?(s=n,h.forEach(w),e):s},force:function(n,t){return arguments.length>1?(null==t?h.delete(n):h.set(n,w(t)),e):h.get(n)},find:function(){var t,e,i,u,o,f,a=Array.prototype.slice.call(arguments),c=a.shift()||0,l=(r>1?a.shift():null)||0,h=(r>2?a.shift():null)||0,v=a.shift()||1/0,d=0,y=n.length;for(v*=v,d=0;d<y;++d)(u=(t=c-(o=n[d]).x)*t+(e=l-(o.y||0))*e+(i=h-(o.z||0))*i)<v&&(f=o,v=u);return f},on:function(n,t){return arguments.length>1?(y.on(n,t),e):y.on(n)}}},n.forceX=function(n){var t,e,r,i=o(.1);function u(n){for(var i,u=0,o=t.length;u<o;++u)(i=t[u]).vx+=(r[u]-i.x)*e[u]*n}function f(){if(t){var u,o=t.length;for(e=new Array(o),r=new Array(o),u=0;u<o;++u)e[u]=isNaN(r[u]=+n(t[u],u,t))?0:+i(t[u],u,t)}}return\"function\"!=typeof n&&(n=o(null==n?0:+n)),u.initialize=function(n){t=n,f()},u.strength=function(n){return arguments.length?(i=\"function\"==typeof n?n:o(+n),f(),u):i},u.x=function(t){return arguments.length?(n=\"function\"==typeof t?t:o(+t),f(),u):n},u},n.forceY=function(n){var t,e,r,i=o(.1);function u(n){for(var i,u=0,o=t.length;u<o;++u)(i=t[u]).vy+=(r[u]-i.y)*e[u]*n}function f(){if(t){var u,o=t.length;for(e=new Array(o),r=new Array(o),u=0;u<o;++u)e[u]=isNaN(r[u]=+n(t[u],u,t))?0:+i(t[u],u,t)}}return\"function\"!=typeof n&&(n=o(null==n?0:+n)),u.initialize=function(n){t=n,f()},u.strength=function(n){return arguments.length?(i=\"function\"==typeof n?n:o(+n),f(),u):i},u.y=function(t){return arguments.length?(n=\"function\"==typeof t?t:o(+t),f(),u):n},u},n.forceZ=function(n){var t,e,r,i=o(.1);function u(n){for(var i,u=0,o=t.length;u<o;++u)(i=t[u]).vz+=(r[u]-i.z)*e[u]*n}function f(){if(t){var u,o=t.length;for(e=new Array(o),r=new Array(o),u=0;u<o;++u)e[u]=isNaN(r[u]=+n(t[u],u,t))?0:+i(t[u],u,t)}}return\"function\"!=typeof n&&(n=o(null==n?0:+n)),u.initialize=function(n){t=n,f()},u.strength=function(n){return arguments.length?(i=\"function\"==typeof n?n:o(+n),f(),u):i},u.z=function(t){return arguments.length?(n=\"function\"==typeof t?t:o(+t),f(),u):n},u},Object.defineProperty(n,\"__esModule\",{value:!0})}));\r\n\t// importScripts(\"https://cdn.jsdelivr.net/npm/d3-dispatch@3\");\r\n\t// importScripts(\"https://cdn.jsdelivr.net/npm/d3-quadtree@3\");\r\n\t// importScripts(\"https://cdn.jsdelivr.net/npm/d3-timer@3\");\r\n\t// importScripts(\"https://cdn.jsdelivr.net/npm/d3-force@3\");\r\n\t// importScripts(\"https://unpkg.com/d3-binarytree\");\r\n\t// importScripts(\"https://unpkg.com/d3-octree\");\r\n\t// importScripts(\"https://unpkg.com/d3-force-3d\");\r\n\r\n\t\"use strict\"\r\n\r\n\tthis._handleSetAttribute = (attributeName,value)=>{\r\n\t\t// example attributeName = \"simulation.alpha\"\r\n\t\t// example this.simulation.attributeName?.(value);\r\n\t\tlet attributeNames = attributeName.split(\".\");\r\n\t\tlet attribute = this;\r\n\t\tfor(let i=0;i<attributeNames.length;i++){\r\n\t\t\tattribute = attribute?.[attributeNames[i]];\r\n\t\t}\r\n\t\tattribute?.(value);\r\n\t}\r\n\r\n\tself.onmessage = function (msg) {\r\n\t\t// console.log(\"RECEIVED:\", msg.data.type);\r\n\t\tlet use2D = false;\r\n\t\tif (msg.data.type == \"pause\") {\r\n\t\t\t// console.log(\"PAUSING!!!!\")\r\n\t\t\tthis.simulation.stop();\r\n\t\t} else if (msg.data.type == \"resume\") {\r\n\t\t\tthis.simulation.restart();\r\n\t\t} else if (msg.data.type == \"setAttribute\") {\r\n\t\t\tthis._handleSetAttribute(msg.data.attributeName,msg.data.value);\r\n\t\t} else if (msg.data.type == \"start\") {\r\n\t\t\t// let inputNodes = msg.data.nodes;\r\n\t\t\tlet inputNodesPositions = msg.data.positions;\r\n\t\t\tlet inputEdges = msg.data.edges;\r\n\t\t\t// let inputEdgeWeights = msg.data.weights;\r\n\t\t\t\r\n\t\t\tif(msg.data.use2D) {\r\n\t\t\t\tuse2D = true;\r\n\t\t\t}\r\n\r\n\t\t\tlet nodes = [];\r\n\t\t\tlet links = [];\r\n\t\t\tfor (let nodeIndex = 0; nodeIndex < inputNodesPositions.length/3; nodeIndex++) {\r\n\t\t\t\t\r\n\t\t\t\t// console.log(entry);\r\n\t\t\t\t\r\n\r\n\t\t\t\t// node.x = 400 * (Math.random() * 1.0 - 0.5);\r\n\t\t\t\t// node.y = 400 * (Math.random() * 1.0 - 0.5);\r\n\t\t\t\t// node.z = 400 * (Math.random() * 1.0 - 0.5);\r\n\t\t\t\t// node.vz = 0;\r\n\t\t\t\t\r\n\t\t\t\tlet x = inputNodesPositions[nodeIndex*3+0]*10;//400 * (Math.random() * 1.0 - 0.5);\r\n\t\t\t\tlet y = inputNodesPositions[nodeIndex*3+1]*10;//400 * (Math.random() * 1.0 - 0.5);\r\n\t\t\t\tlet z = inputNodesPositions[nodeIndex*3+2]*10;//400 * (Math.random() * 1.0 - 0.5);\r\n\t\t\t\tlet vz = 0;\r\n\t\t\t\t\r\n\r\n\t\t\t\t// node.index = network.ID2index[key];\r\n\t\t\t\tnodes.push({x,y,z,vz,ID:nodeIndex});\r\n\t\t\t}\r\n\r\n\t\t\tfor (let index = 0; index < inputEdges.length / 2; index++) {\r\n\t\t\t\tlet edgeFrom = (inputEdges[index * 2]);\r\n\t\t\t\tlet edgeTo = (inputEdges[index * 2 + 1]);\r\n\t\t\t\tlet edgeObject = {\r\n\t\t\t\t\tsource: edgeFrom,\r\n\t\t\t\t\ttarget: edgeTo,\r\n\t\t\t\t}\r\n\t\t\t\tlinks.push(edgeObject);\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\tfunction d3gravityForce() {\r\n\t\t\t// var nodes, strength = 0.20, softening = 0.05;\r\n\t\t\tvar nodes, strength = 0.10, softening = 0.05;\r\n\t\t\tfunction force(alpha){\r\n\t\t\t\tconst totalStrength = Math.sqrt(nodes.length)*alpha * strength;\r\n\t\t\t\tfor (let i = 0, n = nodes.length, node; i < n; ++i) {\r\n\t\t\t\t\tnode = nodes[i];\r\n\t\t\t\t\tlet distance = Math.sqrt(node.x * node.x + node.y * node.y + node.z * node.z + softening);\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet kinvdistance3 = totalStrength/(distance);\r\n\t\t\t\t\tnode.vx -= node.x * kinvdistance3;\r\n\t\t\t\t\tnode.vy -= node.y * kinvdistance3;\r\n\t\t\t\t\tnode.vz -= node.z * kinvdistance3;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tforce.initialize = function(_) {\r\n\t\t\t\tnodes = _;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tforce.strength = function(_) {\r\n\t\t\t\treturn arguments.length ? (strength = +_, force) : strength;\r\n\t\t\t};\r\n\r\n\t\t\tforce.softening = function(_) {\r\n\t\t\t\treturn arguments.length ? (softening = +_, force) : softening;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\treturn force;\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\tthis.repulsiveforce = d3.forceManyBody();\r\n\t\t\tthis.attractiveforce = d3.forceLink(links);\r\n\t\t\tthis.centralForce = d3.forceCenter();\r\n\t\t\t// this.gravityForce = d3gravityForce();\r\n\t\t\tthis.simulation = d3.forceSimulation(nodes)\r\n\t\t\t\t.numDimensions(use2D?2:3)\r\n\t\t\t\t.force(\"charge\", this.repulsiveforce)\r\n\t\t\t\t.force(\"link\", this.attractiveforce)\r\n\t\t\t\t.force(\"center\", centralForce)\r\n\t\t\t\t.force(\"gravity\", this.gravityForce)\r\n\t\t\t\t// .force(\"collide\", d3.forceCollide(d => d.size*4))\r\n\t\t\t\t.velocityDecay(0.05)\r\n\t\t\t\t.on(\"tick\", async () => {\r\n\t\t\t\t\tfor (let vertexIndex = 0; vertexIndex < nodes.length; vertexIndex++) {\r\n\t\t\t\t\t\tconst node = nodes[vertexIndex];\r\n\t\t\t\t\t\tinputNodesPositions[vertexIndex * 3 + 0] = node.x/10;\r\n\t\t\t\t\t\tinputNodesPositions[vertexIndex * 3 + 1] = node.y/10;\r\n\t\t\t\t\t\tif(!use2D) {\r\n\t\t\t\t\t\t\tinputNodesPositions[vertexIndex * 3 + 2] = node.z/10;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tinputNodesPositions[vertexIndex * 3 + 2] = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tself.postMessage({ type: \"update\", positions: inputNodesPositions });\r\n\t\t\t\t}).on(\"end\", () => {\r\n\t\t\t\t\tself.postMessage({ type: \"stop\" });\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n})\r\n\r\nlet workerFunctionString = workerFunction.toString();\r\nlet workerURL = URL.createObjectURL(new Blob([`(${workerFunctionString})()`], {type:'text/javascript'}));\r\n\r\n\r\nclass d3ForceLayoutWorker {\r\n\tconstructor({\r\n\t\tnetwork=null,\r\n\t\tonUpdate=null,\r\n\t\tonStop=null,\r\n\t\tonStart=null,\r\n\t\tuse2D=false\r\n\t}) {\r\n\t\tthis._network = network;\r\n\t\tthis._onUpdate = onUpdate;\r\n\t\tthis._onStop = onStop;\r\n\t\tthis._onStart = onStart;\r\n\t\tthis._use2D = use2D;\r\n\t\tthis._attributes = {\r\n\t\t\t\"charge\": 0.1,\r\n\t\t};\r\n\t\tthis._layoutWorker = null;\r\n\t}\r\n\r\n\tstart(){\r\n\t\tif(!this._layoutWorker){\r\n\t\t\tthis._layoutWorker = new Worker(workerURL);\r\n\t\t\tthis._layoutWorker.onmessage = (msg) => {\r\n\t\t\t\tif (msg.data.type == \"update\") {\r\n\t\t\t\t\tthis._onUpdate?.(msg.data);\r\n\t\t\t\t}else if (msg.data.type == \"stop\") {\r\n\t\t\t\t\tthis._onStop?.(msg.data);\r\n\t\t\t\t\tthis._layoutRunning = false;\r\n\t\t\t\t}else if (msg.data.type == \"getAttribute\") {\r\n\t\t\t\t\tthis._handleReturnAttribute(msg.data);\r\n\t\t\t\t}else {\r\n\t\t\t\t\tconsole.log(\"Layout received Unknown msg: \", msg);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tthis._layoutRunning = true;\r\n\t\t\tthis._onStart?.();\r\n\t\t\tthis._layoutWorker.postMessage({\r\n\t\t\t\t type: \"start\",\r\n\t\t\t\t// network: this.network,\r\n\t\t\t\t// nodes:this._network.nodes,\r\n\t\t\t\tpositions:this._network.positions,\r\n\t\t\t\tedges:this._network.indexedEdges, \r\n\t\t\t\tuse2D: this._use2D\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\trestart(){\r\n\t\tthis.stop();\r\n\t\tthis.start();\r\n\t\treturn this;\r\n\t}\r\n\r\n\tstop(){\r\n\t\tif(this._layoutRunning){\r\n\t\t\tthis._onStop?.();\r\n\t\t}\r\n\t\tthis._layoutWorker?.terminate();\r\n\t\tthis._layoutRunning = false;\r\n\t\tdelete this._layoutWorker;\r\n\t\tthis._layoutWorker = null;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tresume() {\r\n\t\tthis.start();\r\n\t\tif(!this._layoutRunning){\r\n\t\t\tthis._onStart?.();\r\n\t\t}\r\n\t\tthis._layoutWorker.postMessage({ type: \"resume\" });\r\n\t\tthis._layoutRunning=true;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpause(){\r\n\t\tthis._layoutWorker.postMessage({ type: \"pause\"});\r\n\t\tthis._layoutRunning=false;\r\n\t\tthis._onStop?.();\r\n\t\treturn this;\r\n\t}\r\n\r\n\tonUpdate(callback) {\r\n\t\tthis._onUpdate = callback;\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\tonStop(callback) {\r\n\t\tthis._onStop = callback;\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\tonStart(callback) {\r\n\t\tthis._onStart = callback;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tisRunning() {\r\n\t\treturn this._layoutRunning;\r\n\t}\r\n\t\r\n\tcleanup() {\r\n\t\tthis.stop();\r\n\t}\r\n\r\n\t_handleGetAttribute(){\r\n\t\t//Not implemented yet\r\n\t}\r\n\r\n\tsetAttribute(attributeName,value){\r\n\t\tthis._layoutWorker.postMessage({\r\n\t\t\ttype: \"setAttribute\",\r\n\t\t\tattributeName: attributeName,\r\n\t\t\tvalue: value\r\n\t\t});\r\n\t\treturn this;\r\n\t}\r\n\r\n\tgroups(groups) {\r\n\t\treturn this.setAttribute(\"groups\", groups);\r\n\t}\r\n\r\n\talpha(alphaValue){\r\n\t\treturn this.setAttribute(\"alpha\", alphaValue);\r\n\t}\r\n\r\n\talphaDecay(alphaValue){\r\n\t\treturn this.setAttribute(\"alphaDecay\", alphaValue);\r\n\t}\r\n\r\n\talphaTarget(alphaValue){\r\n\t\treturn this.setAttribute(\"alphaTarget\", alphaValue);\r\n\t}\r\n\r\n\tvelocityDecay(velocityDecayValue){\r\n\t\treturn this.setAttribute(\"velocityDecay\", velocityDecayValue);\r\n\t}\r\n}\r\n\r\nexport {d3ForceLayoutWorker as layoutWorker};","\n\n\n\n//\n// EDGES VERTEX SHADER\n//\n\nlet vertexShader = /*glsl*/`\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\n \nuniform float globalSizeScale;\nuniform float globalSizeBase;\nuniform float globalWidthScale;\nuniform float globalWidthBase;\n\nuniform float globalOpacityScale;\nuniform float globalOpacityBase;\n\nattribute vec3 fromVertex;\nattribute vec3 toVertex;\nattribute vec2 vertexType;\n// 0,1:  0.0, 1.0, // source, top\n// 0,0:  0.0, 0.0, // source, bottom\n// 1,1:  1.0, 1.0, // target, top\n// 1,0:  1.0, 0.0, // target, bottom\n\nattribute vec4 fromColor;\nattribute vec4 toColor;\nattribute float fromSize;\nattribute float toSize;\nattribute vec4 encodedIndex;\n\nvarying vec4 vColor;\nvarying vec3 vOffset;\nvarying vec4 vEncodedIndex;\n\n\n//varying float vZComponent;\n\nvoid main(void){\n\tvColor = (fromColor)*vertexType.x + (toColor)*(1.0-vertexType.x);\n\tvColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);\n\tfloat updatedFromSize = globalSizeScale*fromSize+globalSizeBase;\n\tfloat updatedToSize = globalSizeScale*toSize+globalSizeBase;\n\n\tfloat width = globalWidthBase+globalWidthScale*((updatedFromSize)*vertexType.x + (updatedToSize)*(1.0-vertexType.x));\n\tvEncodedIndex = encodedIndex;\n\t//vZComponent = viewVertex.z;\n\n\n\tvec3 vertexCenter = fromVertex.xyz*vertexType.x + toVertex.xyz*(1.0-vertexType.x);\n\tvec3 destinationVertexCenter = fromVertex.xyz*(1.0-vertexType.x) + toVertex.xyz*vertexType.x;\n\t\n\tvec3 displacement = (viewMatrix*vec4((destinationVertexCenter-vertexCenter),0.0)).xyz;\n\tvec3 perpendicularVector = normalize(vec3(-displacement.y, displacement.x, 0.0));\n\tvec3 offset = width*(vertexType.x-0.5)*(vertexType.y-0.5)*4.0*1.5*perpendicularVector;\n\t\n\tvec4 viewVertex = viewMatrix * vec4(vertexCenter.xyz,1.0)+vec4(offset,0.0);\n\tfloat displacementLength = length(displacement);\n\tvOffset = vec3(vertexType.x,updatedToSize/displacementLength*1.5,updatedFromSize/displacementLength*1.5);\n\t\n\n\tvec4 temp_pos = projectionMatrix*viewVertex;\n\t// vec4 eye_vec = vec4(0.0,0.0,0.0,0);\n\t// float dist = length(eye_vec);\n\t// vec4 lookat = eye_vec - temp_pos;\n\t// vec4 dir = temp_pos - eye_vec;\n\t// vec4 center = normalize(-eye_vec);\n\t// vec4 proj = dot(temp_pos, normalize(-lookat)) * normalize(-lookat);\n\t// vec4 c = temp_pos - proj;\n\t// float magnitude = 1.0-acos(dot(normalize(-eye_vec), normalize(temp_pos)));\n\n\t// c = length(c) * magnitude * normalize(c);\n\t// vec4 dir2 = normalize(c-lookat);\n\t// temp_pos.xy = (dir2).xy;\n\t// temp_pos.z = 0.0;\n\t// temp_pos.w = 1.0;\n\n\n\tgl_Position = temp_pos;\n\t\n}\n`;\n\n\n\n\n\n//\n// EDGES VERTEX SHADER HYPERBOLIC\n//\n\nlet vertexHyperbolicShader = /*glsl*/`\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\n \nuniform float globalSizeScale;\nuniform float globalSizeBase;\nuniform float globalWidthScale;\nuniform float globalWidthBase;\n\nuniform float globalOpacityScale;\nuniform float globalOpacityBase;\n\nattribute vec3 fromVertex;\nattribute vec3 toVertex;\nattribute vec2 vertexType;\n// 0,1:  0.0, 1.0, // source, top\n// 0,0:  0.0, 0.0, // source, bottom\n// 1,1:  1.0, 1.0, // target, top\n// 1,0:  1.0, 0.0, // target, bottom\n\nattribute vec4 fromColor;\nattribute vec4 toColor;\nattribute float fromSize;\nattribute float toSize;\nattribute vec4 encodedIndex;\n\nvarying vec4 vColor;\nvarying vec3 vOffset;\nvarying vec4 vEncodedIndex;\n\n\nvec2 hyperbolicNormFactor(vec2 vertex, float scaling){\n\tvec2 pos = vertex.xy;\n\tfloat r = length(pos.xy);\n\t// //polar\n\t// vec2 normFactor = (r+scaling)*vec2(1.0,1.0);\n\t// catersian\n\tvec2 normFactor = sqrt(vertex.xy*vertex.xy+scaling*scaling);\n\treturn normFactor;\n}\n\n//varying float vZComponent;\n\nvoid main(void){\n\tvColor = (fromColor)*vertexType.x + (toColor)*(1.0-vertexType.x);\n\tvColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);\n\tfloat updatedFromSize = globalSizeScale*fromSize+globalSizeBase;\n\tfloat updatedToSize = globalSizeScale*toSize+globalSizeBase;\n\n\tfloat width = globalWidthBase+globalWidthScale*((updatedFromSize)*vertexType.x + (updatedToSize)*(1.0-vertexType.x));\n\tvEncodedIndex = encodedIndex;\n\t//vZComponent = viewVertex.z;\n\n\tfloat scaling = -viewMatrix[3][2];\n\t\n\tvec4 fromVertexView = viewMatrix * vec4(fromVertex.xyz,1.0);\n\tvec4 toVertexView = viewMatrix * vec4(toVertex.xyz,1.0);\n\n\tvec2 normFactorFrom = hyperbolicNormFactor(fromVertexView.xy, scaling);\n\tvec2 normFactorTo = hyperbolicNormFactor(toVertexView.xy, scaling);\n\t\n\tvec3 vertexCenter = fromVertexView.xyz*vertexType.x + toVertexView.xyz*(1.0-vertexType.x);\n\tvec3 destinationVertexCenter = fromVertexView.xyz*(1.0-vertexType.x) + toVertexView.xyz*vertexType.x;\n\n\tvec2 normFactorCenter = hyperbolicNormFactor(vertexCenter.xy, scaling);\n\tvec2 normFactorDestinationCenter = hyperbolicNormFactor(destinationVertexCenter.xy, scaling);\n\n\tfromVertexView.xy = fromVertexView.xy/normFactorFrom/vec2(projectionMatrix[0][0],projectionMatrix[1][1]);\n\ttoVertexView.xy = toVertexView.xy/normFactorTo/vec2(projectionMatrix[0][0],projectionMatrix[1][1]);\n\tvertexCenter.xy = vertexCenter.xy/normFactorCenter/vec2(projectionMatrix[0][0],projectionMatrix[1][1]);\n\tdestinationVertexCenter.xy = destinationVertexCenter.xy/normFactorDestinationCenter/vec2(projectionMatrix[0][0],projectionMatrix[1][1]);\n\n\tvec3 displacement = vec4((destinationVertexCenter-vertexCenter),0.0).xyz;\n\tvec3 perpendicularVector = normalize(vec3(-displacement.y, displacement.x, 0.0));\n\tvec3 offset = width*(vertexType.x-0.5)*(vertexType.y-0.5)*4.0*1.0*perpendicularVector/length(normFactorCenter)*scaling;\n\t\n\tvec4 viewVertex = vec4(vertexCenter.xyz,1.0)+vec4(offset,0.0);\n\tfloat displacementLength = length(displacement);\n\t// vOffset = vec3(vertexType.x,updatedToSize/displacementLength*1.0,updatedFromSize/displacementLength*1.0);\n\tvOffset = vec3(0.0,0.0,0.0);\n\tviewVertex.zw = vec2(0.0,1.0);\n\tvec4 temp_pos = projectionMatrix*viewVertex;\n\tgl_Position = temp_pos;\n}\n`;\n\n\n//\n// EDGES FRAGMENT SHADER\n//\n\nlet fragmentShader = /*glsl*/`\n#ifdef GL_ES\n\tprecision highp float;\n#endif\n//uniform vec2 nearFar;\nvarying vec4 vEncodedIndex;\nvarying vec4 vColor;\nvarying vec3 vOffset;\n//varying float vZComponent;\n//gl_DepthRange.near)/gl_DepthRange.diff\nvoid main(){\n\t//float w = (-vZComponent-nearFar[0])/(nearFar[1]-nearFar[0]);\n\tif(vOffset.x<vOffset.y || vOffset.x>(1.0-vOffset.z)){\n\t\tdiscard;\n\t}\n\n\t// gl_FragColor = vec4(vOffset.x,vOffset.x,0,1.0);//vec4(vColor.xyz,globalOpacity*vColor.w);\n\tgl_FragColor = vColor;\n}\n`;\n\n\n\n//\n// EDGES PICKING FRAGMENT SHADER\n//\n\nlet pickingShader = /*glsl*/`\n#ifdef GL_ES\n\tprecision highp float;\n#endif\n//uniform vec2 nearFar;\nvarying vec4 vEncodedIndex;\nvarying vec4 vColor;\nvarying vec3 vOffset;\n//varying float vZComponent;\n//gl_DepthRange.near)/gl_DepthRange.diff\nvoid main(){\n\n\tif(vOffset.x<vOffset.y*1.1 || vOffset.x>(1.0-vOffset.z*1.1) || (vEncodedIndex.x+vEncodedIndex.y+vEncodedIndex.z+vEncodedIndex.w)<=0.0){\n\t\tdiscard;\n\t}\n\t//float w = (-vZComponent-nearFar[0])/(nearFar[1]-nearFar[0]);\n\tgl_FragColor = vEncodedIndex;\n\t\n}\n`;\n\n\n//\n// EDGES FAST VERTEX SHADER\n//\n\nlet fastVertexShader = /*glsl*/`\nuniform mat4 projectionViewMatrix;\nuniform float globalOpacityScale;\nuniform float globalOpacityBase;\n\nattribute vec3 vertex;\nattribute vec4 color;\n\n\nvarying vec4 vColor;\nvarying vec4 vEncodedIndex;\n\n//varying float vZComponent;\n\nvoid main(void){\n\tvColor = color;\n\tvColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);\n\t//vZComponent = viewVertex.z;\n\tgl_Position =   projectionViewMatrix * vec4(vertex,1.0);\n}\n`;\n\n\n//\n// EDGES FAST VERTEX SHADER HYPERBOLIC\n//\n\nlet fastVertexHyperbolicShader = /*glsl*/`\nuniform mat4 projectionViewMatrix;\nuniform float globalOpacityScale;\nuniform float globalOpacityBase;\n\nattribute vec3 vertex;\nattribute vec4 color;\n\n\nvarying vec4 vColor;\nvarying vec4 vEncodedIndex;\n\n//varying float vZComponent;\n\nvoid main(void){\n\tvColor = color;\n\tvColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);\n\t//vZComponent = viewVertex.z;\n\n\tvec4 temp_pos = projectionViewMatrix * vec4(vertex,1.0);\n\tvec4 eye_vec = vec4(0.0,0.0,1.0,0);\n\tfloat dist = length(eye_vec);\n\tvec4 lookat = eye_vec - temp_pos;\n\tvec4 dir = temp_pos - eye_vec;\n\tvec4 center = normalize(-eye_vec);\n\tvec4 proj = dot(temp_pos, normalize(-lookat)) * normalize(-lookat);\n\tvec4 c = temp_pos - proj;\n\tfloat magnitude = 1.0-acos(dot(normalize(-eye_vec), normalize(temp_pos)));\n\n\tc = length(c) * magnitude * normalize(c);\n\tvec4 dir2 = normalize(c-lookat);\n\ttemp_pos.xy = (dir2).xy;\n\ttemp_pos.z = 0.0;\n\ttemp_pos.w = 1.0;\n\tgl_Position = temp_pos;\n}\n`;\n\n//\n// EDGES FAST FRAGMENT SHADER\n//\n\nlet fastFragmentShader = /*glsl*/`\n#ifdef GL_ES\n\tprecision highp float;\n#endif\n//uniform vec2 nearFar;\nvarying vec4 vColor;\n//varying float vZComponent;\n//gl_DepthRange.near)/gl_DepthRange.diff\nvoid main(){\n\t//float w = (-vZComponent-nearFar[0])/(nearFar[1]-nearFar[0]);\n\tgl_FragColor = vColor;\n\t// gl_FragColor = vec4(vEncodedIndex.x/10,0,0,1.0);\n}\n\n`;\n\n\n\n\n\nexport {fragmentShader,vertexShader,\n\tpickingShader,fastFragmentShader,\n\tfastVertexShader,fastVertexHyperbolicShader,\n\tvertexHyperbolicShader};\n","\n\n//\n// NODES VERTEX SHADER\n//\n\nlet vertexShader = /*glsl*/`\n// uniform mat4 projectionMatrix;\n// uniform mat4 viewMatrix;\n// uniform mat3 normalMatrix;\n\n\n// attribute vec4 vertex;\n// attribute vec3 normal;\n// attribute vec3 position;\n// attribute vec3 color;\n// attribute float size;\n// attribute float Opacity;\n\n// varying vec3 vNormal;\n// varying vec3 vEye;\n\n// varying vec3 vColor;\n// varying float vSize;\n// varying float vOpacity;\n\n// void main(void){\n// \tvec4 viewVertex = viewMatrix * (vertex*vec4(vec3(size),1.0) + vec4(position,0.0));\n// \tvNormal = normalMatrix * normal;\n// \tvEye = -vec3(viewVertex);\n// \tvOpacity = Opacity;\n// \tvColor = color;\n// \tgl_Position =   projectionMatrix * viewVertex;\n// }\n\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\n\nuniform float globalOpacityScale;\nuniform float globalSizeScale;\nuniform float globalOutlineWidthScale;\n\nuniform float globalOpacityBase;\nuniform float globalSizeBase;\nuniform float globalOutlineWidthBase;\n\nattribute vec2 vertex;\n// attribute vec3 normal;\nattribute vec3 position;\nattribute vec4 color;\nattribute float size;\nattribute float outlineWidth;\nattribute vec4 outlineColor;\nattribute vec4 encodedIndex;\n\nvarying vec3 vNormal;\nvarying vec3 vEye;\nvarying vec4 vColor;\nvarying vec2 vOffset;\nvarying float vSize;\nvarying vec4 vEncodedIndex;\nvarying float vOutlineThreshold;\nvarying vec4 vOutlineColor;\nvarying vec4 vPosition;\n\nvoid main(void){\n\tfloat BoxCorrection = 1.5;\n\tvec2 offset = vertex;\n\tfloat updatedSize = globalSizeScale*size+globalSizeBase;\n\tfloat updatedOutlineWidth = globalOutlineWidthScale*outlineWidth+globalOutlineWidthBase;\n\tfloat fullSize = updatedSize + updatedOutlineWidth;\n\t// vec4 viewCenters = viewMatrix*vec4(position,1);\n\t// vec3 viewCenters = position;\n\t// fragCenter = viewCenters\n\t// float scalingFactor = 1.0 / abs(centers.x)*0.001;\n\t// offset*=scalingFactor;\n\tvec3 cameraRight = normalize(vec3(viewMatrix[0][0], viewMatrix[1][0], viewMatrix[2][0]));\n\tvec3 cameraUp = normalize(vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]));\n\n\t// viewCenters.xy += offset*updatedSize*CameraRight_worldspace;\n\t\n\tvec4 viewCenters = viewMatrix*vec4(position+BoxCorrection*fullSize*(cameraRight*offset.x + cameraUp*offset.y),1.0);\n\tvNormal = vec3(0.0,0.0,1.0); //normalMatrix * normal;\n\tvEye = -vec3(offset,0.0);\n\tvEncodedIndex = encodedIndex;\n\tvColor = color;\n\tvColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);\n\tvOutlineColor.w = clamp(globalOpacityBase+globalOpacityScale*vOutlineColor.w,0.0,1.0);\n\tvOffset = vertex;\n\tvSize = updatedSize;\n\tvOutlineThreshold = updatedOutlineWidth/fullSize;\n\n\tvOutlineColor = outlineColor;\n\tvPosition = projectionMatrix * viewCenters;\n\n\t// vec4 temp_pos = vPosition;\n\t// vec4 eye_vec = vec4(0.0,0.0,0.0,0);\n\t// float dist = length(eye_vec);\n\t// vec4 lookat = eye_vec - temp_pos;\n\t// vec4 dir = temp_pos - eye_vec;\n\t// vec4 center = normalize(-eye_vec);\n\t// vec4 proj = dot(temp_pos, normalize(-lookat)) * normalize(-lookat);\n\t// vec4 c = temp_pos - proj;\n\t// float magnitude = 1.0-acos(dot(normalize(-eye_vec), normalize(temp_pos)));\n\n\t// c = length(c) * magnitude * normalize(c);\n\t// vec4 dir2 = normalize(c-lookat);\n\t// vPosition.xy = (dir2).xy;\n\t// vPosition.z = 0.0;\n\t// vPosition.w = 1.0;\n\tgl_Position = vPosition;\n}\n`;\n\n\n//\n// NODES VERTEX SHADER HYPERBOLIC\n//\n\nlet vertexHyperbolicShader = /*glsl*/`\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\n\nuniform float globalOpacityScale;\nuniform float globalSizeScale;\nuniform float globalOutlineWidthScale;\n\nuniform float globalOpacityBase;\nuniform float globalSizeBase;\nuniform float globalOutlineWidthBase;\n\nattribute vec2 vertex;\n// attribute vec3 normal;\nattribute vec3 position;\nattribute vec4 color;\nattribute float size;\nattribute float outlineWidth;\nattribute vec4 outlineColor;\nattribute vec4 encodedIndex;\n\nvarying vec3 vNormal;\nvarying vec3 vEye;\nvarying vec4 vColor;\nvarying vec2 vOffset;\nvarying float vSize;\nvarying vec4 vEncodedIndex;\nvarying float vOutlineThreshold;\nvarying vec4 vOutlineColor;\nvarying vec4 vPosition;\n\nvec2 hyperbolicNormFactor(vec2 vertex, float scaling){\n\tvec2 pos = vertex.xy;\n\tfloat r = length(pos.xy);\n\t// //polar\n\t// vec2 normFactor = (r+scaling)*vec2(1.0,1.0);\n\t// catersian\n\tvec2 normFactor = sqrt(vertex.xy*vertex.xy+scaling*scaling);\n\treturn normFactor;\n}\n\nvoid main(void){\n\tfloat BoxCorrection = 1.5;\n\tvec2 offset = vertex;\n\tfloat updatedSize = globalSizeScale*size+globalSizeBase;\n\tfloat updatedOutlineWidth = globalOutlineWidthScale*outlineWidth+globalOutlineWidthBase;\n\tfloat fullSize = updatedSize + updatedOutlineWidth;\n\t// vec4 viewCenters = viewMatrix*vec4(position,1);\n\t// vec3 viewCenters = position;\n\t// fragCenter = viewCenters\n\t// float scalingFactor = 1.0 / abs(centers.x)*0.001;\n\t// offset*=scalingFactor;\n\tvec3 cameraRight = normalize(vec3(viewMatrix[0][0], viewMatrix[1][0], viewMatrix[2][0]));\n\tvec3 cameraUp = normalize(vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]));\n\n\t// viewCenters.xy += offset*updatedSize*CameraRight_worldspace;\n\t\n\n\n\t// temp_pos.z = 0.0;\n\t// temp_pos.w = 1.0;\n\n\n\n\tvec4 viewCenters = viewMatrix*vec4(position.xyz,1.0);\n\tfloat scaling = -viewMatrix[3][2];\n\tvec4 temp_pos = viewCenters;\n\t\n\tvec2 normFactor = hyperbolicNormFactor(viewCenters.xy, scaling);\n\t// catersian\n\t// vec2 normFactor = sqrt(temp_pos.xy*temp_pos.xy+scaling*scaling);\n\ttemp_pos.xy = temp_pos.xy/normFactor;\n\n\tviewCenters.xy = temp_pos.xy/vec2(projectionMatrix[0][0],projectionMatrix[1][1]);\n\tviewCenters.xy+=BoxCorrection*fullSize*offset.xy/length(normFactor)*scaling;\n\t\n\n\tvNormal = vec3(0.0,0.0,1.0); //normalMatrix * normal;\n\tvEye = -vec3(offset,0.0);\n\tvEncodedIndex = encodedIndex;\n\tvColor = color;\n\tvColor.w = clamp(globalOpacityBase+globalOpacityScale*vColor.w,0.0,1.0);\n\tvOutlineColor.w = clamp(globalOpacityBase+globalOpacityScale*vOutlineColor.w,0.0,1.0);\n\tvOffset = vertex;\n\tvSize = updatedSize;\n\tvOutlineThreshold = updatedOutlineWidth/fullSize;\n\n\tvOutlineColor = outlineColor;\n\tvPosition = projectionMatrix * viewCenters;\n\n\tgl_Position = vPosition;\n}\n`;\n\n\n\n\n//\n// NODES FRAGMENT SHADER (SHADED)\n//\n\nlet fragmentShader = /*glsl*/`// #ifdef GL_ES\n// \tprecision highp float;\n// #endif\n\nprecision mediump float;\nvarying vec4 vColor;\nvarying vec4 vEncodedIndex;\nvarying vec3 vNormal;\nvarying vec3 vEye;\nvarying float vSize;\nvarying vec2 vOffset;\nvarying float vOutlineThreshold;\nvarying vec4 vOutlineColor;\nvarying vec4 vPosition;\n\n\n\nvoid main(){\n\t// const vec3 lightDirection = vec3(0.577350269,0.577350269,0.577350269);\n\t// const float ambientFactor = 0.6;\n\t\n\t// vec3 normal = normalize(vNormal);\n\t// vec3 eye = normalize(vEye);\n\t\n\t// //Ambient+Diffuse\n\t// float cosTheta = max(dot(lightDirection,normal),0.0);\n\t// vec3 newColor = vColor*(ambientFactor+cosTheta);\n\t\n\t// //Specular\n\t// vec3 reflection = reflect(-lightDirection, normal);\n\t// float eyeDotReflection = max(dot(eye, reflection), 0.0);\n\t// newColor +=  vec3(0.5)* pow(eyeDotReflection, 60.0);\n\t\n\t// gl_FragColor = vec4(newColor,vOpacity);\n\t// gl_FragColor = vec4(eye,Opacity);\n\t//gl_FragData[0] = vec4(newColor,Opacity);\n\n// Renaming variables passed from the Vertex Shader\n\n\t// vec3 cameraPos;\n\t// vec3 cameraNormal;\n\n\t// float lensqr = dot(vOffset, vOffset);\n\n\t// if(lensqr > 1.0)\n\t// \t\tdiscard;\n\t\t\n\t// cameraNormal = vec3(vOffset, sqrt(1.0 - lensqr));\n\t// cameraPos = (cameraNormal * size) + cameraSpherePos;\n\n\t// float len = length(point);\n\t// // VTK Fake Spheres\n\t// float radius = 1.;\n\t// if(len > radius)\n\t// \t\tdiscard;\n\t// vec3 normalizedPoint = normalize(vec3(point.xy, sqrt(1. - len)));\n\t// vec3 direction = normalize(vec3(1., 1., 1.));\n\t// float df2 = max(0, dot(direction, normalizedPoint));\n\t// float sf2 = pow(df2, 90);\n\t// fragOutput0 = vec4(max((df2+0.3) * color, sf2 * vec3(1)), 1);\n\n\t// fragOutput1 = vec4(vertexVC.xyz, 1.0);\n\t// fragOutput2 = vec4(normalVCVSOutput, 1.0);\n\t\n\tfloat lensqr = dot(vOffset, vOffset);\n\n\tif(lensqr > 1.0)\n\t\tdiscard;\n\t\n\n\tvec3 normalizedPoint = normalize(vec3(vOffset.xy, sqrt(1. - lensqr)));\n\tconst vec3 lightDirection = vec3(0.577350269,0.577350269,0.577350269);\n\tconst float ambientFactor = 0.6;\n\t\n\tvec3 normal = normalizedPoint;\n\tvec3 eye = normalize(vEye);\n\t\n\t//Ambient+Diffuse\n\tfloat cosTheta = max(dot(lightDirection,normal),0.0);\n\tvec3 newColor = vColor.xyz*(ambientFactor+cosTheta);\n\t\n\t//Specular\n\tvec3 reflection = reflect(-lightDirection, normal);\n\tfloat eyeDotReflection = max(dot(eye, reflection), 0.0);\n\tnewColor +=  vec3(0.5)* pow(eyeDotReflection, 60.0);\n\t\n\t\n\t\n\tif(lensqr < 1.0-vOutlineThreshold){\n\t\t// gl_FragColor = vec4(vColor,vOpacity)\n\t\tgl_FragColor = vec4(newColor,vColor.w);;\n\t}else{\n\t\tgl_FragColor = vec4(vOutlineColor.xyz,vOutlineColor.w);\n\t}\n\t// gl_FragDepthEXT = 0.5; \n}\n`;\n\n\n//\n// NODES PICKING SHADER\n//\n\nlet pickingShader = /*glsl*/`\n// #ifdef GL_ES\n// \tprecision highp float;\n// #endif\n\nprecision mediump float;\nvarying vec4 vColor;\nvarying vec4 vEncodedIndex;\nvarying vec3 vNormal;\nvarying vec3 vEye;\nvarying float vSize;\nvarying vec2 vOffset;\nvarying float vOutlineThreshold;\nvarying vec4 vOutlineColor;\n\nvoid main(){\n\tfloat lensqr = dot(vOffset, vOffset);\n\n\tif(lensqr > 1.0)\n\t\t\tdiscard;\n\t\n\tgl_FragColor = vEncodedIndex;\n}\n`;\n\n\n//\n// NODES FAST FRAGMENT SHADER\n//\n\n\nlet fastFragmentShader = /*glsl*/`\n// #ifdef GL_ES\n// \tprecision highp float;\n// #endif\n\nprecision mediump float;\nvarying vec4 vColor;\nvarying vec4 vEncodedIndex;\nvarying vec3 vNormal;\nvarying vec3 vEye;\nvarying float vSize;\nvarying vec2 vOffset;\nvarying float vOutlineThreshold;\nvarying vec4 vOutlineColor;\nvarying vec4 vPosition;\n\n\n\nvoid main(){\n\t\n\tfloat lensqr = dot(vOffset, vOffset);\n\n\tif(lensqr > 1.0)\n\t\t\tdiscard;\n\t\n\tif(lensqr < 1.0-vOutlineThreshold){\n\t\t// gl_FragColor = vec4(vColor,vOpacity)\n\t\tgl_FragColor = vColor;\n\t}else{\n\t\tgl_FragColor = vOutlineColor;\n\t}\n\t// gl_FragDepthEXT = 0.5; \n}\n`;\n\nlet fastVertexShader = vertexShader;\n\nexport {fragmentShader, vertexShader,\n\t\tpickingShader,fastFragmentShader,\n\t\tfastVertexShader, vertexHyperbolicShader};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LinkedList = exports.LinkedList = function () {\n    function LinkedList() {\n        _classCallCheck(this, LinkedList);\n\n        this.length = 0;\n        this.first = null;\n        this.last = null;\n    }\n\n    _createClass(LinkedList, [{\n        key: \"forEach\",\n        value: function forEach(fn, context) {\n            var node = this.first,\n                n = this.length;\n            for (var i = 0; i < n; i++) {\n                fn.call(context, node, i);\n                node = node.next;\n            }\n        }\n    }, {\n        key: \"at\",\n        value: function at(i) {\n            if (!(i >= 0 && i < this.length)) {\n                return null;\n            }\n            var node = this.first;\n            while (i--) {\n                node = node.next;\n            }\n            return node;\n        }\n    }, {\n        key: \"randomNode\",\n        value: function randomNode() {\n            var n = Math.floor(Math.random() * this.length);\n            return this.at(n);\n        }\n    }, {\n        key: \"toArray\",\n        value: function toArray() {\n            var arr = [],\n                node = this.first,\n                n = this.length;\n            while (n--) {\n                arr.push(node.data || node);\n                node = node.next;\n            }\n            return arr;\n        }\n    }]);\n\n    return LinkedList;\n}();\n\nLinkedList.prototype.each = LinkedList.prototype.forEach;\n//# sourceMappingURL=LinkedList.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.CircularLinkedList = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _LinkedList2 = require(\"./LinkedList\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CircularLinkedList = exports.CircularLinkedList = function (_LinkedList) {\n    _inherits(CircularLinkedList, _LinkedList);\n\n    function CircularLinkedList() {\n        _classCallCheck(this, CircularLinkedList);\n\n        return _possibleConstructorReturn(this, Object.getPrototypeOf(CircularLinkedList).apply(this, arguments));\n    }\n\n    _createClass(CircularLinkedList, [{\n        key: \"append\",\n        value: function append(node) {\n            if (this.first === null) {\n                node.prev = node;\n                node.next = node;\n                this.first = node;\n                this.last = node;\n            } else {\n                node.prev = this.last;\n                node.next = this.first;\n                this.first.prev = node;\n                this.last.next = node;\n                this.last = node;\n            }\n            this.length++;\n        }\n    }, {\n        key: \"prepend\",\n        value: function prepend(node) {\n            if (this.first === null) {\n                this.append(node);\n                return;\n            } else {\n                node.prev = this.last;\n                node.next = this.first;\n                this.first.prev = node;\n                this.last.next = node;\n                this.first = node;\n            }\n            this.length++;\n        }\n    }, {\n        key: \"insertAfter\",\n        value: function insertAfter(node, newNode) {\n            newNode.prev = node;\n            newNode.next = node.next;\n            node.next.prev = newNode;\n            node.next = newNode;\n            if (newNode.prev === this.last) {\n                this.last = newNode;\n            }\n            this.length++;\n        }\n    }, {\n        key: \"insertBefore\",\n        value: function insertBefore(node, newNode) {\n            newNode.prev = node.prev;\n            newNode.next = node;\n            node.prev.next = newNode;\n            node.prev = newNode;\n            if (newNode.next === this.first) {\n                this.first = newNode;\n            }\n            this.length++;\n        }\n    }, {\n        key: \"remove\",\n        value: function remove(node) {\n            if (this.length > 1) {\n                node.prev.next = node.next;\n                node.next.prev = node.prev;\n                if (node === this.first) {\n                    this.first = node.next;\n                }\n                if (node === this.last) {\n                    this.last = node.prev;\n                }\n            } else {\n                this.first = null;\n                this.last = null;\n            }\n            node.prev = null;\n            node.next = null;\n            this.length--;\n        }\n    }, {\n        key: \"withData\",\n        value: function withData(data) {\n            var nodeFromStart = this.first,\n                nodeFromEnd = this.last,\n                n = Math.ceil(this.length / 2);\n            while (n--) {\n                if (nodeFromStart.data === data) {\n                    return nodeFromStart;\n                }\n                if (nodeFromEnd.data === data) {\n                    return nodeFromEnd;\n                }\n                nodeFromStart = nodeFromStart.next;\n                nodeFromEnd = nodeFromEnd.prev;\n            }\n            return null;\n        }\n    }]);\n\n    return CircularLinkedList;\n}(_LinkedList2.LinkedList);\n\n;\n\nCircularLinkedList.fromArray = function (list, useNodes) {\n    var linked = new CircularLinkedList();\n    var n = list.length;\n    while (n--) {\n        linked.prepend(useNodes ? new _LinkedList2.LinkedList.Node(list[n]) : list[n]);\n    }\n    return linked;\n};\n//# sourceMappingURL=CircularLinkedList.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar PRECISION = exports.PRECISION = 1e-6;\n//# sourceMappingURL=PRECISION.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Matrix = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _PRECISION = require(\"./PRECISION\");\n\nvar _Vector = require(\"./Vector\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Matrix = exports.Matrix = function () {\n    function Matrix(elements) {\n        _classCallCheck(this, Matrix);\n\n        this.setElements(elements);\n    }\n\n    _createClass(Matrix, [{\n        key: \"e\",\n        value: function e(i, j) {\n            if (i < 1 || i > this.elements.length || j < 1 || j > this.elements[0].length) {\n                return null;\n            }\n            return this.elements[i - 1][j - 1];\n        }\n    }, {\n        key: \"row\",\n        value: function row(i) {\n            if (i > this.elements.length) {\n                return null;\n            }\n            return new _Vector.Vector(this.elements[i - 1]);\n        }\n    }, {\n        key: \"col\",\n        value: function col(j) {\n            if (this.elements.length === 0) {\n                return null;\n            }\n            if (j > this.elements[0].length) {\n                return null;\n            }\n            var col = [],\n                n = this.elements.length;\n            for (var i = 0; i < n; i++) {\n                col.push(this.elements[i][j - 1]);\n            }\n            return new _Vector.Vector(col);\n        }\n    }, {\n        key: \"dimensions\",\n        value: function dimensions() {\n            var cols = this.elements.length === 0 ? 0 : this.elements[0].length;\n            return { rows: this.elements.length, cols: cols };\n        }\n    }, {\n        key: \"rows\",\n        value: function rows() {\n            return this.elements.length;\n        }\n    }, {\n        key: \"cols\",\n        value: function cols() {\n            if (this.elements.length === 0) {\n                return 0;\n            }\n            return this.elements[0].length;\n        }\n    }, {\n        key: \"eql\",\n        value: function eql(matrix) {\n            var M = matrix.elements || matrix;\n            if (!M[0] || typeof M[0][0] === 'undefined') {\n                M = new Matrix(M).elements;\n            }\n            if (this.elements.length === 0 || M.length === 0) {\n                return this.elements.length === M.length;\n            }\n            if (this.elements.length !== M.length) {\n                return false;\n            }\n            if (this.elements[0].length !== M[0].length) {\n                return false;\n            }\n            var i = this.elements.length,\n                nj = this.elements[0].length,\n                j;\n            while (i--) {\n                j = nj;\n                while (j--) {\n                    if (Math.abs(this.elements[i][j] - M[i][j]) > _PRECISION.PRECISION) {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        }\n    }, {\n        key: \"dup\",\n        value: function dup() {\n            return new Matrix(this.elements);\n        }\n    }, {\n        key: \"map\",\n        value: function map(fn, context) {\n            if (this.elements.length === 0) {\n                return new Matrix([]);\n            }\n            var els = [],\n                i = this.elements.length,\n                nj = this.elements[0].length,\n                j;\n            while (i--) {\n                j = nj;\n                els[i] = [];\n                while (j--) {\n                    els[i][j] = fn.call(context, this.elements[i][j], i + 1, j + 1);\n                }\n            }\n            return new Matrix(els);\n        }\n    }, {\n        key: \"isSameSizeAs\",\n        value: function isSameSizeAs(matrix) {\n            var M = matrix.elements || matrix;\n            if (typeof M[0][0] === 'undefined') {\n                M = new Matrix(M).elements;\n            }\n            if (this.elements.length === 0) {\n                return M.length === 0;\n            }\n            return this.elements.length === M.length && this.elements[0].length === M[0].length;\n        }\n    }, {\n        key: \"add\",\n        value: function add(matrix) {\n            if (this.elements.length === 0) {\n                return this.map(function (x) {\n                    return x;\n                });\n            }\n            var M = matrix.elements || matrix;\n            if (typeof M[0][0] === 'undefined') {\n                M = new Matrix(M).elements;\n            }\n            if (!this.isSameSizeAs(M)) {\n                return null;\n            }\n            return this.map(function (x, i, j) {\n                return x + M[i - 1][j - 1];\n            });\n        }\n    }, {\n        key: \"subtract\",\n        value: function subtract(matrix) {\n            if (this.elements.length === 0) {\n                return this.map(function (x) {\n                    return x;\n                });\n            }\n            var M = matrix.elements || matrix;\n            if (typeof M[0][0] === 'undefined') {\n                M = new Matrix(M).elements;\n            }\n            if (!this.isSameSizeAs(M)) {\n                return null;\n            }\n            return this.map(function (x, i, j) {\n                return x - M[i - 1][j - 1];\n            });\n        }\n    }, {\n        key: \"canMultiplyFromLeft\",\n        value: function canMultiplyFromLeft(matrix) {\n            if (this.elements.length === 0) {\n                return false;\n            }\n            var M = matrix.elements || matrix;\n            if (typeof M[0][0] === 'undefined') {\n                M = new Matrix(M).elements;\n            }\n            // this.columns should equal matrix.rows\n            return this.elements[0].length === M.length;\n        }\n    }, {\n        key: \"multiply\",\n        value: function multiply(matrix) {\n            if (this.elements.length === 0) {\n                return null;\n            }\n            if (!matrix.elements) {\n                return this.map(function (x) {\n                    return x * matrix;\n                });\n            }\n            var returnVector = matrix.modulus ? true : false;\n            var M = matrix.elements || matrix;\n            if (typeof M[0][0] === 'undefined') {\n                M = new Matrix(M).elements;\n            }\n            if (!this.canMultiplyFromLeft(M)) {\n                return null;\n            }\n            var i = this.elements.length,\n                nj = M[0].length,\n                j;\n            var cols = this.elements[0].length,\n                c,\n                elements = [],\n                sum;\n            while (i--) {\n                j = nj;\n                elements[i] = [];\n                while (j--) {\n                    c = cols;\n                    sum = 0;\n                    while (c--) {\n                        sum += this.elements[i][c] * M[c][j];\n                    }\n                    elements[i][j] = sum;\n                }\n            }\n            var M = new Matrix(elements);\n            return returnVector ? M.col(1) : M;\n        }\n    }, {\n        key: \"minor\",\n        value: function minor(a, b, c, d) {\n            if (this.elements.length === 0) {\n                return null;\n            }\n            var elements = [],\n                ni = c,\n                i,\n                nj,\n                j;\n            var rows = this.elements.length,\n                cols = this.elements[0].length;\n            while (ni--) {\n                i = c - ni - 1;\n                elements[i] = [];\n                nj = d;\n                while (nj--) {\n                    j = d - nj - 1;\n                    elements[i][j] = this.elements[(a + i - 1) % rows][(b + j - 1) % cols];\n                }\n            }\n            return new Matrix(elements);\n        }\n    }, {\n        key: \"transpose\",\n        value: function transpose() {\n            if (this.elements.length === 0) {\n                return new Matrix([]);\n            }\n            var rows = this.elements.length,\n                i,\n                cols = this.elements[0].length,\n                j;\n            var elements = [],\n                i = cols;\n            while (i--) {\n                j = rows;\n                elements[i] = [];\n                while (j--) {\n                    elements[i][j] = this.elements[j][i];\n                }\n            }\n            return new Matrix(elements);\n        }\n    }, {\n        key: \"isSquare\",\n        value: function isSquare() {\n            var cols = this.elements.length === 0 ? 0 : this.elements[0].length;\n            return this.elements.length === cols;\n        }\n    }, {\n        key: \"max\",\n        value: function max() {\n            if (this.elements.length === 0) {\n                return null;\n            }\n            var m = 0,\n                i = this.elements.length,\n                nj = this.elements[0].length,\n                j;\n            while (i--) {\n                j = nj;\n                while (j--) {\n                    if (Math.abs(this.elements[i][j]) > Math.abs(m)) {\n                        m = this.elements[i][j];\n                    }\n                }\n            }\n            return m;\n        }\n    }, {\n        key: \"indexOf\",\n        value: function indexOf(x) {\n            if (this.elements.length === 0) {\n                return null;\n            }\n            var index = null,\n                ni = this.elements.length,\n                i,\n                nj = this.elements[0].length,\n                j;\n            for (i = 0; i < ni; i++) {\n                for (j = 0; j < nj; j++) {\n                    if (this.elements[i][j] === x) {\n                        return {\n                            i: i + 1,\n                            j: j + 1\n                        };\n                    }\n                }\n            }\n            return null;\n        }\n    }, {\n        key: \"diagonal\",\n        value: function diagonal() {\n            if (!this.isSquare) {\n                return null;\n            }\n            var els = [],\n                n = this.elements.length;\n            for (var i = 0; i < n; i++) {\n                els.push(this.elements[i][i]);\n            }\n            return new _Vector.Vector(els);\n        }\n    }, {\n        key: \"toRightTriangular\",\n        value: function toRightTriangular() {\n            if (this.elements.length === 0) {\n                return new Matrix([]);\n            }\n            var M = this.dup(),\n                els;\n            var n = this.elements.length,\n                i,\n                j,\n                np = this.elements[0].length,\n                p;\n            for (i = 0; i < n; i++) {\n                if (M.elements[i][i] === 0) {\n                    for (j = i + 1; j < n; j++) {\n                        if (M.elements[j][i] !== 0) {\n                            els = [];\n                            for (p = 0; p < np; p++) {\n                                els.push(M.elements[i][p] + M.elements[j][p]);\n                            }\n                            M.elements[i] = els;\n                            break;\n                        }\n                    }\n                }\n                if (M.elements[i][i] !== 0) {\n                    for (j = i + 1; j < n; j++) {\n                        var multiplier = M.elements[j][i] / M.elements[i][i];\n                        els = [];\n                        for (p = 0; p < np; p++) {\n                            // Elements with column numbers up to an including the number of the\n                            // row that we're subtracting can safely be set straight to zero,\n                            // since that's the point of this routine and it avoids having to\n                            // loop over and correct rounding errors later\n                            els.push(p <= i ? 0 : M.elements[j][p] - M.elements[i][p] * multiplier);\n                        }\n                        M.elements[j] = els;\n                    }\n                }\n            }\n            return M;\n        }\n    }, {\n        key: \"determinant\",\n        value: function determinant() {\n            if (this.elements.length === 0) {\n                return 1;\n            }\n            if (!this.isSquare()) {\n                return null;\n            }\n            var M = this.toRightTriangular();\n            var det = M.elements[0][0],\n                n = M.elements.length;\n            for (var i = 1; i < n; i++) {\n                det = det * M.elements[i][i];\n            }\n            return det;\n        }\n    }, {\n        key: \"isSingular\",\n        value: function isSingular() {\n            return this.isSquare() && this.determinant() === 0;\n        }\n    }, {\n        key: \"trace\",\n        value: function trace() {\n            if (this.elements.length === 0) {\n                return 0;\n            }\n            if (!this.isSquare()) {\n                return null;\n            }\n            var tr = this.elements[0][0],\n                n = this.elements.length;\n            for (var i = 1; i < n; i++) {\n                tr += this.elements[i][i];\n            }\n            return tr;\n        }\n    }, {\n        key: \"rank\",\n        value: function rank() {\n            if (this.elements.length === 0) {\n                return 0;\n            }\n            var M = this.toRightTriangular(),\n                rank = 0;\n            var i = this.elements.length,\n                nj = this.elements[0].length,\n                j;\n            while (i--) {\n                j = nj;\n                while (j--) {\n                    if (Math.abs(M.elements[i][j]) > _PRECISION.PRECISION) {\n                        rank++;\n                        break;\n                    }\n                }\n            }\n            return rank;\n        }\n    }, {\n        key: \"augment\",\n        value: function augment(matrix) {\n            if (this.elements.length === 0) {\n                return this.dup();\n            }\n            var M = matrix.elements || matrix;\n            if (typeof M[0][0] === 'undefined') {\n                M = new Matrix(M).elements;\n            }\n            var T = this.dup(),\n                cols = T.elements[0].length;\n            var i = T.elements.length,\n                nj = M[0].length,\n                j;\n            if (i !== M.length) {\n                return null;\n            }\n            while (i--) {\n                j = nj;\n                while (j--) {\n                    T.elements[i][cols + j] = M[i][j];\n                }\n            }\n            return T;\n        }\n    }, {\n        key: \"inverse\",\n        value: function inverse() {\n            if (this.elements.length === 0) {\n                return null;\n            }\n            if (!this.isSquare() || this.isSingular()) {\n                return null;\n            }\n            var n = this.elements.length,\n                i = n,\n                j;\n            var M = this.augment(Matrix.I(n)).toRightTriangular();\n            var np = M.elements[0].length,\n                p,\n                els,\n                divisor;\n            var inverse_elements = [],\n                new_element;\n            // Matrix is non-singular so there will be no zeros on the\n            // diagonal. Cycle through rows from last to first.\n            while (i--) {\n                // First, normalise diagonal elements to 1\n                els = [];\n                inverse_elements[i] = [];\n                divisor = M.elements[i][i];\n                for (p = 0; p < np; p++) {\n                    new_element = M.elements[i][p] / divisor;\n                    els.push(new_element);\n                    // Shuffle off the current row of the right hand side into the results\n                    // array as it will not be modified by later runs through this loop\n                    if (p >= n) {\n                        inverse_elements[i].push(new_element);\n                    }\n                }\n                M.elements[i] = els;\n                // Then, subtract this row from those above it to give the identity matrix\n                // on the left hand side\n                j = i;\n                while (j--) {\n                    els = [];\n                    for (p = 0; p < np; p++) {\n                        els.push(M.elements[j][p] - M.elements[i][p] * M.elements[j][i]);\n                    }\n                    M.elements[j] = els;\n                }\n            }\n            return new Matrix(inverse_elements);\n        }\n    }, {\n        key: \"round\",\n        value: function round() {\n            return this.map(function (x) {\n                return Math.round(x);\n            });\n        }\n    }, {\n        key: \"snapTo\",\n        value: function snapTo(x) {\n            return this.map(function (p) {\n                return Math.abs(p - x) <= _PRECISION.PRECISION ? x : p;\n            });\n        }\n    }, {\n        key: \"inspect\",\n        value: function inspect() {\n            var matrix_rows = [];\n            var n = this.elements.length;\n            if (n === 0) return '[]';\n            for (var i = 0; i < n; i++) {\n                matrix_rows.push(new _Vector.Vector(this.elements[i]).inspect());\n            }\n            return matrix_rows.join('\\n');\n        }\n    }, {\n        key: \"setElements\",\n        value: function setElements(els) {\n            var i,\n                j,\n                elements = els.elements || els;\n            if (elements[0] && typeof elements[0][0] !== 'undefined') {\n                i = elements.length;\n                this.elements = [];\n                while (i--) {\n                    j = elements[i].length;\n                    this.elements[i] = [];\n                    while (j--) {\n                        this.elements[i][j] = elements[i][j];\n                    }\n                }\n                return this;\n            }\n            var n = elements.length;\n            this.elements = [];\n            for (i = 0; i < n; i++) {\n                this.elements.push([elements[i]]);\n            }\n            return this;\n        }\n\n        //From glUtils.js\n\n    }, {\n        key: \"flatten\",\n        value: function flatten() {\n            var result = [];\n            if (this.elements.length == 0) {\n                return [];\n            }\n\n            for (var j = 0; j < this.elements[0].length; j++) {\n                for (var i = 0; i < this.elements.length; i++) {\n                    result.push(this.elements[i][j]);\n                }\n            }\n            return result;\n        }\n\n        //From glUtils.js\n\n    }, {\n        key: \"ensure4x4\",\n        value: function ensure4x4() {\n            if (this.elements.length == 4 && this.elements[0].length == 4) {\n                return this;\n            }\n\n            if (this.elements.length > 4 || this.elements[0].length > 4) {\n                return null;\n            }\n\n            for (var i = 0; i < this.elements.length; i++) {\n                for (var j = this.elements[i].length; j < 4; j++) {\n                    if (i == j) {\n                        this.elements[i].push(1);\n                    } else {\n                        this.elements[i].push(0);\n                    }\n                }\n            }\n\n            for (var i = this.elements.length; i < 4; i++) {\n                if (i == 0) {\n                    this.elements.push([1, 0, 0, 0]);\n                } else if (i == 1) {\n                    this.elements.push([0, 1, 0, 0]);\n                } else if (i == 2) {\n                    this.elements.push([0, 0, 1, 0]);\n                } else if (i == 3) {\n                    this.elements.push([0, 0, 0, 1]);\n                }\n            }\n\n            return this;\n        }\n\n        //From glUtils.js\n\n    }, {\n        key: \"make3x3\",\n        value: function make3x3() {\n            if (this.elements.length != 4 || this.elements[0].length != 4) {\n                return null;\n            }\n\n            return new Matrix([[this.elements[0][0], this.elements[0][1], this.elements[0][2]], [this.elements[1][0], this.elements[1][1], this.elements[1][2]], [this.elements[2][0], this.elements[2][1], this.elements[2][2]]]);\n        }\n    }]);\n\n    return Matrix;\n}();\n\nMatrix.I = function (n) {\n    var els = [],\n        i = n,\n        j;\n    while (i--) {\n        j = n;\n        els[i] = [];\n        while (j--) {\n            els[i][j] = i === j ? 1 : 0;\n        }\n    }\n    return new Matrix(els);\n};\n\nMatrix.Diagonal = function (elements) {\n    var i = elements.length;\n    var M = Matrix.I(i);\n    while (i--) {\n        M.elements[i][i] = elements[i];\n    }\n    return M;\n};\n\nMatrix.Rotation = function (theta, a) {\n    if (!a) {\n        return new Matrix([[Math.cos(theta), -Math.sin(theta)], [Math.sin(theta), Math.cos(theta)]]);\n    }\n    var axis = a.dup();\n    if (axis.elements.length !== 3) {\n        return null;\n    }\n    var mod = axis.modulus();\n    var x = axis.elements[0] / mod,\n        y = axis.elements[1] / mod,\n        z = axis.elements[2] / mod;\n    var s = Math.sin(theta),\n        c = Math.cos(theta),\n        t = 1 - c;\n    // Formula derived here: http://www.gamedev.net/reference/articles/article1199.asp\n    // That proof rotates the co-ordinate system so theta becomes -theta and sin\n    // becomes -sin here.\n    return new Matrix([[t * x * x + c, t * x * y - s * z, t * x * z + s * y], [t * x * y + s * z, t * y * y + c, t * y * z - s * x], [t * x * z - s * y, t * y * z + s * x, t * z * z + c]]);\n};\n\nMatrix.RotationX = function (t) {\n    var c = Math.cos(t),\n        s = Math.sin(t);\n    return new Matrix([[1, 0, 0], [0, c, -s], [0, s, c]]);\n};\nMatrix.RotationY = function (t) {\n    var c = Math.cos(t),\n        s = Math.sin(t);\n    return new Matrix([[c, 0, s], [0, 1, 0], [-s, 0, c]]);\n};\nMatrix.RotationZ = function (t) {\n    var c = Math.cos(t),\n        s = Math.sin(t);\n    return new Matrix([[c, -s, 0], [s, c, 0], [0, 0, 1]]);\n};\n\nMatrix.Random = function (n, m) {\n    return Matrix.Zero(n, m).map(function () {\n        return Math.random();\n    });\n};\n\n//From glUtils.js\nMatrix.Translation = function (v) {\n    if (v.elements.length == 2) {\n        var r = Matrix.I(3);\n        r.elements[2][0] = v.elements[0];\n        r.elements[2][1] = v.elements[1];\n        return r;\n    }\n\n    if (v.elements.length == 3) {\n        var r = Matrix.I(4);\n        r.elements[0][3] = v.elements[0];\n        r.elements[1][3] = v.elements[1];\n        r.elements[2][3] = v.elements[2];\n        return r;\n    }\n\n    throw \"Invalid length for Translation\";\n};\n\nMatrix.Zero = function (n, m) {\n    var els = [],\n        i = n,\n        j;\n    while (i--) {\n        j = m;\n        els[i] = [];\n        while (j--) {\n            els[i][j] = 0;\n        }\n    }\n    return new Matrix(els);\n};\n\nMatrix.prototype.toUpperTriangular = Matrix.prototype.toRightTriangular;\nMatrix.prototype.det = Matrix.prototype.determinant;\nMatrix.prototype.tr = Matrix.prototype.trace;\nMatrix.prototype.rk = Matrix.prototype.rank;\nMatrix.prototype.inv = Matrix.prototype.inverse;\nMatrix.prototype.x = Matrix.prototype.multiply;\n//# sourceMappingURL=Matrix.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Vector = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Matrix = require(\"./Matrix\");\n\nvar _PRECISION = require(\"./PRECISION\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Vector = exports.Vector = function () {\n    function Vector(elements) {\n        _classCallCheck(this, Vector);\n\n        this.setElements(elements);\n    }\n\n    _createClass(Vector, [{\n        key: \"e\",\n        value: function e(i) {\n            return i < 1 || i > this.elements.length ? null : this.elements[i - 1];\n        }\n    }, {\n        key: \"dimensions\",\n        value: function dimensions() {\n            return this.elements.length;\n        }\n    }, {\n        key: \"modulus\",\n        value: function modulus() {\n            return Math.sqrt(this.dot(this));\n        }\n    }, {\n        key: \"eql\",\n        value: function eql(vector) {\n            var n = this.elements.length;\n            var V = vector.elements || vector;\n            if (n !== V.length) {\n                return false;\n            }\n            while (n--) {\n                if (Math.abs(this.elements[n] - V[n]) > _PRECISION.PRECISION) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }, {\n        key: \"dup\",\n        value: function dup() {\n            return new Vector(this.elements);\n        }\n    }, {\n        key: \"map\",\n        value: function map(fn, context) {\n            var elements = [];\n            this.each(function (x, i) {\n                elements.push(fn.call(context, x, i));\n            });\n            return new Vector(elements);\n        }\n    }, {\n        key: \"forEach\",\n        value: function forEach(fn, context) {\n            var n = this.elements.length;\n            for (var i = 0; i < n; i++) {\n                fn.call(context, this.elements[i], i + 1);\n            }\n        }\n    }, {\n        key: \"toUnitVector\",\n        value: function toUnitVector() {\n            var r = this.modulus();\n            if (r === 0) {\n                return this.dup();\n            }\n            return this.map(function (x) {\n                return x / r;\n            });\n        }\n    }, {\n        key: \"angleFrom\",\n        value: function angleFrom(vector) {\n            var V = vector.elements || vector;\n            var n = this.elements.length,\n                k = n,\n                i;\n            if (n !== V.length) {\n                return null;\n            }\n            var dot = 0,\n                mod1 = 0,\n                mod2 = 0;\n            // Work things out in parallel to save time\n            this.each(function (x, i) {\n                dot += x * V[i - 1];\n                mod1 += x * x;\n                mod2 += V[i - 1] * V[i - 1];\n            });\n            mod1 = Math.sqrt(mod1);mod2 = Math.sqrt(mod2);\n            if (mod1 * mod2 === 0) {\n                return null;\n            }\n            var theta = dot / (mod1 * mod2);\n            if (theta < -1) {\n                theta = -1;\n            }\n            if (theta > 1) {\n                theta = 1;\n            }\n            return Math.acos(theta);\n        }\n    }, {\n        key: \"isParallelTo\",\n        value: function isParallelTo(vector) {\n            var angle = this.angleFrom(vector);\n            return angle === null ? null : angle <= _PRECISION.PRECISION;\n        }\n    }, {\n        key: \"isAntiparallelTo\",\n        value: function isAntiparallelTo(vector) {\n            var angle = this.angleFrom(vector);\n            return angle === null ? null : Math.abs(angle - Math.PI) <= _PRECISION.PRECISION;\n        }\n    }, {\n        key: \"isPerpendicularTo\",\n        value: function isPerpendicularTo(vector) {\n            var dot = this.dot(vector);\n            return dot === null ? null : Math.abs(dot) <= _PRECISION.PRECISION;\n        }\n    }, {\n        key: \"add\",\n        value: function add(vector) {\n            var V = vector.elements || vector;\n            if (this.elements.length !== V.length) {\n                return null;\n            }\n            return this.map(function (x, i) {\n                return x + V[i - 1];\n            });\n        }\n    }, {\n        key: \"subtract\",\n        value: function subtract(vector) {\n            var V = vector.elements || vector;\n            if (this.elements.length !== V.length) {\n                return null;\n            }\n            return this.map(function (x, i) {\n                return x - V[i - 1];\n            });\n        }\n    }, {\n        key: \"multiply\",\n        value: function multiply(k) {\n            return this.map(function (x) {\n                return x * k;\n            });\n        }\n    }, {\n        key: \"dot\",\n        value: function dot(vector) {\n            var V = vector.elements || vector;\n            var i,\n                product = 0,\n                n = this.elements.length;\n            if (n !== V.length) {\n                return null;\n            }\n            while (n--) {\n                product += this.elements[n] * V[n];\n            }\n            return product;\n        }\n    }, {\n        key: \"cross\",\n        value: function cross(vector) {\n            var B = vector.elements || vector;\n            if (this.elements.length !== 3 || B.length !== 3) {\n                return null;\n            }\n            var A = this.elements;\n            return new Vector([A[1] * B[2] - A[2] * B[1], A[2] * B[0] - A[0] * B[2], A[0] * B[1] - A[1] * B[0]]);\n        }\n    }, {\n        key: \"max\",\n        value: function max() {\n            var m = 0,\n                i = this.elements.length;\n            while (i--) {\n                if (Math.abs(this.elements[i]) > Math.abs(m)) {\n                    m = this.elements[i];\n                }\n            }\n            return m;\n        }\n    }, {\n        key: \"indexOf\",\n        value: function indexOf(x) {\n            var index = null,\n                n = this.elements.length;\n            for (var i = 0; i < n; i++) {\n                if (index === null && this.elements[i] === x) {\n                    index = i + 1;\n                }\n            }\n            return index;\n        }\n    }, {\n        key: \"toDiagonalMatrix\",\n        value: function toDiagonalMatrix() {\n            return _Matrix.Matrix.Diagonal(this.elements);\n        }\n    }, {\n        key: \"round\",\n        value: function round() {\n            return this.map(function (x) {\n                return Math.round(x);\n            });\n        }\n    }, {\n        key: \"snapTo\",\n        value: function snapTo(x) {\n            return this.map(function (y) {\n                return Math.abs(y - x) <= _PRECISION.PRECISION ? x : y;\n            });\n        }\n    }, {\n        key: \"distanceFrom\",\n        value: function distanceFrom(obj) {\n            if (obj.anchor || obj.start && obj.end) {\n                return obj.distanceFrom(this);\n            }\n            var V = obj.elements || obj;\n            if (V.length !== this.elements.length) {\n                return null;\n            }\n            var sum = 0,\n                part;\n            this.each(function (x, i) {\n                part = x - V[i - 1];\n                sum += part * part;\n            });\n            return Math.sqrt(sum);\n        }\n    }, {\n        key: \"liesOn\",\n        value: function liesOn(line) {\n            return line.contains(this);\n        }\n    }, {\n        key: \"liesIn\",\n        value: function liesIn(plane) {\n            return plane.contains(this);\n        }\n    }, {\n        key: \"rotate\",\n        value: function rotate(t, obj) {\n            var V,\n                R = null,\n                x,\n                y,\n                z;\n            if (t.determinant) {\n                R = t.elements;\n            }\n            switch (this.elements.length) {\n                case 2:\n                    {\n                        V = obj.elements || obj;\n                        if (V.length !== 2) {\n                            return null;\n                        }\n                        if (!R) {\n                            R = _Matrix.Matrix.Rotation(t).elements;\n                        }\n                        x = this.elements[0] - V[0];\n                        y = this.elements[1] - V[1];\n                        return new Vector([V[0] + R[0][0] * x + R[0][1] * y, V[1] + R[1][0] * x + R[1][1] * y]);\n                        break;\n                    }\n                case 3:\n                    {\n                        if (!obj.direction) {\n                            return null;\n                        }\n                        var C = obj.pointClosestTo(this).elements;\n                        if (!R) {\n                            R = _Matrix.Matrix.Rotation(t, obj.direction).elements;\n                        }\n                        x = this.elements[0] - C[0];\n                        y = this.elements[1] - C[1];\n                        z = this.elements[2] - C[2];\n                        return new Vector([C[0] + R[0][0] * x + R[0][1] * y + R[0][2] * z, C[1] + R[1][0] * x + R[1][1] * y + R[1][2] * z, C[2] + R[2][0] * x + R[2][1] * y + R[2][2] * z]);\n                        break;\n                    }\n                default:\n                    {\n                        return null;\n                    }\n            }\n        }\n    }, {\n        key: \"reflectionIn\",\n        value: function reflectionIn(obj) {\n            if (obj.anchor) {\n                // obj is a plane or line\n                var P = this.elements.slice();\n                var C = obj.pointClosestTo(P).elements;\n                return new Vector([C[0] + (C[0] - P[0]), C[1] + (C[1] - P[1]), C[2] + (C[2] - (P[2] || 0))]);\n            } else {\n                // obj is a point\n                var Q = obj.elements || obj;\n                if (this.elements.length !== Q.length) {\n                    return null;\n                }\n                return this.map(function (x, i) {\n                    return Q[i - 1] + (Q[i - 1] - x);\n                });\n            }\n        }\n    }, {\n        key: \"to3D\",\n        value: function to3D() {\n            var V = this.dup();\n            switch (V.elements.length) {\n                case 3:\n                    {\n                        break;\n                    }\n                case 2:\n                    {\n                        V.elements.push(0);\n                        break;\n                    }\n                default:\n                    {\n                        return null;\n                    }\n            }\n            return V;\n        }\n    }, {\n        key: \"inspect\",\n        value: function inspect() {\n            return '[' + this.elements.join(', ') + ']';\n        }\n    }, {\n        key: \"setElements\",\n        value: function setElements(els) {\n            this.elements = (els.elements || els).slice();\n            return this;\n        }\n\n        //From glUtils.js\n\n    }, {\n        key: \"flatten\",\n        value: function flatten() {\n            return this.elements;\n        }\n    }]);\n\n    return Vector;\n}();\n\nVector.Random = function (n) {\n    var elements = [];\n    while (n--) {\n        elements.push(Math.random());\n    }\n    return new Vector(elements);\n};\n\nVector.Zero = function (n) {\n    var elements = [];\n    while (n--) {\n        elements.push(0);\n    }\n    return new Vector(elements);\n};\n\nVector.prototype.x = Vector.prototype.multiply;\nVector.prototype.each = Vector.prototype.forEach;\n\nVector.i = new Vector([1, 0, 0]);\nVector.j = new Vector([0, 1, 0]);\nVector.k = new Vector([0, 0, 1]);\n//# sourceMappingURL=Vector.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Plane = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _PRECISION = require(\"./PRECISION\");\n\nvar _Matrix = require(\"./Matrix\");\n\nvar _Vector = require(\"./Vector\");\n\nvar _Line = require(\"./Line\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Plane = exports.Plane = function () {\n    function Plane(anchor, v1, v2) {\n        _classCallCheck(this, Plane);\n\n        this.setVectors(anchor, v1, v2);\n    }\n\n    _createClass(Plane, [{\n        key: \"eql\",\n        value: function eql(plane) {\n            return this.contains(plane.anchor) && this.isParallelTo(plane);\n        }\n    }, {\n        key: \"dup\",\n        value: function dup() {\n            return new Plane(this.anchor, this.normal);\n        }\n    }, {\n        key: \"translate\",\n        value: function translate(vector) {\n            var V = vector.elements || vector;\n            return new Plane([this.anchor.elements[0] + V[0], this.anchor.elements[1] + V[1], this.anchor.elements[2] + (V[2] || 0)], this.normal);\n        }\n    }, {\n        key: \"isParallelTo\",\n        value: function isParallelTo(obj) {\n            var theta;\n            if (obj.normal) {\n                // obj is a plane\n                theta = this.normal.angleFrom(obj.normal);\n                return Math.abs(theta) <= _PRECISION.PRECISION || Math.abs(Math.PI - theta) <= _PRECISION.PRECISION;\n            } else if (obj.direction) {\n                // obj is a line\n                return this.normal.isPerpendicularTo(obj.direction);\n            }\n            return null;\n        }\n    }, {\n        key: \"isPerpendicularTo\",\n        value: function isPerpendicularTo(plane) {\n            var theta = this.normal.angleFrom(plane.normal);\n            return Math.abs(Math.PI / 2 - theta) <= _PRECISION.PRECISION;\n        }\n    }, {\n        key: \"distanceFrom\",\n        value: function distanceFrom(obj) {\n            if (this.intersects(obj) || this.contains(obj)) {\n                return 0;\n            }\n            if (obj.anchor) {\n                // obj is a plane or line\n                var A = this.anchor.elements,\n                    B = obj.anchor.elements,\n                    N = this.normal.elements;\n                return Math.abs((A[0] - B[0]) * N[0] + (A[1] - B[1]) * N[1] + (A[2] - B[2]) * N[2]);\n            } else {\n                // obj is a point\n                var P = obj.elements || obj;\n                var A = this.anchor.elements,\n                    N = this.normal.elements;\n                return Math.abs((A[0] - P[0]) * N[0] + (A[1] - P[1]) * N[1] + (A[2] - (P[2] || 0)) * N[2]);\n            }\n        }\n    }, {\n        key: \"contains\",\n        value: function contains(obj) {\n            if (obj.normal) {\n                return null;\n            }\n            if (obj.direction) {\n                return this.contains(obj.anchor) && this.contains(obj.anchor.add(obj.direction));\n            } else {\n                var P = obj.elements || obj;\n                var A = this.anchor.elements,\n                    N = this.normal.elements;\n                var diff = Math.abs(N[0] * (A[0] - P[0]) + N[1] * (A[1] - P[1]) + N[2] * (A[2] - (P[2] || 0)));\n                return diff <= _PRECISION.PRECISION;\n            }\n        }\n    }, {\n        key: \"intersects\",\n        value: function intersects(obj) {\n            if (typeof obj.direction === 'undefined' && typeof obj.normal === 'undefined') {\n                return null;\n            }\n            return !this.isParallelTo(obj);\n        }\n    }, {\n        key: \"intersectionWith\",\n        value: function intersectionWith(obj) {\n            if (!this.intersects(obj)) {\n                return null;\n            }\n            if (obj.direction) {\n                // obj is a line\n                var A = obj.anchor.elements,\n                    D = obj.direction.elements,\n                    P = this.anchor.elements,\n                    N = this.normal.elements;\n                var multiplier = (N[0] * (P[0] - A[0]) + N[1] * (P[1] - A[1]) + N[2] * (P[2] - A[2])) / (N[0] * D[0] + N[1] * D[1] + N[2] * D[2]);\n                return new _Vector.Vector([A[0] + D[0] * multiplier, A[1] + D[1] * multiplier, A[2] + D[2] * multiplier]);\n            } else if (obj.normal) {\n                // obj is a plane\n                var direction = this.normal.cross(obj.normal).toUnitVector();\n                // To find an anchor point, we find one co-ordinate that has a value of\n                // zero somewhere on the intersection, and remember which one we picked\n                var N = this.normal.elements,\n                    A = this.anchor.elements,\n                    O = obj.normal.elements,\n                    B = obj.anchor.elements;\n                var solver = _Matrix.Matrix.Zero(2, 2),\n                    i = 0;\n                while (solver.isSingular()) {\n                    i++;\n                    solver = new _Matrix.Matrix([[N[i % 3], N[(i + 1) % 3]], [O[i % 3], O[(i + 1) % 3]]]);\n                }\n                // Then we solve the simultaneous equations in the remaining dimensions\n                var inverse = solver.inverse().elements;\n                var x = N[0] * A[0] + N[1] * A[1] + N[2] * A[2];\n                var y = O[0] * B[0] + O[1] * B[1] + O[2] * B[2];\n                var intersection = [inverse[0][0] * x + inverse[0][1] * y, inverse[1][0] * x + inverse[1][1] * y];\n                var anchor = [];\n                for (var j = 1; j <= 3; j++) {\n                    // This formula picks the right element from intersection by cycling\n                    // depending on which element we set to zero above\n                    anchor.push(i === j ? 0 : intersection[(j + (5 - i) % 3) % 3]);\n                }\n                return new _Line.Line(anchor, direction);\n            }\n        }\n    }, {\n        key: \"pointClosestTo\",\n        value: function pointClosestTo(point) {\n            var P = point.elements || point;\n            var A = this.anchor.elements,\n                N = this.normal.elements;\n            var dot = (A[0] - P[0]) * N[0] + (A[1] - P[1]) * N[1] + (A[2] - (P[2] || 0)) * N[2];\n            return new _Vector.Vector([P[0] + N[0] * dot, P[1] + N[1] * dot, (P[2] || 0) + N[2] * dot]);\n        }\n    }, {\n        key: \"rotate\",\n        value: function rotate(t, line) {\n            var R = t.determinant ? t.elements : _Matrix.Matrix.Rotation(t, line.direction).elements;\n            var C = line.pointClosestTo(this.anchor).elements;\n            var A = this.anchor.elements,\n                N = this.normal.elements;\n            var C1 = C[0],\n                C2 = C[1],\n                C3 = C[2],\n                A1 = A[0],\n                A2 = A[1],\n                A3 = A[2];\n            var x = A1 - C1,\n                y = A2 - C2,\n                z = A3 - C3;\n            return new Plane([C1 + R[0][0] * x + R[0][1] * y + R[0][2] * z, C2 + R[1][0] * x + R[1][1] * y + R[1][2] * z, C3 + R[2][0] * x + R[2][1] * y + R[2][2] * z], [R[0][0] * N[0] + R[0][1] * N[1] + R[0][2] * N[2], R[1][0] * N[0] + R[1][1] * N[1] + R[1][2] * N[2], R[2][0] * N[0] + R[2][1] * N[1] + R[2][2] * N[2]]);\n        }\n    }, {\n        key: \"reflectionIn\",\n        value: function reflectionIn(obj) {\n            if (obj.normal) {\n                // obj is a plane\n                var A = this.anchor.elements,\n                    N = this.normal.elements;\n                var A1 = A[0],\n                    A2 = A[1],\n                    A3 = A[2],\n                    N1 = N[0],\n                    N2 = N[1],\n                    N3 = N[2];\n                var newA = this.anchor.reflectionIn(obj).elements;\n                // Add the plane's normal to its anchor, then mirror that in the other plane\n                var AN1 = A1 + N1,\n                    AN2 = A2 + N2,\n                    AN3 = A3 + N3;\n                var Q = obj.pointClosestTo([AN1, AN2, AN3]).elements;\n                var newN = [Q[0] + (Q[0] - AN1) - newA[0], Q[1] + (Q[1] - AN2) - newA[1], Q[2] + (Q[2] - AN3) - newA[2]];\n                return new Plane(newA, newN);\n            } else if (obj.direction) {\n                // obj is a line\n                return this.rotate(Math.PI, obj);\n            } else {\n                // obj is a point\n                var P = obj.elements || obj;\n                return new Plane(this.anchor.reflectionIn([P[0], P[1], P[2] || 0]), this.normal);\n            }\n        }\n    }, {\n        key: \"setVectors\",\n        value: function setVectors(anchor, v1, v2) {\n            anchor = new _Vector.Vector(anchor);\n            anchor = anchor.to3D();if (anchor === null) {\n                return null;\n            }\n            v1 = new _Vector.Vector(v1);\n            v1 = v1.to3D();if (v1 === null) {\n                return null;\n            }\n            if (typeof v2 === 'undefined') {\n                v2 = null;\n            } else {\n                v2 = new _Vector.Vector(v2);\n                v2 = v2.to3D();\n                if (v2 === null) {\n                    return null;\n                }\n            }\n            var A1 = anchor.elements[0],\n                A2 = anchor.elements[1],\n                A3 = anchor.elements[2];\n            var v11 = v1.elements[0],\n                v12 = v1.elements[1],\n                v13 = v1.elements[2];\n            var normal, mod;\n            if (v2 !== null) {\n                var v21 = v2.elements[0],\n                    v22 = v2.elements[1],\n                    v23 = v2.elements[2];\n                normal = new _Vector.Vector([(v12 - A2) * (v23 - A3) - (v13 - A3) * (v22 - A2), (v13 - A3) * (v21 - A1) - (v11 - A1) * (v23 - A3), (v11 - A1) * (v22 - A2) - (v12 - A2) * (v21 - A1)]);\n                mod = normal.modulus();\n                if (mod === 0) {\n                    return null;\n                }\n                normal = new _Vector.Vector([normal.elements[0] / mod, normal.elements[1] / mod, normal.elements[2] / mod]);\n            } else {\n                mod = Math.sqrt(v11 * v11 + v12 * v12 + v13 * v13);\n                if (mod === 0) {\n                    return null;\n                }\n                normal = new _Vector.Vector([v1.elements[0] / mod, v1.elements[1] / mod, v1.elements[2] / mod]);\n            }\n            this.anchor = anchor;\n            this.normal = normal;\n            return this;\n        }\n    }]);\n\n    return Plane;\n}();\n\nPlane.XY = new Plane(_Vector.Vector.Zero(3), _Vector.Vector.k);\nPlane.YZ = new Plane(_Vector.Vector.Zero(3), _Vector.Vector.i);\nPlane.ZX = new Plane(_Vector.Vector.Zero(3), _Vector.Vector.j);\nPlane.YX = Plane.XY;Plane.ZY = Plane.YZ;Plane.XZ = Plane.ZX;\n\nPlane.fromPoints = function (points) {\n    var np = points.length,\n        list = [],\n        i,\n        P,\n        n,\n        N,\n        A,\n        B,\n        C,\n        D,\n        theta,\n        prevN,\n        totalN = _Vector.Vector.Zero(3);\n    for (i = 0; i < np; i++) {\n        P = new _Vector.Vector(points[i]).to3D();\n        if (P === null) {\n            return null;\n        }\n        list.push(P);\n        n = list.length;\n        if (n > 2) {\n            // Compute plane normal for the latest three points\n            A = list[n - 1].elements;B = list[n - 2].elements;C = list[n - 3].elements;\n            N = new _Vector.Vector([(A[1] - B[1]) * (C[2] - B[2]) - (A[2] - B[2]) * (C[1] - B[1]), (A[2] - B[2]) * (C[0] - B[0]) - (A[0] - B[0]) * (C[2] - B[2]), (A[0] - B[0]) * (C[1] - B[1]) - (A[1] - B[1]) * (C[0] - B[0])]).toUnitVector();\n            if (n > 3) {\n                // If the latest normal is not (anti)parallel to the previous one, we've\n                // strayed off the plane. This might be a slightly long-winded way of\n                // doing things, but we need the sum of all the normals to find which\n                // way the plane normal should point so that the points form an\n                // anticlockwise list.\n                theta = N.angleFrom(prevN);\n                if (theta !== null) {\n                    if (!(Math.abs(theta) <= _PRECISION.PRECISION || Math.abs(theta - Math.PI) <= _PRECISION.PRECISION)) {\n                        return null;\n                    }\n                }\n            }\n            totalN = totalN.add(N);\n            prevN = N;\n        }\n    }\n    // We need to add in the normals at the start and end points, which the above\n    // misses out\n    A = list[1].elements;B = list[0].elements;C = list[n - 1].elements;D = list[n - 2].elements;\n    totalN = totalN.add(new _Vector.Vector([(A[1] - B[1]) * (C[2] - B[2]) - (A[2] - B[2]) * (C[1] - B[1]), (A[2] - B[2]) * (C[0] - B[0]) - (A[0] - B[0]) * (C[2] - B[2]), (A[0] - B[0]) * (C[1] - B[1]) - (A[1] - B[1]) * (C[0] - B[0])]).toUnitVector()).add(new _Vector.Vector([(B[1] - C[1]) * (D[2] - C[2]) - (B[2] - C[2]) * (D[1] - C[1]), (B[2] - C[2]) * (D[0] - C[0]) - (B[0] - C[0]) * (D[2] - C[2]), (B[0] - C[0]) * (D[1] - C[1]) - (B[1] - C[1]) * (D[0] - C[0])]).toUnitVector());\n    return new Plane(list[0], totalN);\n};\n//# sourceMappingURL=Plane.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Line = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _PRECISION = require(\"./PRECISION\");\n\nvar _Vector = require(\"./Vector\");\n\nvar _Matrix = require(\"./Matrix\");\n\nvar _Plane = require(\"./Plane\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Line = exports.Line = function () {\n    function Line(anchor, direction) {\n        _classCallCheck(this, Line);\n\n        this.setVectors(anchor, direction);\n    }\n\n    _createClass(Line, [{\n        key: \"eql\",\n        value: function eql(line) {\n            return this.isParallelTo(line) && this.contains(line.anchor);\n        }\n    }, {\n        key: \"dup\",\n        value: function dup() {\n            return new Line(this.anchor, this.direction);\n        }\n    }, {\n        key: \"translate\",\n        value: function translate(vector) {\n            var V = vector.elements || vector;\n            return new Line([this.anchor.elements[0] + V[0], this.anchor.elements[1] + V[1], this.anchor.elements[2] + (V[2] || 0)], this.direction);\n        }\n    }, {\n        key: \"isParallelTo\",\n        value: function isParallelTo(obj) {\n            if (obj.normal || obj.start && obj.end) {\n                return obj.isParallelTo(this);\n            }\n            var theta = this.direction.angleFrom(obj.direction);\n            return Math.abs(theta) <= _PRECISION.PRECISION || Math.abs(theta - Math.PI) <= _PRECISION.PRECISION;\n        }\n    }, {\n        key: \"distanceFrom\",\n        value: function distanceFrom(obj) {\n            if (obj.normal || obj.start && obj.end) {\n                return obj.distanceFrom(this);\n            }\n            if (obj.direction) {\n                // obj is a line\n                if (this.isParallelTo(obj)) {\n                    return this.distanceFrom(obj.anchor);\n                }\n                var N = this.direction.cross(obj.direction).toUnitVector().elements;\n                var A = this.anchor.elements,\n                    B = obj.anchor.elements;\n                return Math.abs((A[0] - B[0]) * N[0] + (A[1] - B[1]) * N[1] + (A[2] - B[2]) * N[2]);\n            } else {\n                // obj is a point\n                var P = obj.elements || obj;\n                var A = this.anchor.elements,\n                    D = this.direction.elements;\n                var PA1 = P[0] - A[0],\n                    PA2 = P[1] - A[1],\n                    PA3 = (P[2] || 0) - A[2];\n                var modPA = Math.sqrt(PA1 * PA1 + PA2 * PA2 + PA3 * PA3);\n                if (modPA === 0) {\n                    return 0;\n                }\n                // Assumes direction vector is normalized\n                var cosTheta = (PA1 * D[0] + PA2 * D[1] + PA3 * D[2]) / modPA;\n                var sin2 = 1 - cosTheta * cosTheta;\n                return Math.abs(modPA * Math.sqrt(sin2 < 0 ? 0 : sin2));\n            }\n        }\n    }, {\n        key: \"contains\",\n        value: function contains(obj) {\n            if (obj.start && obj.end) {\n                return this.contains(obj.start) && this.contains(obj.end);\n            }\n            var dist = this.distanceFrom(obj);\n            return dist !== null && dist <= _PRECISION.PRECISION;\n        }\n    }, {\n        key: \"positionOf\",\n        value: function positionOf(point) {\n            if (!this.contains(point)) {\n                return null;\n            }\n            var P = point.elements || point;\n            var A = this.anchor.elements,\n                D = this.direction.elements;\n            return (P[0] - A[0]) * D[0] + (P[1] - A[1]) * D[1] + ((P[2] || 0) - A[2]) * D[2];\n        }\n    }, {\n        key: \"liesIn\",\n        value: function liesIn(plane) {\n            return plane.contains(this);\n        }\n    }, {\n        key: \"intersects\",\n        value: function intersects(obj) {\n            if (obj.normal) {\n                return obj.intersects(this);\n            }\n            return !this.isParallelTo(obj) && this.distanceFrom(obj) <= _PRECISION.PRECISION;\n        }\n    }, {\n        key: \"intersectionWith\",\n        value: function intersectionWith(obj) {\n            if (obj.normal || obj.start && obj.end) {\n                return obj.intersectionWith(this);\n            }\n            if (!this.intersects(obj)) {\n                return null;\n            }\n            var P = this.anchor.elements,\n                X = this.direction.elements,\n                Q = obj.anchor.elements,\n                Y = obj.direction.elements;\n            var X1 = X[0],\n                X2 = X[1],\n                X3 = X[2],\n                Y1 = Y[0],\n                Y2 = Y[1],\n                Y3 = Y[2];\n            var PsubQ1 = P[0] - Q[0],\n                PsubQ2 = P[1] - Q[1],\n                PsubQ3 = P[2] - Q[2];\n            var XdotQsubP = -X1 * PsubQ1 - X2 * PsubQ2 - X3 * PsubQ3;\n            var YdotPsubQ = Y1 * PsubQ1 + Y2 * PsubQ2 + Y3 * PsubQ3;\n            var XdotX = X1 * X1 + X2 * X2 + X3 * X3;\n            var YdotY = Y1 * Y1 + Y2 * Y2 + Y3 * Y3;\n            var XdotY = X1 * Y1 + X2 * Y2 + X3 * Y3;\n            var k = (XdotQsubP * YdotY / XdotX + XdotY * YdotPsubQ) / (YdotY - XdotY * XdotY);\n            return new _Vector.Vector([P[0] + k * X1, P[1] + k * X2, P[2] + k * X3]);\n        }\n    }, {\n        key: \"pointClosestTo\",\n        value: function pointClosestTo(obj) {\n            if (obj.start && obj.end) {\n                // obj is a line segment\n                var P = obj.pointClosestTo(this);\n                return P === null ? null : this.pointClosestTo(P);\n            } else if (obj.direction) {\n                // obj is a line\n                if (this.intersects(obj)) {\n                    return this.intersectionWith(obj);\n                }\n                if (this.isParallelTo(obj)) {\n                    return null;\n                }\n                var D = this.direction.elements,\n                    E = obj.direction.elements;\n                var D1 = D[0],\n                    D2 = D[1],\n                    D3 = D[2],\n                    E1 = E[0],\n                    E2 = E[1],\n                    E3 = E[2];\n                // Create plane containing obj and the shared normal and intersect this\n                // with it Thank you:\n                // http://www.cgafaq.info/wiki/Line-line_distance\n                var x = D3 * E1 - D1 * E3,\n                    y = D1 * E2 - D2 * E1,\n                    z = D2 * E3 - D3 * E2;\n                var N = [x * E3 - y * E2, y * E1 - z * E3, z * E2 - x * E1];\n                var P = new _Plane.Plane(obj.anchor, N);\n                return P.intersectionWith(this);\n            } else {\n                // obj is a point\n                var P = obj.elements || obj;\n                if (this.contains(P)) {\n                    return new _Vector.Vector(P);\n                }\n                var A = this.anchor.elements,\n                    D = this.direction.elements;\n                var D1 = D[0],\n                    D2 = D[1],\n                    D3 = D[2],\n                    A1 = A[0],\n                    A2 = A[1],\n                    A3 = A[2];\n                var x = D1 * (P[1] - A2) - D2 * (P[0] - A1),\n                    y = D2 * ((P[2] || 0) - A3) - D3 * (P[1] - A2),\n                    z = D3 * (P[0] - A1) - D1 * ((P[2] || 0) - A3);\n                var V = new _Vector.Vector([D2 * x - D3 * z, D3 * y - D1 * x, D1 * z - D2 * y]);\n                var k = this.distanceFrom(P) / V.modulus();\n                return new _Vector.Vector([P[0] + V.elements[0] * k, P[1] + V.elements[1] * k, (P[2] || 0) + V.elements[2] * k]);\n            }\n        }\n\n        // Returns a copy of the line rotated by t radians about the given line. Works\n        // by finding the argument's closest point to this line's anchor point (call\n        // this C) and rotating the anchor about C. Also rotates the line's direction\n        // about the argument's. Be careful with this - the rotation axis' direction\n        // affects the outcome!\n\n    }, {\n        key: \"rotate\",\n        value: function rotate(t, line) {\n            // If we're working in 2D\n            if (typeof line.direction === 'undefined') {\n                line = new Line(line.to3D(), _Vector.Vector.k);\n            }\n            var R = _Matrix.Matrix.Rotation(t, line.direction).elements;\n            var C = line.pointClosestTo(this.anchor).elements;\n            var A = this.anchor.elements,\n                D = this.direction.elements;\n            var C1 = C[0],\n                C2 = C[1],\n                C3 = C[2],\n                A1 = A[0],\n                A2 = A[1],\n                A3 = A[2];\n            var x = A1 - C1,\n                y = A2 - C2,\n                z = A3 - C3;\n            return new Line([C1 + R[0][0] * x + R[0][1] * y + R[0][2] * z, C2 + R[1][0] * x + R[1][1] * y + R[1][2] * z, C3 + R[2][0] * x + R[2][1] * y + R[2][2] * z], [R[0][0] * D[0] + R[0][1] * D[1] + R[0][2] * D[2], R[1][0] * D[0] + R[1][1] * D[1] + R[1][2] * D[2], R[2][0] * D[0] + R[2][1] * D[1] + R[2][2] * D[2]]);\n        }\n    }, {\n        key: \"reverse\",\n        value: function reverse() {\n            return new Line(this.anchor, this.direction.x(-1));\n        }\n    }, {\n        key: \"reflectionIn\",\n        value: function reflectionIn(obj) {\n            if (obj.normal) {\n                // obj is a plane\n                var A = this.anchor.elements,\n                    D = this.direction.elements;\n                var A1 = A[0],\n                    A2 = A[1],\n                    A3 = A[2],\n                    D1 = D[0],\n                    D2 = D[1],\n                    D3 = D[2];\n                var newA = this.anchor.reflectionIn(obj).elements;\n                // Add the line's direction vector to its anchor, then mirror that in the plane\n                var AD1 = A1 + D1,\n                    AD2 = A2 + D2,\n                    AD3 = A3 + D3;\n                var Q = obj.pointClosestTo([AD1, AD2, AD3]).elements;\n                var newD = [Q[0] + (Q[0] - AD1) - newA[0], Q[1] + (Q[1] - AD2) - newA[1], Q[2] + (Q[2] - AD3) - newA[2]];\n                return new Line(newA, newD);\n            } else if (obj.direction) {\n                // obj is a line - reflection obtained by rotating PI radians about obj\n                return this.rotate(Math.PI, obj);\n            } else {\n                // obj is a point - just reflect the line's anchor in it\n                var P = obj.elements || obj;\n                return new Line(this.anchor.reflectionIn([P[0], P[1], P[2] || 0]), this.direction);\n            }\n        }\n    }, {\n        key: \"setVectors\",\n        value: function setVectors(anchor, direction) {\n            // Need to do this so that line's properties are not references to the\n            // arguments passed in\n            anchor = new _Vector.Vector(anchor);\n            direction = new _Vector.Vector(direction);\n            if (anchor.elements.length === 2) {\n                anchor.elements.push(0);\n            }\n            if (direction.elements.length === 2) {\n                direction.elements.push(0);\n            }\n            if (anchor.elements.length > 3 || direction.elements.length > 3) {\n                return null;\n            }\n            var mod = direction.modulus();\n            if (mod === 0) {\n                return null;\n            }\n            this.anchor = anchor;\n            this.direction = new _Vector.Vector([direction.elements[0] / mod, direction.elements[1] / mod, direction.elements[2] / mod]);\n            return this;\n        }\n    }]);\n\n    return Line;\n}();\n\nLine.X = new Line(_Vector.Vector.Zero(3), _Vector.Vector.i);\nLine.Y = new Line(_Vector.Vector.Zero(3), _Vector.Vector.j);\nLine.Z = new Line(_Vector.Vector.Zero(3), _Vector.Vector.k);\n//# sourceMappingURL=Line.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.LineSegment = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Vector = require(\"./Vector\");\n\nvar _Plane = require(\"./Plane\");\n\nvar _Line = require(\"./Line\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LineSegment = exports.LineSegment = function () {\n    function LineSegment(v1, v2) {\n        _classCallCheck(this, LineSegment);\n\n        this.setPoints(v1, v2);\n    }\n\n    _createClass(LineSegment, [{\n        key: \"eql\",\n        value: function eql(segment) {\n            return this.start.eql(segment.start) && this.end.eql(segment.end) || this.start.eql(segment.end) && this.end.eql(segment.start);\n        }\n    }, {\n        key: \"dup\",\n        value: function dup() {\n            return new LineSegment(this.start, this.end);\n        }\n    }, {\n        key: \"length\",\n        value: function length() {\n            var A = this.start.elements,\n                B = this.end.elements;\n            var C1 = B[0] - A[0],\n                C2 = B[1] - A[1],\n                C3 = B[2] - A[2];\n            return Math.sqrt(C1 * C1 + C2 * C2 + C3 * C3);\n        }\n    }, {\n        key: \"toVector\",\n        value: function toVector() {\n            var A = this.start.elements,\n                B = this.end.elements;\n            return new _Vector.Vector([B[0] - A[0], B[1] - A[1], B[2] - A[2]]);\n        }\n    }, {\n        key: \"midpoint\",\n        value: function midpoint() {\n            var A = this.start.elements,\n                B = this.end.elements;\n            return new _Vector.Vector([(B[0] + A[0]) / 2, (B[1] + A[1]) / 2, (B[2] + A[2]) / 2]);\n        }\n    }, {\n        key: \"bisectingPlane\",\n        value: function bisectingPlane() {\n            return new _Plane.Plane(this.midpoint(), this.toVector());\n        }\n    }, {\n        key: \"translate\",\n        value: function translate(vector) {\n            var V = vector.elements || vector;\n            var S = this.start.elements,\n                E = this.end.elements;\n            return new LineSegment([S[0] + V[0], S[1] + V[1], S[2] + (V[2] || 0)], [E[0] + V[0], E[1] + V[1], E[2] + (V[2] || 0)]);\n        }\n    }, {\n        key: \"isParallelTo\",\n        value: function isParallelTo(obj) {\n            return this.line.isParallelTo(obj);\n        }\n    }, {\n        key: \"distanceFrom\",\n        value: function distanceFrom(obj) {\n            var P = this.pointClosestTo(obj);\n            return P === null ? null : P.distanceFrom(obj);\n        }\n    }, {\n        key: \"contains\",\n        value: function contains(obj) {\n            if (obj.start && obj.end) {\n                return this.contains(obj.start) && this.contains(obj.end);\n            }\n            var P = (obj.elements || obj).slice();\n            if (P.length === 2) {\n                P.push(0);\n            }\n            if (this.start.eql(P)) {\n                return true;\n            }\n            var S = this.start.elements;\n            var V = new _Vector.Vector([S[0] - P[0], S[1] - P[1], S[2] - (P[2] || 0)]);\n            var vect = this.toVector();\n            return V.isAntiparallelTo(vect) && V.modulus() <= vect.modulus();\n        }\n    }, {\n        key: \"intersects\",\n        value: function intersects(obj) {\n            return this.intersectionWith(obj) !== null;\n        }\n    }, {\n        key: \"intersectionWith\",\n        value: function intersectionWith(obj) {\n            if (!this.line.intersects(obj)) {\n                return null;\n            }\n            var P = this.line.intersectionWith(obj);\n            return this.contains(P) ? P : null;\n        }\n    }, {\n        key: \"pointClosestTo\",\n        value: function pointClosestTo(obj) {\n            if (obj.normal) {\n                // obj is a plane\n                var V = this.line.intersectionWith(obj);\n                if (V === null) {\n                    return null;\n                }\n                return this.pointClosestTo(V);\n            } else {\n                // obj is a line (segment) or point\n                var P = this.line.pointClosestTo(obj);\n                if (P === null) {\n                    return null;\n                }\n                if (this.contains(P)) {\n                    return P;\n                }\n                return (this.line.positionOf(P) < 0 ? this.start : this.end).dup();\n            }\n        }\n    }, {\n        key: \"setPoints\",\n        value: function setPoints(startPoint, endPoint) {\n            startPoint = new _Vector.Vector(startPoint).to3D();\n            endPoint = new _Vector.Vector(endPoint).to3D();\n            if (startPoint === null || endPoint === null) {\n                return null;\n            }\n            this.line = new _Line.Line(startPoint, endPoint.subtract(startPoint));\n            this.start = startPoint;\n            this.end = endPoint;\n            return this;\n        }\n    }]);\n\n    return LineSegment;\n}();\n//# sourceMappingURL=LineSegment.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LinkedListNode = exports.LinkedListNode = function LinkedListNode(data) {\n    _classCallCheck(this, LinkedListNode);\n\n    this.prev = null;\n    this.next = null;\n    this.data = data;\n};\n//# sourceMappingURL=LinkedListNode.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Polygon = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _LinkedList = require(\"./LinkedList\");\n\nvar _PRECISION = require(\"./PRECISION\");\n\nvar _Matrix = require(\"./Matrix\");\n\nvar _Vector = require(\"./Vector\");\n\nvar _Plane = require(\"./Plane\");\n\nvar _Line = require(\"./Line\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Polygon = exports.Polygon = function () {\n    function Polygon(points, plane) {\n        _classCallCheck(this, Polygon);\n\n        this.setVertices(points, plane);\n    }\n\n    _createClass(Polygon, [{\n        key: \"v\",\n        value: function v(i) {\n            return this.vertices.at(i - 1).data;\n        }\n    }, {\n        key: \"nodeFor\",\n        value: function nodeFor(vertex) {\n            return this.vertices.withData(vertex);\n        }\n    }, {\n        key: \"dup\",\n        value: function dup() {\n            return new Polygon(this.vertices, this.plane);\n        }\n    }, {\n        key: \"translate\",\n        value: function translate(vector) {\n            var P = vector.elements || vector;\n            this.vertices.each(function (node) {\n                var E = node.data.elements;\n                node.data.setElements([E[0] + P[0], E[1] + P[1], E[2] + (P[2] || 0)]);\n            });\n            this.plane = this.plane.translate(vector);\n            this.updateTrianglePlanes(function (plane) {\n                return plane.translate(vector);\n            });\n            return this;\n        }\n    }, {\n        key: \"rotate\",\n        value: function rotate(t, line) {\n            var R = _Matrix.Matrix.Rotation(t, line.direction);\n            this.vertices.each(function (node) {\n                node.data.setElements(node.data.rotate(R, line).elements);\n            });\n            this.plane = this.plane.rotate(R, line);\n            this.updateTrianglePlanes(function (plane) {\n                return plane.rotate(R, line);\n            });\n            return this;\n        }\n    }, {\n        key: \"scale\",\n        value: function scale(k, point) {\n            var P = point.elements || point;\n            this.vertices.each(function (node) {\n                var E = node.data.elements;\n                node.data.setElements([P[0] + k * (E[0] - P[0]), P[1] + k * (E[1] - P[1]), (P[2] || 0) + k * (E[2] - (P[2] || 0))]);\n            });\n            var anchor = this.vertices.first.data;\n            this.plane.anchor.setElements(anchor);\n            this.updateTrianglePlanes(function (plane) {\n                return new _Plane.Plane(anchor, plane.normal);\n            });\n            return this;\n        }\n\n        // Updates the plane properties of all the cached triangles belonging to the\n        // polygon according to the given function. For example, suppose you just\n        // rotated the polygon, you should call:\n        //\n        //   poly.updateTrianglePlanes(function(plane) { return plane.rotate(t, line); });\n        //\n        // This method is called automatically by Polygon.translate,\n        // Polygon.rotate and Polygon.scale transformation methods.\n\n    }, {\n        key: \"updateTrianglePlanes\",\n        value: function updateTrianglePlanes(fn) {\n            var i;\n            if (this.cached.triangles !== null) {\n                i = this.cached.triangles.length;\n                while (i--) {\n                    this.cached.triangles[i].plane = fn(this.cached.triangles[i].plane);\n                }\n            }\n            if (this.cached.surfaceIntegralElements !== null) {\n                i = this.cached.surfaceIntegralElements.length;\n                while (i--) {\n                    this.cached.surfaceIntegralElements[i].plane = fn(this.cached.surfaceIntegralElements[i].plane);\n                }\n            }\n        }\n    }, {\n        key: \"isTriangle\",\n        value: function isTriangle() {\n            return this.vertices.length === 3;\n        }\n\n        // Returns a collection of triangles used for calculating area and center of\n        // mass. Some of the triangles will not lie inside the polygon - this\n        // collection is essentially a series of itervals in a surface integral, so\n        // some are 'negative'. If you want the polygon broken into constituent\n        // triangles, use toTriangles(). This method is used because it's much faster\n        // than toTriangles().\n        //\n        // The triangles generated share vertices with the original polygon, so they\n        // transform with the polygon. They are cached after first calculation and\n        // should remain in sync with changes to the parent polygon.\n\n    }, {\n        key: \"trianglesForSurfaceIntegral\",\n        value: function trianglesForSurfaceIntegral() {\n            if (this.cached.surfaceIntegralElements !== null) {\n                return this.cached.surfaceIntegralElements;\n            }\n            var triangles = [];\n            var firstVertex = this.vertices.first.data;\n            var plane = this.plane;\n            this.vertices.each(function (node, i) {\n                if (i < 2) {\n                    return;\n                }\n                var points = [firstVertex, node.prev.data, node.data];\n                // If the vertices lie on a straigh line, give the polygon's own plane. If\n                // the element has no area, it doesn't matter which way its normal faces.\n                triangles.push(new Polygon(points, _Plane.Plane.fromPoints(points) || plane));\n            });\n            return this.setCache('surfaceIntegralElements', triangles);\n        }\n    }, {\n        key: \"area\",\n        value: function area() {\n            if (this.isTriangle()) {\n                // Area is half the modulus of the cross product of two sides\n                var A = this.vertices.first,\n                    B = A.next,\n                    C = B.next;\n                A = A.data.elements;B = B.data.elements;C = C.data.elements;\n                return 0.5 * new _Vector.Vector([(A[1] - B[1]) * (C[2] - B[2]) - (A[2] - B[2]) * (C[1] - B[1]), (A[2] - B[2]) * (C[0] - B[0]) - (A[0] - B[0]) * (C[2] - B[2]), (A[0] - B[0]) * (C[1] - B[1]) - (A[1] - B[1]) * (C[0] - B[0])]).modulus();\n            } else {\n                var trigs = this.trianglesForSurfaceIntegral(),\n                    area = 0;\n                var i = trigs.length;\n                while (i--) {\n                    area += trigs[i].area() * trigs[i].plane.normal.dot(this.plane.normal);\n                }\n                return area;\n            }\n        }\n    }, {\n        key: \"centroid\",\n        value: function centroid() {\n            if (this.isTriangle()) {\n                var A = this.v(1).elements,\n                    B = this.v(2).elements,\n                    C = this.v(3).elements;\n                return new _Vector.Vector([(A[0] + B[0] + C[0]) / 3, (A[1] + B[1] + C[1]) / 3, (A[2] + B[2] + C[2]) / 3]);\n            } else {\n                var A,\n                    M = 0,\n                    V = _Vector.Vector.Zero(3),\n                    P,\n                    C,\n                    trigs = this.trianglesForSurfaceIntegral();\n                var i = trigs.length;\n                while (i--) {\n                    A = trigs[i].area() * trigs[i].plane.normal.dot(this.plane.normal);\n                    M += A;\n                    P = V.elements;\n                    C = trigs[i].centroid().elements;\n                    V.setElements([P[0] + C[0] * A, P[1] + C[1] * A, P[2] + C[2] * A]);\n                }\n                return V.x(1 / M);\n            }\n        }\n    }, {\n        key: \"projectionOn\",\n        value: function projectionOn(plane) {\n            var points = [];\n            this.vertices.each(function (node) {\n                points.push(plane.pointClosestTo(node.data));\n            });\n            return new Polygon(points);\n        }\n    }, {\n        key: \"removeVertex\",\n        value: function removeVertex(vertex) {\n            if (this.isTriangle()) {\n                return;\n            }\n            var node = this.nodeFor(vertex);\n            if (node === null) {\n                return null;\n            }\n            this.clearCache();\n            // Previous and next entries in the main vertex list\n            var prev = node.prev,\n                next = node.next;\n            var prevWasConvex = prev.data.isConvex(this);\n            var nextWasConvex = next.data.isConvex(this);\n            if (node.data.isConvex(this)) {\n                this.convexVertices.remove(this.convexVertices.withData(node.data));\n            } else {\n                this.reflexVertices.remove(this.reflexVertices.withData(node.data));\n            }\n            this.vertices.remove(node);\n            // Deal with previous vertex's change of class\n            if (prevWasConvex !== prev.data.isConvex(this)) {\n                if (prevWasConvex) {\n                    this.convexVertices.remove(this.convexVertices.withData(prev.data));\n                    this.reflexVertices.append(new _LinkedList.LinkedList.Node(prev.data));\n                } else {\n                    this.reflexVertices.remove(this.reflexVertices.withData(prev.data));\n                    this.convexVertices.append(new _LinkedList.LinkedList.Node(prev.data));\n                }\n            }\n            // Deal with next vertex's change of class\n            if (nextWasConvex !== next.data.isConvex(this)) {\n                if (nextWasConvex) {\n                    this.convexVertices.remove(this.convexVertices.withData(next.data));\n                    this.reflexVertices.append(new _LinkedList.LinkedList.Node(next.data));\n                } else {\n                    this.reflexVertices.remove(this.reflexVertices.withData(next.data));\n                    this.convexVertices.append(new _LinkedList.LinkedList.Node(next.data));\n                }\n            }\n            return this;\n        }\n    }, {\n        key: \"contains\",\n        value: function contains(point) {\n            return this.containsByWindingNumber(point);\n        }\n    }, {\n        key: \"containsByWindingNumber\",\n        value: function containsByWindingNumber(point) {\n            var P = point.elements || point;\n            if (!this.plane.contains(P)) {\n                return false;\n            }\n            if (this.hasEdgeContaining(P)) {\n                return false;\n            }\n            var V,\n                W,\n                A,\n                B,\n                theta = 0,\n                dt,\n                loops = 0,\n                self = this;\n            this.vertices.each(function (node) {\n                V = node.data.elements;\n                W = node.next.data.elements;\n                A = new _Vector.Vector([V[0] - P[0], V[1] - P[1], V[2] - (P[2] || 0)]);\n                B = new _Vector.Vector([W[0] - P[0], W[1] - P[1], W[2] - (P[2] || 0)]);\n                dt = A.angleFrom(B);\n                if (dt === null || dt === 0) {\n                    return;\n                }\n                theta += (A.cross(B).isParallelTo(self.plane.normal) ? 1 : -1) * dt;\n                if (theta >= 2 * Math.PI - _PRECISION.PRECISION) {\n                    loops++;theta -= 2 * Math.PI;\n                }\n                if (theta <= -2 * Math.PI + _PRECISION.PRECISION) {\n                    loops--;theta += 2 * Math.PI;\n                }\n            });\n            return loops !== 0;\n        }\n    }, {\n        key: \"hasEdgeContaining\",\n        value: function hasEdgeContaining(point) {\n            var P = point.elements || point;\n            var success = false;\n            this.vertices.each(function (node) {\n                if (_Line.Line.Segment.create(node.data, node.next.data).contains(P)) {\n                    success = true;\n                }\n            });\n            return success;\n        }\n    }, {\n        key: \"toTriangles\",\n        value: function toTriangles() {\n            if (this.cached.triangles !== null) {\n                return this.cached.triangles;\n            }\n            return this.setCache('triangles', this.triangulateByEarClipping());\n        }\n\n        // Implementation of ear clipping algorithm\n        // Found in 'Triangulation by ear clipping', by David Eberly\n        // at http://www.geometrictools.com\n        // This will not deal with overlapping sections - contruct your polygons\n        // sensibly\n\n    }, {\n        key: \"triangulateByEarClipping\",\n        value: function triangulateByEarClipping() {\n            var poly = this.dup(),\n                triangles = [],\n                success,\n                convexNode,\n                mainNode,\n                trig;\n            while (!poly.isTriangle()) {\n                success = false;\n                while (!success) {\n                    success = true;\n                    // Ear tips must be convex vertices - let's pick one at random\n                    convexNode = poly.convexVertices.randomNode();\n                    mainNode = poly.vertices.withData(convexNode.data);\n                    // For convex vertices, this order will always be anticlockwise\n                    trig = new Polygon([mainNode.data, mainNode.next.data, mainNode.prev.data], this.plane);\n                    // Now test whether any reflex vertices lie within the ear\n                    poly.reflexVertices.each(function (node) {\n                        // Don't test points belonging to this triangle. node won't be equal\n                        // to convexNode as node is reflex and vertex is convex.\n                        if (node.data !== mainNode.prev.data && node.data !== mainNode.next.data) {\n                            if (trig.contains(node.data) || trig.hasEdgeContaining(node.data)) {\n                                success = false;\n                            }\n                        }\n                    });\n                }\n                triangles.push(trig);\n                poly.removeVertex(mainNode.data);\n            }\n            // Need to do this to renumber the remaining vertices\n            triangles.push(new Polygon(poly.vertices, this.plane));\n            return triangles;\n        }\n    }, {\n        key: \"setVertices\",\n        value: function setVertices(points, plane) {\n            var pointSet = points.toArray ? points.toArray() : points;\n            this.plane = plane && plane.normal ? plane.dup() : _Plane.Plane.fromPoints(pointSet);\n            if (this.plane === null) {\n                return null;\n            }\n            this.vertices = new _LinkedList.LinkedList.Circular();\n            // Construct linked list of vertices. If each point is already a polygon\n            // vertex, we reference it rather than creating a new vertex.\n            var i = pointSet.length,\n                newVertex;\n            while (i--) {\n                newVertex = pointSet[i].isConvex ? pointSet[i] : new Polygon.Vertex(pointSet[i]);\n                this.vertices.prepend(new _LinkedList.LinkedList.Node(newVertex));\n            }\n            this.clearCache();\n            this.populateVertexTypeLists();\n            return this;\n        }\n    }, {\n        key: \"populateVertexTypeLists\",\n        value: function populateVertexTypeLists() {\n            this.convexVertices = new _LinkedList.LinkedList.Circular();\n            this.reflexVertices = new _LinkedList.LinkedList.Circular();\n            var self = this;\n            this.vertices.each(function (node) {\n                // Split vertices into convex / reflex groups. The\n                // LinkedList.Node class wraps each vertex so it can belong to\n                // many linked lists.\n                self[node.data.type(self) + 'Vertices'].append(new _LinkedList.LinkedList.Node(node.data));\n            });\n        }\n    }, {\n        key: \"copyVertices\",\n        value: function copyVertices() {\n            this.clearCache();\n            this.vertices.each(function (node) {\n                node.data = new Polygon.Vertex(node.data);\n            });\n            this.populateVertexTypeLists();\n        }\n    }, {\n        key: \"clearCache\",\n        value: function clearCache() {\n            this.cached = {\n                triangles: null,\n                surfaceIntegralElements: null\n            };\n        }\n    }, {\n        key: \"setCache\",\n        value: function setCache(key, value) {\n            this.cached[key] = value;\n            return value;\n        }\n    }, {\n        key: \"inspect\",\n        value: function inspect() {\n            var points = [];\n            this.vertices.each(function (node) {\n                points.push(node.data.inspect());\n            });\n            return points.join(' -> ');\n        }\n    }]);\n\n    return Polygon;\n}();\n//# sourceMappingURL=Polygon.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Vertex = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Vector2 = require(\"./Vector\");\n\nvar _PRECISION = require(\"./PRECISION\");\n\nvar _Polygon = require(\"./Polygon\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Vertex = exports.Vertex = function (_Vector) {\n    _inherits(Vertex, _Vector);\n\n    function Vertex(point) {\n        _classCallCheck(this, Vertex);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Vertex).call(this, point));\n\n        _this.setElements(point);\n        if (_this.elements.length === 2) {\n            _this.elements.push(0);\n        }\n        if (_this.elements.length !== 3) {\n            var _ret;\n\n            return _ret = null, _possibleConstructorReturn(_this, _ret);\n        }\n        return _this;\n    }\n\n    // Returns true iff the vertex's internal angle is 0 <= x < 180\n    // in the context of the given polygon object. Returns null if the\n    // vertex does not exist in the polygon.\n\n\n    _createClass(Vertex, [{\n        key: \"isConvex\",\n        value: function isConvex(polygon) {\n            var node = polygon.nodeFor(this);\n            if (node === null) {\n                return null;\n            }\n            var prev = node.prev.data,\n                next = node.next.data;\n            var A = next.subtract(this);\n            var B = prev.subtract(this);\n            var theta = A.angleFrom(B);\n            if (theta <= _PRECISION.PRECISION) {\n                return true;\n            }\n            if (Math.abs(theta - Math.PI) <= _PRECISION.PRECISION) {\n                return false;\n            }\n            return A.cross(B).dot(polygon.plane.normal) > 0;\n        }\n\n        // Returns true iff the vertex's internal angle is 180 <= x < 360\n\n    }, {\n        key: \"isReflex\",\n        value: function isReflex(polygon) {\n            var result = this.isConvex(polygon);\n            return result === null ? null : !result;\n        }\n    }, {\n        key: \"type\",\n        value: function type(polygon) {\n            var result = this.isConvex(polygon);\n            return result === null ? null : result ? 'convex' : 'reflex';\n        }\n    }]);\n\n    return Vertex;\n}(_Vector2.Vector);\n\n// Method for converting a set of arrays/vectors/whatever to a set of Vertex objects\n\n\nVertex.convert = function (points) {\n    var pointSet = points.toArray ? points.toArray() : points;\n    var list = [],\n        n = pointSet.length;\n    for (var i = 0; i < n; i++) {\n        list.push(new Vertex(pointSet[i]));\n    }\n    return list;\n};\n//# sourceMappingURL=Vertex.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.mht = mht;\nexports.makeLookAt = makeLookAt;\nexports.makeOrtho = makeOrtho;\nexports.makePerspective = makePerspective;\nexports.makeFrustum = makeFrustum;\n\nvar _Vector = require(\"./Vector\");\n\nvar _Matrix = require(\"./Matrix\");\n\n//From glUtils.js\nfunction mht(m) {\n    var s = \"\";\n    if (m.length == 16) {\n        for (var i = 0; i < 4; i++) {\n            s += \"<span style='font-family: monospace'>[\" + m[i * 4 + 0].toFixed(4) + \",\" + m[i * 4 + 1].toFixed(4) + \",\" + m[i * 4 + 2].toFixed(4) + \",\" + m[i * 4 + 3].toFixed(4) + \"]</span><br>\";\n        }\n    } else if (m.length == 9) {\n        for (var i = 0; i < 3; i++) {\n            s += \"<span style='font-family: monospace'>[\" + m[i * 3 + 0].toFixed(4) + \",\" + m[i * 3 + 1].toFixed(4) + \",\" + m[i * 3 + 2].toFixed(4) + \"]</font><br>\";\n        }\n    } else {\n        return m.toString();\n    }\n    return s;\n}\n\n//From glUtils.js\n//\n// gluLookAt\n//\nfunction makeLookAt(ex, ey, ez, cx, cy, cz, ux, uy, uz) {\n    var eye = new _Vector.Vector([ex, ey, ez]);\n    var center = new _Vector.Vector([cx, cy, cz]);\n    var up = new _Vector.Vector([ux, uy, uz]);\n\n    var mag;\n\n    var z = eye.subtract(center).toUnitVector();\n    var x = up.cross(z).toUnitVector();\n    var y = z.cross(x).toUnitVector();\n\n    var m = new _Matrix.Matrix([[x.e(1), x.e(2), x.e(3), 0], [y.e(1), y.e(2), y.e(3), 0], [z.e(1), z.e(2), z.e(3), 0], [0, 0, 0, 1]]);\n\n    var t = new _Matrix.Matrix([[1, 0, 0, -ex], [0, 1, 0, -ey], [0, 0, 1, -ez], [0, 0, 0, 1]]);\n    return m.x(t);\n}\n\n//From glUtils.js\n//\n// glOrtho\n//\nfunction makeOrtho(left, right, bottom, top, znear, zfar) {\n    var tx = -(right + left) / (right - left);\n    var ty = -(top + bottom) / (top - bottom);\n    var tz = -(zfar + znear) / (zfar - znear);\n\n    return new _Matrix.Matrix([[2 / (right - left), 0, 0, tx], [0, 2 / (top - bottom), 0, ty], [0, 0, -2 / (zfar - znear), tz], [0, 0, 0, 1]]);\n}\n\n//From glUtils.js\n//\n// gluPerspective\n//\nfunction makePerspective(fovy, aspect, znear, zfar) {\n    var ymax = znear * Math.tan(fovy * Math.PI / 360.0);\n    var ymin = -ymax;\n    var xmin = ymin * aspect;\n    var xmax = ymax * aspect;\n\n    return makeFrustum(xmin, xmax, ymin, ymax, znear, zfar);\n}\n\n//From glUtils.js\n//\n// glFrustum\n//\nfunction makeFrustum(left, right, bottom, top, znear, zfar) {\n    var X = 2 * znear / (right - left);\n    var Y = 2 * znear / (top - bottom);\n    var A = (right + left) / (right - left);\n    var B = (top + bottom) / (top - bottom);\n    var C = -(zfar + znear) / (zfar - znear);\n    var D = -2 * zfar * znear / (zfar - znear);\n\n    return new _Matrix.Matrix([[X, 0, A, 0], [0, Y, B, 0], [0, 0, C, D], [0, 0, -1, 0]]);\n}\n","\"use strict\";\n\n//Classes\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _CircularLinkedList = require(\"./CircularLinkedList\");\n\nObject.defineProperty(exports, \"CircularLinkedList\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _CircularLinkedList.CircularLinkedList;\n\t}\n});\n\nvar _Line = require(\"./Line\");\n\nObject.defineProperty(exports, \"Line\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _Line.Line;\n\t}\n});\n\nvar _LineSegment = require(\"./LineSegment\");\n\nObject.defineProperty(exports, \"LineSegment\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _LineSegment.LineSegment;\n\t}\n});\n\nvar _LinkedList = require(\"./LinkedList\");\n\nObject.defineProperty(exports, \"LinkedList\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _LinkedList.LinkedList;\n\t}\n});\n\nvar _LinkedListNode = require(\"./LinkedListNode\");\n\nObject.defineProperty(exports, \"LinkedListNode\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _LinkedListNode.LinkedListNode;\n\t}\n});\n\nvar _Matrix = require(\"./Matrix\");\n\nObject.defineProperty(exports, \"Matrix\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _Matrix.Matrix;\n\t}\n});\n\nvar _Plane = require(\"./Plane\");\n\nObject.defineProperty(exports, \"Plane\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _Plane.Plane;\n\t}\n});\n\nvar _Polygon = require(\"./Polygon\");\n\nObject.defineProperty(exports, \"Polygon\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _Polygon.Polygon;\n\t}\n});\n\nvar _Vector = require(\"./Vector\");\n\nObject.defineProperty(exports, \"Vector\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _Vector.Vector;\n\t}\n});\n\nvar _Vertex = require(\"./Vertex\");\n\nObject.defineProperty(exports, \"Vertex\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _Vertex.Vertex;\n\t}\n});\n\nvar _Utils = require(\"./Utils\");\n\nObject.defineProperty(exports, \"mht\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _Utils.mht;\n\t}\n});\nObject.defineProperty(exports, \"makeLookAt\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _Utils.makeLookAt;\n\t}\n});\nObject.defineProperty(exports, \"makePerspective\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _Utils.makePerspective;\n\t}\n});\nObject.defineProperty(exports, \"makeFrustum\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _Utils.makeFrustum;\n\t}\n});\nObject.defineProperty(exports, \"makeOrtho\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _Utils.makeOrtho;\n\t}\n});\n\nvar _PRECISION = require(\"./PRECISION\");\n\nObject.defineProperty(exports, \"PRECISION\", {\n\tenumerable: true,\n\tget: function get() {\n\t\treturn _PRECISION.PRECISION;\n\t}\n});\n//# sourceMappingURL=Sylvester.js.map\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","\n//\n// TEXTURE SHADER FRAGMENT\n//\n\nlet textureFragmentShader = /*glsl*/`precision highp float; \n\nuniform sampler2D input_tex;\nuniform sampler2D lut_tex;  \nuniform float diverging;  \nvarying vec2 tex_coord;     \nvoid main(){\n\tfloat val = texture2D( input_tex, tex_coord ).r+0.5*diverging;\n\tvec4 color = texture2D( lut_tex, vec2(val, 0.5) );\n\tgl_FragColor = vec4(color.rgb,1.0);\n}\n`;\n\n\n//\n// TEXTURE SHADER VERTEX\n//\n\nlet textureVertexShader = /*glsl*/`\n\nattribute vec2 vertex;   \nattribute vec2 texCoord; \nuniform mat4 uMVMatrix;  \nuniform mat4 uPMatrix;   \nvarying vec2 tex_coord;  \nvoid main(){\n\ttex_coord = texCoord; \n\tgl_Position = uPMatrix * uMVMatrix * vec4( vertex, 0.0, 1.0 ); \n}\n\n`;\n\n//\n// FRAGMENT SHADER\n//\n\n\nlet fragmentShader = /*glsl*/`precision highp float;\n\nvarying vec2 quad_coord; \nvarying float v_kernel_weight; \nuniform float kernel_weightScale; \nvoid main(void) { \n\tfloat len = length( quad_coord ); \n\tfloat nrm = v_kernel_weight * kernel_weightScale * 0.3989422804014327 * exp( -0.5*25.0*len*len ); \n\t// gl_FragColor = vec4(1,1,1,1.0);//vec4(nrm,nrm,nrm, nrm );\t\n\tgl_FragColor = vec4(nrm,nrm,nrm, nrm );\n\t// gl_FragColor = vec4(1,1,1, 1.0 ); \n}\n\n`;\n\n//\n// VERTEX SHADER\n//\n\n\nlet vertexShader = /*glsl*/`\n\nattribute vec3 position;\nattribute float kernel_weight;\n\nattribute vec2 offset;\n// attribute vec3 normal;\n\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\n\nuniform mat4 uMVMatrix; \nuniform mat4 uPMatrix; \nuniform float bandwidthScale; \nuniform vec2 bandwidth; \nvarying vec2 quad_coord; \nvarying float v_kernel_weight; \n\nvoid main(void) { \n\t// vec4 viewCenters = viewMatrix*vec4(position,1.0);\n\t// vec2 pos = (viewCenters).xy; \n\t// quad_coord = offset.xy;  \n\t// pos += bandwidthScale * bandwidth * quad_coord; \n\t// gl_Position = uPMatrix * uMVMatrix * vec4( pos, 0.0, 1.0); \n\t\n\n\n\tfloat BoxCorrection = 1.5;\n\tfloat fullSize = bandwidthScale * 5.5;\n\tvec3 cameraRight = normalize(vec3(viewMatrix[0][0], viewMatrix[1][0], viewMatrix[2][0]));\n\tvec3 cameraUp = normalize(vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]));\n\t// vec4 viewCenters = viewMatrix*vec4(position+BoxCorrection*fullSize*(cameraRight*offset.x + cameraUp*offset.y),1.0);\n\tvec4 viewCenters = viewMatrix*vec4(position,1.0);\n\tviewCenters.xy += bandwidthScale * bandwidth * offset.xy;\n\tquad_coord = offset.xy; \n\tv_kernel_weight = kernel_weight;\n\tgl_Position = projectionMatrix * viewCenters;\n} \n`;\n\nexport { fragmentShader, vertexShader, textureFragmentShader, textureVertexShader };\n\n","\nimport * as glm from \"gl-matrix\"\nimport {makeOrtho, Matrix} from \"sylvester-es6\"\nimport * as d3Chromatic from \"d3-scale-chromatic\"\nimport { rgb as d3rgb } from \"d3-color\"\nimport { scaleOrdinal as d3ScaleOrdinal, scaleSequential as d3ScaleSequential } from \"d3-scale\"\nimport * as glUtils from \"../utilities/webgl.js\"\nimport * as densityShaders from \"../shaders/density.js\"\n\n\n\n\n\nfunction getShader(gl, code, type) {\n    let shader = gl.createShader(type);\n    gl.shaderSource(shader, code);\n    gl.compileShader(shader);\n\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        console.log(gl.getShaderInfoLog(shader));\n        return null;\n    }\n    return shader;\n}\n\n\nfunction createShader(gl) {\n    //let fragmentShader = getShader(gl, \"shader-fs\");\n    //let vertexShader =   getShader(gl,   \"shader-vs\");\n    let fragmentShader = getShader(gl, densityShaders.fragmentShader, gl.FRAGMENT_SHADER);\n    let vertexShader = getShader(gl, densityShaders.vertexShader, gl.VERTEX_SHADER);\n\n    let program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        alert(\"Could not initialise shaders\");\n    }\n    gl.useProgram(program);\n    program.vertexPositionAttribute = gl.getAttribLocation(program, \"position\");\n    program.vertexKernelWeightAttribute = gl.getAttribLocation(program, \"kernel_weight\");\n    program.vertexOffsetAttribute = gl.getAttribLocation(program, \"offset\");\n\n    program.pMatrixUniform = gl.getUniformLocation(program, \"uPMatrix\");\n    program.mvMatrixUniform = gl.getUniformLocation(program, \"uMVMatrix\");\n    program.projectionMatrixUniform = gl.getUniformLocation(program, \"projectionMatrix\");\n\tprogram.viewMatrixUniform = gl.getUniformLocation(program, \"viewMatrix\");\n\t\n    program.bandwidthUniform = gl.getUniformLocation(program, \"bandwidth\");\n    program.bandwidthScaleUniform = gl.getUniformLocation(program, \"bandwidthScale\");\n    program.kernel_weightScaleUniform = gl.getUniformLocation(program, \"kernel_weightScale\");\n\n    return program;\n}\n\nfunction createShader2Dlut(gl) {\n    //    let frags = getShader(gl, \"shader-tex-lut-frag\");\n    //    let verts = getShader(gl, \"shader-tex-lut-vert\");\n    let frags = getShader(gl, densityShaders.textureFragmentShader, gl.FRAGMENT_SHADER);\n    let verts = getShader(gl, densityShaders.textureVertexShader, gl.VERTEX_SHADER);\n\n    let program = gl.createProgram();\n    gl.attachShader(program, verts);\n    gl.attachShader(program, frags);\n    gl.linkProgram(program);\n\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        alert(\"Could not initialise shaders\");\n    }\n    gl.useProgram(program);\n    program.vertexAttribute = gl.getAttribLocation(program, \"vertex\");\n    program.texCoordAttribute = gl.getAttribLocation(program, \"texCoord\");\n    //gl.enableVertexAttribArray(program.vertexAttribute);\n    //gl.enableVertexAttribArray(program.texCoordAttribute);\n\n    program.pMatrixUniform = gl.getUniformLocation(program, \"uPMatrix\");\n    program.mvMatrixUniform = gl.getUniformLocation(program, \"uMVMatrix\");\n    program.input_texUniform = gl.getUniformLocation(program, \"input_tex\");\n    program.lut_texUniform = gl.getUniformLocation(program, \"lut_tex\");\n\tprogram.divergingUniform = gl.getUniformLocation(program, \"diverging\");\n    return program;\n}\n\n\nfunction log_it(what) {\n    console.log(what);\n}\n\n\nexport class DensityGL {\n\tconstructor(gl,width,height,qualityScale=0.10) {\n\t\tthis.gl = gl;\n\t\tthis.FBO;\n\t\tthis.lutShader;\n\t\tthis.shaderProgram;\n\t\tthis.mvMatrix;\n\t\tthis.pMatrix;\n\t\tthis.qualityScale=qualityScale;\n\t\tthis._divergingColormap = false;\n\n\n\t\tthis.bandwidth = [5.5, 5.5];\n\t\tthis.bandwidthScale = 5.0;\n\t\tthis.kernel_weightScale = 0.5;\n\n\t\tthis.triangleVertexPositionBuffer;\n\t\tthis.squareVertexPositionBuffer;\n\n\t\tthis.PANEL_TEX_COORDS = [0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0];\n\t\tthis.PANEL_TEX_POS = [0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0];\n\t\tthis.QUAD_POS_BUFFER;\n\t\tthis.QUAD_COORD_BUFFER;\n\t\tthis.LUT_TEX;\n\n\t\t// DATASET Related:\n\t\tthis.DATA = null;\n\t\tthis.kernel_weights = null;\n\n\t\tthis.resize(width,height)\n\n\t\tthis.shaderProgram = createShader(this.gl);\n\t\tthis.lutShader = createShader2Dlut(this.gl);\n\t\tthis.initBuffers();\n\n\t\t// this.gl.clearColor(0.0, 0.0, 0.0, 1.0);\n\t\t// this.gl.clearDepth(1.0)\n\t\t// this.gl.disable(this.gl.DEPTH_TEST);\n\n\t\tthis.setColormap();\n\t}\n\n\n\n\tloadIdentity() {\n\t\tthis.mvMatrix = Matrix.I(4);\n\t}\n\n\tmultMatrix(m) {\n\t\tthis.mvMatrix = this.mvMatrix.x(m);\n\t}\n\n\tmvScale(s) {\n\t\tthis.mvMatrix.elements[0][0] *= s[0];\n\t\tthis.mvMatrix.elements[0][1] *= s[0];\n\t\tthis.mvMatrix.elements[0][2] *= s[0];\n\t\tthis.mvMatrix.elements[0][3] *= s[0];\n\n\t\tthis.mvMatrix.elements[1][0] *= s[1];\n\t\tthis.mvMatrix.elements[1][1] *= s[1];\n\t\tthis.mvMatrix.elements[1][2] *= s[1];\n\t\tthis.mvMatrix.elements[1][3] *= s[1];\n\n\t\tthis.mvMatrix.elements[2][0] *= s[2];\n\t\tthis.mvMatrix.elements[2][1] *= s[2];\n\t\tthis.mvMatrix.elements[2][2] *= s[2];\n\t\tthis.mvMatrix.elements[2][3] *= s[2];\n\t}\n\n\tmvTranslate(v) {\n\t\tvar m = Matrix.Translation($V([v[0], v[1], v[2]])).ensure4x4();\n\t\tthis.multMatrix(m);\n\t}\n\n\tperspective(fovy, aspect, znear, zfar) {\n\t\tthis.pMatrix = makePerspective(fovy, aspect, znear, zfar);\n\t}\n\n\tortho(xmin, xmax, ymin, ymax) {\n\t\tthis.pMatrix = makeOrtho(xmin, xmax, ymin, ymax, -1, 1);\n\t}\n\n\tsetMatrixUniforms(program) {\n\t\tthis.gl.uniformMatrix4fv(program.pMatrixUniform, false, new Float32Array(this.pMatrix.flatten()));\n\t\tthis.gl.uniformMatrix4fv(program.mvMatrixUniform, false, new Float32Array(this.mvMatrix.flatten()));\n\t}\n\n\tinitBuffers() {\n\t\tlet gl = this.gl;\n\t\tthis.triangleVertexPositionBuffer = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.triangleVertexPositionBuffer);\n\t\tvar vertices = [\n\t\t\t0.0, 1.0, 0.0, -1.0, -1.0, 0.0,\n\t\t\t1.0, -1.0, 0.0\n\t\t];\n\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);\n\t\tthis.triangleVertexPositionBuffer.itemSize = 3;\n\t\tthis.triangleVertexPositionBuffer.numItems = 3;\n\n\t\tthis.squareVertexPositionBuffer = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.squareVertexPositionBuffer);\n\t\tvertices = [\n\t\t\t1.0, 1.0, 0.0, -1.0, 1.0, 0.0,\n\t\t\t1.0, -1.0, 0.0, -1.0, -1.0, 0.0\n\t\t];\n\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);\n\t\tthis.squareVertexPositionBuffer.itemSize = 3;\n\t\tthis.squareVertexPositionBuffer.numItems = 4;\n\n\t\tthis.QUAD_POS_BUFFER = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.QUAD_POS_BUFFER);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array(this.PANEL_TEX_POS), gl.STATIC_DRAW);\n\t\tthis.QUAD_POS_BUFFER.itemSize = 2;\n\t\tthis.QUAD_POS_BUFFER.numItems = 6;\n\n\t\tthis.QUAD_COORD_BUFFER = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.QUAD_COORD_BUFFER);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array(this.PANEL_TEX_COORDS), gl.STATIC_DRAW);\n\t\tthis.QUAD_COORD_BUFFER.itemSize = 2;\n\t\tthis.QUAD_COORD_BUFFER.numItems = 6;\n\n\t\tthis.nodesGeometry = glUtils.makePlane(gl, false, false);\n\t\t\n\t}\n\n\n\tdrawScene(projectionMatrix,viewMatrix) {\n\t\tlet w = this.width;\n\t\tlet h = this.height;\n\n\t\tlet gl = this.gl;\n\n\t\tlet ext = gl.getExtension(\"ANGLE_instanced_arrays\");\n\t\t//current framebuffer\n\t\tlet currentFBO = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n\n\t\t//currentViewport\n\t\tlet currentViewport = gl.getParameter(gl.VIEWPORT);\n\n\t\tgl.viewport(0, 0, w*this.qualityScale, h*this.qualityScale);\n\t\tthis.ortho(0, w, h, 0);\n\t\tthis.loadIdentity();\n\n\t\tthis.projectionMatrix = projectionMatrix;\n\t\tthis.viewMatrix = viewMatrix;\n\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.FBO.id);\n\t\tgl.clearColor(0.0, 0.0, 0.0, 1.0);\n\t\tgl.clear(gl.COLOR_BUFFER_BIT);\n\t\tgl.enable(gl.BLEND);\n\t\tgl.blendFunc(gl.ONE, gl.ONE);\n\n\t\tgl.useProgram(this.shaderProgram);\n\t\tthis.setMatrixUniforms(this.shaderProgram);\n\t\t\n\t\t//gl.uniform2f(shaderProgram.bandwidthUniform, bandwidth );\n\t\tgl.uniform1f(this.shaderProgram.bandwidthScaleUniform, this.bandwidthScale);\n\t\t\n\t\t// console.log(this.projectionMatrix)\n\t\tgl.uniformMatrix4fv(this.shaderProgram.viewMatrixUniform,false, this.viewMatrix);\n\t\tgl.uniformMatrix4fv(this.shaderProgram.projectionMatrixUniform, false, this.projectionMatrix)\n\t\tgl.uniform2f(this.shaderProgram.bandwidthUniform, this.bandwidth[0], this.bandwidth[1]);\n\t\tgl.uniform1f(this.shaderProgram.kernel_weightScaleUniform, this.kernel_weightScale);\n\n\t\tgl.enableVertexAttribArray(this.shaderProgram.vertexPositionAttribute);\n\t\tgl.enableVertexAttribArray(this.shaderProgram.vertexKernelWeightAttribute);\n\t\tgl.enableVertexAttribArray(this.shaderProgram.vertexOffsetAttribute);\n\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesGeometry.vertexObject);\n\t\tgl.vertexAttribPointer(this.shaderProgram.vertexOffsetAttribute, 3, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(this.shaderProgram.vertexOffsetAttribute, 0);\n\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.kernelWeightsBuffer);\n\t\tgl.vertexAttribPointer(this.shaderProgram.vertexKernelWeightAttribute, 1, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(this.shaderProgram.vertexKernelWeightAttribute, 1);\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.positionsBuffer);\n\t\tgl.vertexAttribPointer(this.shaderProgram.vertexPositionAttribute, this.positionsBuffer.itemSize, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(this.shaderProgram.vertexPositionAttribute, 1);\n\n\t\t// for (let i = 0; i < this.BUFFER_LIST.length; i += 1) {\n\t\t\t// let buffer = this.BUFFER_LIST[i];\n\n\n\t\t\t\n\t\t\t// gl.drawArrays(gl.TRIANGLES, 0, buffers[0].numItems);\n\t\t\t\n\t\t\t// gl.bindBuffer(gl.ARRAY_BUFFER, buffers[1]);\n\t\t\t// gl.vertexAttribPointer(this.shaderProgram.vertexOffsetAttribute, buffers[1].itemSize, gl.FLOAT, false, 0, 0);\n\t\t\t// gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n\t\t\tif (this.nodesGeometry.indexObject) {\n\t\t\t\text.drawElementsInstancedANGLE(gl.TRIANGLES, this.nodesGeometry.numIndices, this.nodesGeometry.indexType, 0, this.positionsBuffer.numItems);\n\t\t\t} else {\n\t\t\t\text.drawArraysInstancedANGLE(gl.TRIANGLE_STRIP, 0, this.nodesGeometry.numIndices, this.positionsBuffer.numItems);\n\t\t\t}\n\t\t\text.vertexAttribDivisorANGLE(this.shaderProgram.vertexPositionAttribute, 0);\n\t\t\text.vertexAttribDivisorANGLE(this.shaderProgram.vertexKernelWeightAttribute, 0);\n\t\t\t\n\t\t// }\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, currentFBO);\n\t\tgl.disableVertexAttribArray(this.shaderProgram.vertexPositionAttribute);\n\t\tgl.disableVertexAttribArray(this.shaderProgram.vertexKernelWeightAttribute);\n\t\tgl.disableVertexAttribArray(this.shaderProgram.vertexOffsetAttribute);\n\t\tgl.disable(gl.BLEND);\n\t\t\n\t\tgl.viewport(currentViewport[0], currentViewport[1], currentViewport[2], currentViewport[3]);\n\t\t//*\n\t\tgl.activeTexture(gl.TEXTURE0);\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.FBO.tex);\n\t\tgl.activeTexture(gl.TEXTURE1);\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.LUT_TEX);\n\n\t\tgl.useProgram(this.lutShader);\n\t\tgl.enableVertexAttribArray(this.lutShader.vertexAttribute);\n\t\tgl.enableVertexAttribArray(this.lutShader.texCoordAttribute);\n\t\tgl.uniform1i(this.lutShader.input_texUniform, 0);\n\t\tgl.uniform1i(this.lutShader.lut_texUniform, 1);\n\t\tgl.uniform1f(this.lutShader.divergingUniform, +this._divergingColormap);\n\t\tthis.ortho(0, 1, 0, 1);\n\t\tthis.loadIdentity();\n\t\tthis.setMatrixUniforms(this.lutShader);\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.QUAD_POS_BUFFER);\n\t\tgl.vertexAttribPointer(this.lutShader.vertexAttribute, this.QUAD_POS_BUFFER.itemSize, gl.FLOAT, false, 0, 0);\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.QUAD_COORD_BUFFER);\n\t\tgl.vertexAttribPointer(this.lutShader.texCoordAttribute, this.QUAD_COORD_BUFFER.itemSize, gl.FLOAT, false, 0, 0);\n\t\t\n\t\tgl.drawArrays(gl.TRIANGLES, 0, this.QUAD_POS_BUFFER.numItems);\n\t\tgl.disableVertexAttribArray(this.lutShader.vertexAttribute);\n\t\tgl.disableVertexAttribArray(this.lutShader.texCoordAttribute);\n\t\t//*/\n\t}\n\n\tresize(width, height, force = false){\n\t\t// if properties are not the same, resize the canvas\n\t\tif (this.width !== width || this.height !== height || force) {\n\t\t\tif(width>0){\n\t\t\t\tthis.width = width;\n\t\t\t}\n\t\t\tif(height>0){\n\t\t\t\tthis.height = height;\n\t\t\t}\n\t\t\tthis.deleteFBO();\n\t\t\tthis.create_FBO();\n\t\t}\n\t}\n\n\tcreate_FBO() {\n\t\tlet fboWidth = this.width*this.qualityScale;\n\t\tlet fboHeight = this.height*this.qualityScale;\n\t\tlet gl = this.gl;\n\n\t\ttry {\n\t\t\tvar FloatingPointTextureExtensionSupported = gl.getExtension(\"OES_texture_float\");\n\t\t\tvar FloatingPointTextureExtensionSupportedLinear = gl.getExtension(\"OES_texture_float_linear\");\n\t\t} catch (err) {\n\t\t\tvar FloatingPointTextureExtensionSupported = false;\n\t\t\tvar FloatingPointTextureExtensionSupportedLinear = false;\n\t\t}\n\n\t\tlet FBO = {};\n\t\tFBO.id = gl.createFramebuffer();\n\t\tFBO.tex = gl.createTexture();\n\t\tgl.bindTexture(gl.TEXTURE_2D, FBO.tex);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n\t\t//FloatingPointTextureExtensionSupported = false;\n\t\tif (FloatingPointTextureExtensionSupported && FloatingPointTextureExtensionSupportedLinear) {\n\t\t\tlog_it(\"[ OK ] Floating point textures (OES_texture_float) is supported\");\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, fboWidth, fboHeight, 0, gl.RGBA, gl.FLOAT, null);\n\t\t} else {\n\t\t\tlog_it(\"[FAIL] Floating point textures (OES_texture_float) is <B>NOT</B> supported, falling back to 8 bit blending. OES_texture_float is supported in Chrome dev version.\");\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, fboWidth, fboHeight, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\t\t}\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, FBO.id);\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, FBO.tex, 0);\n\n\t\tlet res = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n\t\tif (res == gl.FRAMEBUFFER_COMPLETE)\n\t\t\tlog_it(\"[ OK ] Framebuffer Initialization\");\n\t\telse if (res == gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT)\n\t\t\tlog_it(\"[FAIL] Framebuffer Creation FAIL GL_FRAMEBUFFER_INCOMPLETE_ATTACHMENT <br/> \\\n              Not all framebuffer attachment points are framebuffer attachment complete.\");\n\t\telse if (res == gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS)\n\t\t\tlog_it(\"[FAIL] Framebuffer Creation FAIL GL_FRAMEBUFFER_INCOMPLETE_DIMENSIONS <br/> \\\n              Not all attached images have the same width and height. \");\n\t\telse if (res == gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT)\n\t\t\tlog_it(\"[FAIL] Framebuffer Creation FAIL GL_FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT <br/> No images are attached to the framebuffer. \");\n\t\telse if (res == gl.FRAMEBUFFER_INCOMPLETE_UNSUPPORTED)\n\t\t\tlog_it(\"[FAIL] Framebuffer Creation FAIL GL_FRAMEBUFFER_INCOMPLETE_UNSUPPORTED <br/> The combination of internal formats of the attached images violates an implementation-dependent set of restrictions.\");\n\t\telse if (res == gl.FRAMEBUFFER_UNSUPPORTED)\n\t\t\tlog_it(\"[FAIL] Framebuffer Creation FAIL GL_FRAMEBUFFER_UNSUPPORTED <br/> \\\n            The combination of internal formats of the attached images violates an implementation-dependent set of restrictions.\");\n\t\telse log_it(\"[FAIL] Framebuffer Creation FAIL Unknown Error\");\n\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\tthis.FBO = FBO;\n\t}\n\n\tdeleteFBO() {\n\t\tif(this.FBO){\n\t\t\tlet gl = this.gl;\n\t\t\tgl.deleteFramebuffer(this.FBO.id);\n\t\t\tgl.deleteTexture(this.FBO.tex);\n\t\t}\n\t}\n\n\tsetBandwidth(value) {\n\t\tthis.bandwidthScale = value;\n\t}\n\n\tsetKernelWeightScale(value) {\n\t\tthis.kernel_weightScale = value;\n\t}\n\n\n\tsetColormap(interpolateFunction, colorCount = 0) {\n\t\tself = this;\n\t\tlet gl = this.gl;\n\t\tlet colormapTexture = gl.createTexture();\n\t\tgl.bindTexture(gl.TEXTURE_2D, colormapTexture);\n\t\tif (colorCount <= 0) {\n\t\t\tcolorCount = 1024;\n\t\t}\n\t\tif (!interpolateFunction) {\n\t\t\tinterpolateFunction = d3Chromatic.interpolateInferno;\n\t\t\t// interpolateFunction = d3Chromatic.interpolateCividis;\n\t\t\t// interpolateFunction = d3Chromatic.interpolateGreys;\n\t\t\t// interpolateFunction = d3Chromatic.interpolateGreens;\n\t\t\t\n\t\t}\n\t\tvar colormapValues = new Uint8Array(colorCount * 4);\n\t\tfor (let i = 0; i < colorCount; i++) {\n\t\t\tlet scale = i / (colorCount - 1);\n\t\t\tlet rgbColor = d3rgb(interpolateFunction(scale));\n\n\t\t\tcolormapValues[i * 4 + 0] = rgbColor.r;\n\t\t\tcolormapValues[i * 4 + 1] = rgbColor.g;\n\t\t\tcolormapValues[i * 4 + 2] = rgbColor.b;\n\t\t\tcolormapValues[i * 4 + 3] = 0.1;\n\t\t}\n\n\t\t//gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, img);\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, colorCount, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, colormapValues);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\n\t\tthis.LUT_TEX = colormapTexture;\n\t}\n\n\n\n\tsetData(newData) {\n\t\tthis.DATA = newData;\n\t\tthis.updateTheDatabuffer();\n\n\t}\n\n\tsetWeights(newWeights){\n\t\tthis.kernel_weights = newWeights;\n\t\tthis.updateTheKernelWeightsBuffer();\n\t\t// console.log(newWeights);\n\t}\n\n\n\tupdate_span() {\n\t\tlet xmin,ymin;\n\t\tlet xmax,ymax;\n\t\txmin = ymin = 9999999999999;\n\t\txmax = ymax = -9999999999999;\n\t\tfor (let i = 0; i < this.DATA.length; i += 1) {\n\t\t\tlet x = this.DATA[i][0];\n\t\t\tlet y = this.DATA[i][1];\n\t\t\txmin = Math.min(xmin, x);\n\t\t\txmax = Math.max(xmax, x);\n\t\t\tymin = Math.min(ymin, y);\n\t\t\tymax = Math.max(ymax, y);\n\t\t}\n\t\t//this.bandwidth[0] = (xmax - xmin) * 0.075;\n\t\t//this.bandwidth[1] = (ymax - ymin) * 0.075;\n\t\t// Please excuse this magic 100\n\t\t//this.kernel_weightScale = 100.0 / this.DATA.length;\n\t}\n\n\n\n\tupdateTheDatabuffer() {\n\t\tlet gl = this.gl;\n\n\t\t// var flat_array = [];\n\t\t// for (let i = 0; i < this.DATA.length; i += 1) {\n\t\t// \tlet offset = i * 3;\n\t\t// \tlet offset_offsets = i * 12;\n\t\t// \tflat_array[offset + 0] = this.DATA[i][0];\n\t\t// \tflat_array[offset + 1] = this.DATA[i][1];\n\t\t// \tflat_array[offset + 2] = 0.0;\n\t\t// }\n\n\t\tif(!this.positionsBuffer){\n\t\t\tthis.positionsBuffer = gl.createBuffer();\n\t\t\tthis.positionsBuffer.itemSize = 3;\n\t\t}\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.positionsBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, this.DATA, gl.DYNAMIC_DRAW);\n\t\tthis.positionsBuffer.numItems = this.DATA.length / 3;\n\n\t\t// this.BUFFER_LIST.pop();\n\t\t// this.BUFFER_LIST.push(scatter_vertices);\n\t\tthis.update_span();\n\t}\n\n\n\tupdateTheKernelWeightsBuffer() {\n\t\tlet gl = this.gl;\n\t\t\n\t\tif(!this.kernelWeightsBuffer){\n\t\t\tthis.kernelWeightsBuffer = gl.createBuffer();\n\t\t\tthis.kernelWeightsBuffer.itemSize = 1;\n\t\t}\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.kernelWeightsBuffer);\n\t\t// if\n\t\tgl.bufferData(gl.ARRAY_BUFFER, this.kernel_weights, gl.DYNAMIC_DRAW);\n\t\tthis.kernelWeightsBuffer.numItems = this.kernel_weights.length;\n\n\t\t// this.BUFFER_LIST.pop();\n\t\t// this.BUFFER_LIST.push(scatter_vertices);\n\t\t// this.update_span();\n\t}\n\t\n\tqualityScale(value) {\n\t\t// return quality scale if value is not provided otherwise set the quality scale\n\t\tif (value === undefined) {\n\t\t\treturn this.quality_scale;\n\t\t}\n\t\tif(this.quality_scale!=value){\n\t\t\tthis.quality_scale = value;\n\t\t\tthis.resize(0,0,true);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tdivergingColormap(value) {\n\t\t// return quality scale if value is not provided otherwise set the quality scale\n\t\tif (value === undefined) {\n\t\t\treturn this._divergingColormap;\n\t\t}\n\t\tif(this._divergingColormap!=value){\n\t\t\tthis._divergingColormap = value;\n\t\t\tconsole.log(\"DIVERGING COLORMAP\",value);\n\t\t}\n\t\treturn this;\n\t}\n\n\tcleanup() {\n\t\tlet gl = this.gl;\n\t\tgl.deleteBuffer(this.positionsBuffer);\n\t\tgl.deleteBuffer(this.kernelWeightsBuffer);\n\t\tgl.deleteTexture(this.LUT_TEX);\n\t\tgl.deleteProgram(this.program);\n\t\tgl.deleteFramebuffer(this.framebuffer);\n\t\tgl.deleteRenderbuffer(this.renderbuffer);\n\t\tgl.deleteTexture(this.texture);\n\t\t// gl.deleteVertexArray(this.vao);\n\n\t\tthis.positionsBuffer = null;\n\t\tthis.kernelWeightsBuffer = null;\n\t\tthis.LUT_TEX = null;\n\t\tthis.program = null;\n\t\tthis.framebuffer = null;\n\t\tthis.renderbuffer = null;\n\t\tthis.texture = null;\n\t\t// this.vao = null;\n\n\t\tthis.DATA = null;\n\t\tthis.kernel_weights = null;\n\t\tthis.BUFFER_LIST = null;\n\n\t\tthis.gl = null;\n\t}\n\n}","/**\n * Prints tree horizontally\n * @param  {Node}                       root\n * @param  {Function(node:Node):String} [printNode]\n * @return {String}\n */\nexport function print (root, printNode = (n) => n.key) {\n  var out = [];\n  row(root, '', true, (v) => out.push(v), printNode);\n  return out.join('');\n}\n\n/**\n * Prints level of the tree\n * @param  {Node}                        root\n * @param  {String}                      prefix\n * @param  {Boolean}                     isTail\n * @param  {Function(in:string):void}    out\n * @param  {Function(node:Node):String}  printNode\n */\nfunction row (root, prefix, isTail, out, printNode) {\n  if (root) {\n    out(`${ prefix }${ isTail ? '└── ' : '├── ' }${ printNode(root) }\\n`);\n    const indent = prefix + (isTail ? '    ' : '│   ');\n    if (root.left)  row(root.left,  indent, false, out, printNode);\n    if (root.right) row(root.right, indent, true,  out, printNode);\n  }\n}\n\n/**\n * Is the tree balanced (none of the subtrees differ in height by more than 1)\n * @param  {Node}    root\n * @return {Boolean}\n */\nexport function isBalanced(root) {\n  if (root === null) return true; // If node is empty then return true\n\n  // Get the height of left and right sub trees\n  var lh = height(root.left);\n  var rh = height(root.right);\n\n  if (Math.abs(lh - rh) <= 1 &&\n      isBalanced(root.left)  &&\n      isBalanced(root.right)) return true;\n\n  // If we reach here then tree is not height-balanced\n  return false;\n}\n\n/**\n * The function Compute the 'height' of a tree.\n * Height is the number of nodes along the longest path\n * from the root node down to the farthest leaf node.\n *\n * @param  {Node} node\n * @return {Number}\n */\nfunction height(node) {\n  return node ? (1 + Math.max(height(node.left), height(node.right))) : 0;\n}\n\nexport function loadRecursive (parent, keys, values, start, end) {\n  const size = end - start;\n  if (size > 0) {\n    const middle = start + Math.floor(size / 2);\n    const key    = keys[middle];\n    const data   = values[middle];\n    const node   = { key, data, parent };\n    node.left    = loadRecursive(node, keys, values, start, middle);\n    node.right   = loadRecursive(node, keys, values, middle + 1, end);\n    return node;\n  }\n  return null;\n}\n\nexport function markBalance(node) {\n  if (node === null) return 0;\n  const lh = markBalance(node.left);\n  const rh = markBalance(node.right);\n\n  node.balanceFactor = lh - rh;\n  return Math.max(lh, rh) + 1;\n}\n\nexport function sort(keys, values, left, right, compare) {\n  if (left >= right) return;\n\n  // eslint-disable-next-line no-bitwise\n  const pivot = keys[(left + right) >> 1];\n  let i = left - 1;\n  let j = right + 1;\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    do i++; while (compare(keys[i], pivot) < 0);\n    do j--; while (compare(keys[j], pivot) > 0);\n    if (i >= j) break;\n\n    let tmp = keys[i];\n    keys[i] = keys[j];\n    keys[j] = tmp;\n\n    tmp = values[i];\n    values[i] = values[j];\n    values[j] = tmp;\n  }\n\n  sort(keys, values,  left,     j, compare);\n  sort(keys, values, j + 1, right, compare);\n}\n","import { print, isBalanced, loadRecursive, markBalance, sort } from './utils';\n\n// function createNode (parent, left, right, height, key, data) {\n//   return { parent, left, right, balanceFactor: height, key, data };\n// }\n\n/**\n * @typedef {{\n *   parent:        ?Node,\n *   left:          ?Node,\n *   right:         ?Node,\n *   balanceFactor: number,\n *   key:           Key,\n *   data:          Value\n * }} Node\n */\n\n/**\n * @typedef {*} Key\n */\n\n/**\n * @typedef {*} Value\n */\n\n/**\n * Default comparison function\n * @param {Key} a\n * @param {Key} b\n * @returns {number}\n */\nfunction DEFAULT_COMPARE (a, b) { return a > b ? 1 : a < b ? -1 : 0; }\n\n/**\n * Single left rotation\n * @param  {Node} node\n * @return {Node}\n */\nfunction rotateLeft (node) {\n  var rightNode = node.right;\n  node.right    = rightNode.left;\n\n  if (rightNode.left) rightNode.left.parent = node;\n\n  rightNode.parent = node.parent;\n  if (rightNode.parent) {\n    if (rightNode.parent.left === node) {\n      rightNode.parent.left = rightNode;\n    } else {\n      rightNode.parent.right = rightNode;\n    }\n  }\n\n  node.parent    = rightNode;\n  rightNode.left = node;\n\n  node.balanceFactor += 1;\n  if (rightNode.balanceFactor < 0) {\n    node.balanceFactor -= rightNode.balanceFactor;\n  }\n\n  rightNode.balanceFactor += 1;\n  if (node.balanceFactor > 0) {\n    rightNode.balanceFactor += node.balanceFactor;\n  }\n  return rightNode;\n}\n\nfunction rotateRight (node) {\n  var leftNode = node.left;\n  node.left = leftNode.right;\n  if (node.left) node.left.parent = node;\n\n  leftNode.parent = node.parent;\n  if (leftNode.parent) {\n    if (leftNode.parent.left === node) {\n      leftNode.parent.left = leftNode;\n    } else {\n      leftNode.parent.right = leftNode;\n    }\n  }\n\n  node.parent    = leftNode;\n  leftNode.right = node;\n\n  node.balanceFactor -= 1;\n  if (leftNode.balanceFactor > 0) {\n    node.balanceFactor -= leftNode.balanceFactor;\n  }\n\n  leftNode.balanceFactor -= 1;\n  if (node.balanceFactor < 0) {\n    leftNode.balanceFactor += node.balanceFactor;\n  }\n\n  return leftNode;\n}\n\n// function leftBalance (node) {\n//   if (node.left.balanceFactor === -1) rotateLeft(node.left);\n//   return rotateRight(node);\n// }\n\n// function rightBalance (node) {\n//   if (node.right.balanceFactor === 1) rotateRight(node.right);\n//   return rotateLeft(node);\n// }\n\nexport default class AVLTree {\n  /**\n   * Callback for comparator\n   * @callback comparatorCallback\n   * @param {Key} a\n   * @param {Key} b\n   * @returns {number}\n   */\n\n  /**\n   * @class AVLTree\n   * @constructor\n   * @param  {comparatorCallback} [comparator]\n   * @param  {boolean}            [noDuplicates=false] Disallow duplicates\n   */\n  constructor (comparator, noDuplicates = false) {\n    this._comparator = comparator || DEFAULT_COMPARE;\n    this._root = null;\n    this._size = 0;\n    this._noDuplicates = !!noDuplicates;\n  }\n\n  /**\n   * Clear the tree\n   * @return {AVLTree}\n   */\n  destroy() {\n    return this.clear();\n  }\n\n  /**\n   * Clear the tree\n   * @return {AVLTree}\n   */\n  clear() {\n    this._root = null;\n    this._size = 0;\n    return this;\n  }\n\n  /**\n   * Number of nodes\n   * @return {number}\n   */\n  get size () {\n    return this._size;\n  }\n\n  /**\n   * Whether the tree contains a node with the given key\n   * @param  {Key} key\n   * @return {boolean} true/false\n   */\n  contains (key) {\n    if (this._root)  {\n      var node       = this._root;\n      var comparator = this._comparator;\n      while (node)  {\n        var cmp = comparator(key, node.key);\n        if      (cmp === 0) return true;\n        else if (cmp < 0)   node = node.left;\n        else                node = node.right;\n      }\n    }\n    return false;\n  }\n\n  /* eslint-disable class-methods-use-this */\n\n  /**\n   * Successor node\n   * @param  {Node} node\n   * @return {?Node}\n   */\n  next (node) {\n    var successor = node;\n    if (successor) {\n      if (successor.right) {\n        successor = successor.right;\n        while (successor.left) successor = successor.left;\n      } else {\n        successor = node.parent;\n        while (successor && successor.right === node) {\n          node = successor; successor = successor.parent;\n        }\n      }\n    }\n    return successor;\n  }\n\n  /**\n   * Predecessor node\n   * @param  {Node} node\n   * @return {?Node}\n   */\n  prev (node) {\n    var predecessor = node;\n    if (predecessor) {\n      if (predecessor.left) {\n        predecessor = predecessor.left;\n        while (predecessor.right) predecessor = predecessor.right;\n      } else {\n        predecessor = node.parent;\n        while (predecessor && predecessor.left === node) {\n          node = predecessor;\n          predecessor = predecessor.parent;\n        }\n      }\n    }\n    return predecessor;\n  }\n  /* eslint-enable class-methods-use-this */\n\n  /**\n   * Callback for forEach\n   * @callback forEachCallback\n   * @param {Node} node\n   * @param {number} index\n   */\n\n  /**\n   * @param  {forEachCallback} callback\n   * @return {AVLTree}\n   */\n  forEach(callback) {\n    var current = this._root;\n    var s = [], done = false, i = 0;\n\n    while (!done) {\n      // Reach the left most Node of the current Node\n      if (current) {\n        // Place pointer to a tree node on the stack\n        // before traversing the node's left subtree\n        s.push(current);\n        current = current.left;\n      } else {\n        // BackTrack from the empty subtree and visit the Node\n        // at the top of the stack; however, if the stack is\n        // empty you are done\n        if (s.length > 0) {\n          current = s.pop();\n          callback(current, i++);\n\n          // We have visited the node and its left\n          // subtree. Now, it's right subtree's turn\n          current = current.right;\n        } else done = true;\n      }\n    }\n    return this;\n  }\n\n  /**\n   * Walk key range from `low` to `high`. Stops if `fn` returns a value.\n   * @param  {Key}      low\n   * @param  {Key}      high\n   * @param  {Function} fn\n   * @param  {*?}       ctx\n   * @return {SplayTree}\n   */\n  range(low, high, fn, ctx) {\n    const Q = [];\n    const compare = this._comparator;\n    let node = this._root, cmp;\n\n    while (Q.length !== 0 || node) {\n      if (node) {\n        Q.push(node);\n        node = node.left;\n      } else {\n        node = Q.pop();\n        cmp = compare(node.key, high);\n        if (cmp > 0) {\n          break;\n        } else if (compare(node.key, low) >= 0) {\n          if (fn.call(ctx, node)) return this; // stop if smth is returned\n        }\n        node = node.right;\n      }\n    }\n    return this;\n  }\n\n  /**\n   * Returns all keys in order\n   * @return {Array<Key>}\n   */\n  keys () {\n    var current = this._root;\n    var s = [], r = [], done = false;\n\n    while (!done) {\n      if (current) {\n        s.push(current);\n        current = current.left;\n      } else {\n        if (s.length > 0) {\n          current = s.pop();\n          r.push(current.key);\n          current = current.right;\n        } else done = true;\n      }\n    }\n    return r;\n  }\n\n  /**\n   * Returns `data` fields of all nodes in order.\n   * @return {Array<Value>}\n   */\n  values () {\n    var current = this._root;\n    var s = [], r = [], done = false;\n\n    while (!done) {\n      if (current) {\n        s.push(current);\n        current = current.left;\n      } else {\n        if (s.length > 0) {\n          current = s.pop();\n          r.push(current.data);\n          current = current.right;\n        } else done = true;\n      }\n    }\n    return r;\n  }\n\n  /**\n   * Returns node at given index\n   * @param  {number} index\n   * @return {?Node}\n   */\n  at (index) {\n    // removed after a consideration, more misleading than useful\n    // index = index % this.size;\n    // if (index < 0) index = this.size - index;\n\n    var current = this._root;\n    var s = [], done = false, i = 0;\n\n    while (!done) {\n      if (current) {\n        s.push(current);\n        current = current.left;\n      } else {\n        if (s.length > 0) {\n          current = s.pop();\n          if (i === index) return current;\n          i++;\n          current = current.right;\n        } else done = true;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Returns node with the minimum key\n   * @return {?Node}\n   */\n  minNode () {\n    var node = this._root;\n    if (!node) return null;\n    while (node.left) node = node.left;\n    return node;\n  }\n\n  /**\n   * Returns node with the max key\n   * @return {?Node}\n   */\n  maxNode () {\n    var node = this._root;\n    if (!node) return null;\n    while (node.right) node = node.right;\n    return node;\n  }\n\n  /**\n   * Min key\n   * @return {?Key}\n   */\n  min () {\n    var node = this._root;\n    if (!node) return null;\n    while (node.left) node = node.left;\n    return node.key;\n  }\n\n  /**\n   * Max key\n   * @return {?Key}\n   */\n  max () {\n    var node = this._root;\n    if (!node) return null;\n    while (node.right) node = node.right;\n    return node.key;\n  }\n\n  /**\n   * @return {boolean} true/false\n   */\n  isEmpty() {\n    return !this._root;\n  }\n\n  /**\n   * Removes and returns the node with smallest key\n   * @return {?Node}\n   */\n  pop () {\n    var node = this._root, returnValue = null;\n    if (node) {\n      while (node.left) node = node.left;\n      returnValue = { key: node.key, data: node.data };\n      this.remove(node.key);\n    }\n    return returnValue;\n  }\n\n  /**\n   * Removes and returns the node with highest key\n   * @return {?Node}\n   */\n  popMax () {\n    var node = this._root, returnValue = null;\n    if (node) {\n      while (node.right) node = node.right;\n      returnValue = { key: node.key, data: node.data };\n      this.remove(node.key);\n    }\n    return returnValue;\n  }\n\n  /**\n   * Find node by key\n   * @param  {Key} key\n   * @return {?Node}\n   */\n  find (key) {\n    var root = this._root;\n    // if (root === null)    return null;\n    // if (key === root.key) return root;\n\n    var subtree = root, cmp;\n    var compare = this._comparator;\n    while (subtree) {\n      cmp = compare(key, subtree.key);\n      if      (cmp === 0) return subtree;\n      else if (cmp < 0)   subtree = subtree.left;\n      else                subtree = subtree.right;\n    }\n\n    return null;\n  }\n\n  /**\n   * Insert a node into the tree\n   * @param  {Key} key\n   * @param  {Value} [data]\n   * @return {?Node}\n   */\n  insert (key, data) {\n    if (!this._root) {\n      this._root = {\n        parent: null, left: null, right: null, balanceFactor: 0,\n        key, data\n      };\n      this._size++;\n      return this._root;\n    }\n\n    var compare = this._comparator;\n    var node    = this._root;\n    var parent  = null;\n    var cmp     = 0;\n\n    if (this._noDuplicates) {\n      while (node) {\n        cmp = compare(key, node.key);\n        parent = node;\n        if      (cmp === 0) return null;\n        else if (cmp < 0)   node = node.left;\n        else                node = node.right;\n      }\n    } else {\n      while (node) {\n        cmp = compare(key, node.key);\n        parent = node;\n        if      (cmp <= 0)  node = node.left; //return null;\n        else                node = node.right;\n      }\n    }\n\n    var newNode = {\n      left: null,\n      right: null,\n      balanceFactor: 0,\n      parent, key, data\n    };\n    var newRoot;\n    if (cmp <= 0) parent.left  = newNode;\n    else         parent.right = newNode;\n\n    while (parent) {\n      cmp = compare(parent.key, key);\n      if (cmp < 0) parent.balanceFactor -= 1;\n      else         parent.balanceFactor += 1;\n\n      if        (parent.balanceFactor === 0) break;\n      else if   (parent.balanceFactor < -1) {\n        // inlined\n        //var newRoot = rightBalance(parent);\n        if (parent.right.balanceFactor === 1) rotateRight(parent.right);\n        newRoot = rotateLeft(parent);\n\n        if (parent === this._root) this._root = newRoot;\n        break;\n      } else if (parent.balanceFactor > 1) {\n        // inlined\n        // var newRoot = leftBalance(parent);\n        if (parent.left.balanceFactor === -1) rotateLeft(parent.left);\n        newRoot = rotateRight(parent);\n\n        if (parent === this._root) this._root = newRoot;\n        break;\n      }\n      parent = parent.parent;\n    }\n\n    this._size++;\n    return newNode;\n  }\n\n  /**\n   * Removes the node from the tree. If not found, returns null.\n   * @param  {Key} key\n   * @return {?Node}\n   */\n  remove (key) {\n    if (!this._root) return null;\n\n    var node = this._root;\n    var compare = this._comparator;\n    var cmp = 0;\n\n    while (node) {\n      cmp = compare(key, node.key);\n      if      (cmp === 0) break;\n      else if (cmp < 0)   node = node.left;\n      else                node = node.right;\n    }\n    if (!node) return null;\n\n    var returnValue = node.key;\n    var max, min;\n\n    if (node.left) {\n      max = node.left;\n\n      while (max.left || max.right) {\n        while (max.right) max = max.right;\n\n        node.key = max.key;\n        node.data = max.data;\n        if (max.left) {\n          node = max;\n          max = max.left;\n        }\n      }\n\n      node.key  = max.key;\n      node.data = max.data;\n      node = max;\n    }\n\n    if (node.right) {\n      min = node.right;\n\n      while (min.left || min.right) {\n        while (min.left) min = min.left;\n\n        node.key  = min.key;\n        node.data = min.data;\n        if (min.right) {\n          node = min;\n          min = min.right;\n        }\n      }\n\n      node.key  = min.key;\n      node.data = min.data;\n      node = min;\n    }\n\n    var parent = node.parent;\n    var pp     = node;\n    var newRoot;\n\n    while (parent) {\n      if (parent.left === pp) parent.balanceFactor -= 1;\n      else                    parent.balanceFactor += 1;\n\n      if        (parent.balanceFactor < -1) {\n        // inlined\n        //var newRoot = rightBalance(parent);\n        if (parent.right.balanceFactor === 1) rotateRight(parent.right);\n        newRoot = rotateLeft(parent);\n\n        if (parent === this._root) this._root = newRoot;\n        parent = newRoot;\n      } else if (parent.balanceFactor > 1) {\n        // inlined\n        // var newRoot = leftBalance(parent);\n        if (parent.left.balanceFactor === -1) rotateLeft(parent.left);\n        newRoot = rotateRight(parent);\n\n        if (parent === this._root) this._root = newRoot;\n        parent = newRoot;\n      }\n\n      if (parent.balanceFactor === -1 || parent.balanceFactor === 1) break;\n\n      pp     = parent;\n      parent = parent.parent;\n    }\n\n    if (node.parent) {\n      if (node.parent.left === node) node.parent.left  = null;\n      else                           node.parent.right = null;\n    }\n\n    if (node === this._root) this._root = null;\n\n    this._size--;\n    return returnValue;\n  }\n\n  /**\n   * Bulk-load items\n   * @param  {Array<Key>}  keys\n   * @param  {Array<Value>}  [values]\n   * @return {AVLTree}\n   */\n  load(keys = [], values = [], presort) {\n    if (this._size !== 0) throw new Error('bulk-load: tree is not empty');\n    const size = keys.length;\n    if (presort) sort(keys, values, 0, size - 1, this._comparator);\n    this._root = loadRecursive(null, keys, values, 0, size);\n    markBalance(this._root);\n    this._size = size;\n    return this;\n  }\n\n  /**\n   * Returns true if the tree is balanced\n   * @return {boolean}\n   */\n  isBalanced() {\n    return isBalanced(this._root);\n  }\n\n  /**\n   * String representation of the tree - primitive horizontal print-out\n   * @param  {Function(Node):string} [printNode]\n   * @return {string}\n   */\n  toString (printNode) {\n    return print(this._root, printNode);\n  }\n}\n\nAVLTree.default = AVLTree;\n","\nimport {default as AVLTree} from \"avl\";\n\n\nexport class SortedValueMap {\n\n\tconstructor(ascending = true) {\n\n\t\tthis.map = new Map();\n\t\tthis.ascending = ascending;\n\n\n\t\tif (this.ascending) {\n\t\t\tthis.tree = new AVLTree((a, b) => {\n\t\t\t\tif (a.key === b.key) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tif (a.value === b.value) {\n\t\t\t\t\treturn a.key < b.key ? -1 : 1;\n\t\t\t\t}\n\t\t\t\treturn a.value - b.value;\n\t\t\t});\n\t\t}else{\n\t\t\tthis.tree = new AVLTree((a, b) => {\n\t\t\t\tif (a.key === b.key) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tif (a.value === b.value) {\n\t\t\t\t\treturn a.key < b.key ? -1 : 1;\n\t\t\t\t}\n\t\t\t\treturn b.value - a.value;\n\t\t\t});\n\t\t}\n\t}\n\n\n\tset(key, value) {\n\t\tif (this.map.has(key)) {\n\t\t\tconst oldValue = this.map.get(key);\n\t\t\tthis.tree.remove({ key, value: oldValue });\n\t\t}\n\t\tthis.map.set(key, value);\n\t\tthis.tree.insert({ key, value });\n\t}\n\n\n\tdelete(key) {\n\t\tif(this.map.has(key)){\n\t\t\tconst value = this.map.get(key);\n\t\t\tthis.map.delete(key);\n\t\t\tthis.tree.remove({ key, value });\n\t\t}\n\t}\n\n\n\tget(key) {\n\t\treturn this.map.get(key);\n\t}\n\n\n\tgetSortedKeys() {\n\t\treturn this.tree.keys().map(node => node.key);\n\t}\n\n\tgetSortedPairs() {\n\t\treturn this.tree.keys().map(node => [node.key, node.value]);\n\t}\n}\n\n","\nimport * as d3Ease from \"d3-ease\";\nimport { select as d3Select } from \"d3-selection\";\nimport { zoom as d3Zoom, zoomIdentity as d3ZoomIdentity } from \"d3-zoom\";\nimport * as glm from \"gl-matrix\";\nimport * as glUtils from \"../utilities/webgl.js\";\nimport { Network } from \"./Network.js\";\nimport { HeliosScheduler } from \"./Scheduler.js\";\n// import { drag as d3Drag } from \"d3-drag\";\n// import { default as createGraph } from \"ngraph.graph\"\n// import { default as createLayout } from \"ngraph.forcelayout\"\nimport { default as Pica } from \"pica\";\nimport { layoutWorker as d3ForceLayoutWorker } from \"../layouts/d3force3dLayoutWorker.js\";\nimport * as edgesShaders from \"../shaders/edges.js\";\nimport * as nodesShaders from \"../shaders/nodes.js\";\nimport { DensityGL } from \"../utilities/densityGL.js\";\nimport { SortedValueMap } from \"../utilities/SortedMap.js\";\n\n\nlet isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n// throttle function\nfunction _throttle(cb, delay = 250) {\n\tlet shouldWait = false\n\n\treturn (...args) => {\n\t\tif (shouldWait) return\n\n\t\tcb(...args)\n\t\tshouldWait = true\n\t\tsetTimeout(() => {\n\t\t\tshouldWait = false\n\t\t}, delay)\n\t}\n}\n\n/**\n * Helios object controls the network visualization visual parameters and layout\n */\nexport class Helios {\n\t// the class constructor\n\t/**\n\t * constructor description\n\t * @param {Object} config - The configuration object\n\t * @param {string} [config.elementID=\"helios\"] - The ID of the element to attach the canvas to\n\t * @param {boolean} [config.density=false] - Whether to display the density\n\t * @param {Object} [config.nodes={}] - The nodes object. should be a dictionary of node IDs and node attributes.\n\t * \t\t@see {@link Network#addNodes}\n\t * @param {Object[]} [config.edges=[]] - The edges array of objects. Each object should have source and target attributes.\n\t * \t\t@see {@link Network#addEdges}\n\t * @param {Network} [network=null] - Alternavely, a network object can be passed directly. If this is the case, the nodes and edges parameters are ignored.\n\t * \t\t@see {@link Network}\n\t * @param {boolean} [config.use2D=false] - Whether to use 2D mode\n\t * @param {boolean} [config.orthographic=false] - Whether to use orthographic projection instead of perspective\n\t * @param {boolean} [config.hyperbolic=false] - Whether to use hyperbolic mode\n\t * @param {boolean} [config.fastEdges=false] - Whether to use fast edges (edges have always 1 pixel width)\n\t * @param {boolean} [config.forceSupersample=false] - Whether to force supersampling (improves quality of the render even for high density displays)\n\t * @param {boolean} [config.autoStartLayout=true] - Whether to start the layout automatically\n\t * @param {boolean} [config.autoCleanup=true] - Whether to automatically cleanup helios if canvas or element is removed (useful for react and vue)\n\t * @param {Object} [config.webglOptions=defaults] - The webgl options object. See {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext|getContext} for more information.\n\t * Defaults to \n\t * \n\t * \t{\n\t * \t\tantialias: true,\n\t * \t\tpowerPreference: \"high-performance\",\n\t * \t\tdesynchronized: true,\n\t * \t}\n\t * \n\t * \n\t * @example <caption>Example usage of the constructor.</caption>\n\t * // create a new helios object\n\t * let helios = new Helios({\n\t * \telementID: \"helios\",\n\t * \tnodes: {\n\t * \t\t\"0\": {label: \"Node 0\"},\n\t * \t\t\"1\": {label: \"Node 1\"},\n\t * \t\t\"2\": {label: \"Node 2\"},\n\t * \t\t\"3\": {label: \"Node 3\"},\n\t * \t},\n\t * \tedges: [\n\t * \t\t{source: \"0\", target: \"1\"},\n\t * \t\t{source: \"1\", target: \"2\"},\n\t * \t\t{source: \"2\", target: \"3\"},\n\t * \t\t{source: \"3\", target: \"0\"},\n\t * \t],\n\t * });\n\t * \n\t*/\n\tconstructor({\n\t\telement = null,\n\t\telementID = null,\n\t\tdensity = false,\n\t\tnodes = {},\n\t\tedges = [],\n\t\tnetwork = null,\n\t\tuse2D = false,\n\t\torthographic = false,\n\t\thyperbolic = false,\n\t\tfastEdges = false,\n\t\ttracking = true,\n\t\tfieldOfView = 70,\n\t\tforceSupersample = false,\n\t\tautoStartLayout = true,\n\t\tautoCleanup = true, // cleanup helios if canvas or element is removed\n\t\twebglOptions = {},\n\t}) {\n\n\t\t/** @readonly */\n\t\tthis.element = null\n\t\tif (element == null) {\n\t\t\tthis.element = document.getElementById(elementID);\n\t\t} else {\n\t\t\tthis.element = element;\n\t\t}\n\t\tthis.element.innerHTML = '';\n\t\tconst containerPosition = getComputedStyle(this.element).position;\n\n\t\tif (containerPosition === 'static') {\n\t\t\tthis.container.style.position = 'relative';\n\t\t}\n\n\t\t/** @readonly */\n\t\tthis.canvasElement = document.createElement(\"canvas\");\n\t\t// make the canvas element fill the parent element\n\t\tthis.canvasElement.style.position = 'absolute';\n\t\tthis.canvasElement.style.width = '100%';\n\t\tthis.canvasElement.style.height = '100%';\n\t\tthis.canvasElement.style.display = 'block';\n\t\tthis.canvasElement.style.boxSizing = 'border-box';\n\t\tthis.element.appendChild(this.canvasElement);\n\n\t\tthis.svgLayer = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\t\t//SVG that takes the entire space of the canvas\n\t\tthis.svgLayer.style.position = 'absolute';\n\t\tthis.svgLayer.style.width = '100%';\n\t\tthis.svgLayer.style.height = '100%';\n\t\tthis.svgLayer.style.display = 'block';\n\t\tthis.svgLayer.style.boxSizing = 'border-box';\n\t\tthis.svgLayer.style.pointerEvents = 'none';\n\t\t// Do I need to setup the svg bounds?\n\t\tthis.element.appendChild(this.svgLayer);\n\n\t\tthis._canvasMargins = {\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t}\n\n\t\tthis.overlay = document.createElement(\"div\");\n\t\tthis.overlay.style.position = 'absolute';\n\t\tthis.overlay.style.width = '100%';\n\t\tthis.overlay.style.height = '100%';\n\t\tthis.overlay.style.display = 'block';\n\t\tthis.overlay.style.boxSizing = 'border-box';\n\t\tthis.overlay.style.pointerEvents = 'none';\n\t\tthis.element.appendChild(this.overlay);\n\n\t\t\n\t\t/**\n\t\t * @public \n\t\t * @readonly\n\t\t * @type {Network}\n\t\t * @description The network object\n\t\t * @example<caption>Example usage of the network object.</caption>\n\t\t * // get the network object\n\t\t * let network = helios.network;\n\t\t * \n\t\t */\n\t\tif(network == null) {\n\t\t\tthis.network = new Network(nodes, edges);\n\t\t} else {\n\t\t\tthis.network = network;\n\t\t}\n\n\t\tthis._autoCleanup = autoCleanup;\n\t\tthis._hasCleanup = false;\n\n\t\tthis.rotationMatrix = glm.mat4.create();\n\n\t\tthis.translatePosition = glm.vec3.create();\n\t\tthis.lastTranslatePosition = glm.vec3.create();\n\t\tthis.targetTranslatePosition = glm.vec3.create();\n\n\t\tthis.lastPanX = 0;\n\t\tthis.lastPanY = 0;\n\t\tthis.panX = 0;\n\t\tthis.panY = 0;\n\t\tthis._fieldOfView = fieldOfView;\n\t\tthis.targetPanX = 0;\n\t\tthis.targetPanY = 0;\n\n\t\tthis.translateTime = 0;\n\t\tthis.translateDuration = 0;\n\t\tthis.mouseDown = false;\n\t\tthis.lastMouseX = null;\n\t\tthis.lastMouseY = null;\n\t\tthis.redrawingFromMouseWheelEvent = false;\n\t\tthis.fastEdges = fastEdges;\n\t\tthis.animate = false;\n\t\tthis.useShadedNodes = false;\n\t\tthis.forceSupersample = forceSupersample;\n\t\tthis.cameraDistance = 500;\n\t\tthis.interacting = false;\n\t\tthis.rotateLinearX = 0;\n\t\tthis.rotateLinearY = 0;\n\n\n\t\tthis.saveResolutionRatio = 1.0;\n\t\tthis.pickingResolutionRatio = 0.25;\n\t\tthis._trackingMaxPixels = 20000;\n\t\tthis._trackingBufferEnabled = tracking;\n\t\tthis._trackingBuffer = null;\n\t\tthis._trackingBufferTexture = null;\n\t\tthis._trackingBufferPixels = null;\n\t\tthis._attributeTrackers = {};\n\t\tthis._trackingNodeDataMinimumUpdateInterval = 200;\n\t\tthis._trackingNodeMinimumUpdateInterval = 1000 / 30;\n\n\n\t\tthis._updateTrackerNodesDataThrottle = _throttle(() => {\n\t\t\tthis._updateTrackerNodesData();\n\t\t}, this._trackingNodeDataMinimumUpdateInterval);\n\n\t\tthis._lastCanvasDimensions = [this.canvasElement.clientWidth, this.canvasElement.clientHeight];\n\n\t\tthis._zoomFactor = 1;\n\t\tthis._semanticZoomExponent = 0.25;\n\t\tthis._nodesGlobalOpacityScale = 1.0;\n\t\tthis._nodesGlobalOpacityBase = 0.0;\n\n\t\tthis._nodesGlobalSizeScale = 1.0;\n\t\tthis._nodesGlobalSizeBase = 0.0;\n\n\t\tthis._edgesGlobalOpacityScale = 1.0;\n\t\tthis._edgesGlobalOpacityBase = 0.0;\n\n\t\tthis._edgesGlobalWidthScale = 0.25;\n\t\tthis._edgesGlobalWidthBase = 0.0;\n\n\t\tthis._nodesGlobalOutlineWidthScale = 1.0;\n\t\tthis._nodesGlobalOutlineWidthBase = 0.0;\n\n\t\tthis._edgesColorsFromNodes = true;\n\t\tthis._edgesWidthFromNodes = true;\n\n\t\tthis._backgroundColor = [0.5, 0.5, 0.5, 1.0];\n\n\t\tthis._use2D = use2D || hyperbolic;\n\t\tthis._orthographic = orthographic || use2D;\n\t\tthis._hyperbolic = hyperbolic;\n\t\tthis._autoStartLayout = autoStartLayout;\n\t\tthis.useAdditiveBlending = false;\n\t\tthis._pickeableEdges = new Set();\n\t\tthis.scheduler = new HeliosScheduler(this, { throttle: false });\n\t\tthis._webglOptions = webglOptions;\n\n\t\tif (this._use2D) {\n\t\t\tfor (let vertexIndex = 0; vertexIndex < this.network.positions.length; vertexIndex++) {\n\t\t\t\tthis.network.positions[vertexIndex * 3 + 2] = 0;\n\t\t\t}\n\t\t}\n\n\t\tthis._edgeIndicesUpdate = true;\n\n\t\tglm.mat4.identity(this.rotationMatrix);\n\t\tthis.gl = glUtils.createWebGLContext(this.canvasElement, this._webglOptions);\n\n\t\tif (density) {\n\t\t\tthis.densityMap = new DensityGL(this.gl, this.canvasElement.clientWidth, this.canvasElement.clientHeight);\n\t\t\tthis.densityMap.setBandwidth(10);\n\t\t\tthis.densityMap.setKernelWeightScale(0.01);\n\t\t\tthis.densityPlot = true;\n\t\t}\n\n\t\tthis._centerNodes = [];\n\t\tthis._centerNodesTransition = null;\n\n\n\t\tthis.onNodeClickCallback = null;\n\t\tthis.onNodeDoubleClickCallback = null;\n\t\tthis.onNodeHoverStartCallback = null;\n\t\tthis.onNodeHoverMoveCallback = null;\n\t\tthis.onNodeHoverEndCallback = null;\n\n\t\tthis.onEdgeClickCallback = null;\n\t\tthis.onEdgeDoubleClickCallback = null;\n\t\tthis.onEdgeHoverStartCallback = null;\n\t\tthis.onEdgeHoverMoveCallback = null;\n\t\tthis.onEdgeHoverEndCallback = null;\n\n\n\t\tthis.onZoomCallback = null;\n\t\tthis.onRotationCallback = null;\n\t\tthis.onResizeCallback = null;\n\t\tthis.onLayoutStartCallback = null;\n\t\tthis.onLayoutStopCallback = null;\n\t\tthis.onDrawCallback = null;\n\t\tthis.onReadyCallback = null;\n\t\tthis.onCleanupCallback = null;\n\t\tthis._isReady = false;\n\n\n\n\t\tthis._onresizeEvent = (entries) => {\n\t\t\tif (this.canvasElement) {\n\t\t\t\tfor (let entry of entries) {\n\t\t\t\t\tthis._willResizeEvent(entry);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.resizeObserver = new ResizeObserver(this._onresizeEvent);\n\t\tthis.resizeObserver.observe(this.canvasElement);\n\n\n\t\tthis._initialize();\n\t}\n\n\n\t// d3-like function Set/Get\n\t//zoom()\n\t//rotate()\n\t//pan()\n\t//highlightNodes()\n\t//centerNode()\n\n\n\t/** Initialize the webgl context \n\t * @private\n\t * @method _initialize\n\t * @memberof Helios\n\t * @instance\n\t * \n\t*/\n\t_initialize() {\n\t\tthis._setupDensity();\n\t\tthis._setupShaders();\n\t\tthis._buildNodesGeometry();\n\t\tthis._buildPickingBuffers();\n\t\tthis._buildTrackingBuffers();\n\t\tthis._buildEdgesGeometry();\n\t\tthis._willResizeEvent(0);\n\n\t\tthis._setupCamera();\n\t\tthis._setupEvents();\n\t\tthis._setupLayout();\n\t\tthis.scheduler.start();\n\t\tthis.onReadyCallback?.(this);\n\t\t// this.redraw();\n\t\tthis.onReadyCallback = null;\n\n\t\tthis._isReady = true;\n\t}\n\n\t/** Setup the layout worker\n\t * @private\n\t * @method _setupLayout\n\t * @memberof Helios\n\t * @instance\n\t */\n\t_setupLayout() {\n\t\tthis._layoutLastUpdate = null;\n\t\tthis._alpha = 0.001;\n\t\t// this.layoutWorker = new Worker(new URL('../layouts/ngraphLayoutWorker.js', import.meta.url));\n\t\t// this.layoutWorker = new Worker(new URL('../layouts/d3force3dLayoutWorker.js', import.meta.url));\n\t\tthis.newPositions = this.network.positions.slice(0);\n\t\tlet onlayoutUpdate = (data) => {\n\t\t\tthis.newPositions = data.positions;\n\t\t\tif (!this._layoutLastUpdate) {\n\t\t\t\tthis._layoutLastUpdate = performance.now();\n\t\t\t}\n\t\t\tlet layoutElapsedTime = performance.now() - this._layoutLastUpdate;\n\t\t\tif (layoutElapsedTime < 200) {\n\t\t\t\tlayoutElapsedTime = 200;\n\t\t\t} else if (layoutElapsedTime > 2500) {\n\t\t\t\tlayoutElapsedTime = 2500;\n\t\t\t}\n\n\t\t\tthis._alpha = 1.0 / layoutElapsedTime;\n\n\t\t\tlet interpolatorTask = {\n\t\t\t\tname: \"1.1.positionInterpolator\",\n\t\t\t\tcallback: (elapsedTime, task) => {\n\t\t\t\t\tlet maxDisplacement = 0;\n\t\t\t\t\tconst alpha = this._alpha;\n\t\t\t\t\tconst positionsLength = this.network.positions.length;\n\t\t\t\t\tconst newPositions = this.newPositions;\n\t\t\t\t\tconst previousPositions = this.network.positions;\n\t\t\t\t\tfor (let index = 0; index < positionsLength; index++) {\n\t\t\t\t\t\tconst displacement = newPositions[index] - previousPositions[index];\n\n\t\t\t\t\t\tpreviousPositions[index] += alpha * (displacement) * elapsedTime;\n\n\t\t\t\t\t\tmaxDisplacement = Math.max(Math.abs(displacement), maxDisplacement);\n\t\t\t\t\t};\n\n\t\t\t\t\tthis._updateCenterNodesPosition();\n\t\t\t\t\tthis._updateCameraInterpolation(true);\n\t\t\t\t\t// console.log(this.scheduler._averageFPS);\n\n\t\t\t\t\tif (maxDisplacement < 1) {\n\t\t\t\t\t\tthis.scheduler.unschedule(\"1.1.positionInterpolator\");\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdelay: 0,\n\t\t\t\trepeat: true,\n\t\t\t\tsynchronized: true,\n\t\t\t\timmediateUpdates: false,\n\t\t\t\tredraw: true,\n\t\t\t\tupdateNodesGeometry: true,\n\t\t\t\tupdateEdgesGeometry: true,\n\t\t\t}\n\t\t\tthis.scheduler.schedule({\n\t\t\t\tname: \"1.0.positionChange\",\n\t\t\t\tcallback: (elapsedTime, task) => {\n\t\t\t\t\t// let maxDisplacement = 0;\n\t\t\t\t\t// for (let index = 0; index < this.network.positions.length; index++) {\n\t\t\t\t\t// \tlet displacement = this.newPositions[index] - this.network.positions[index];\n\t\t\t\t\t// \tmaxDisplacement = Math.max(Math.abs(displacement), maxDisplacement);\n\t\t\t\t\t// };\n\t\t\t\t\tthis.scheduler.schedule(interpolatorTask);\n\t\t\t\t\t// console.log(this.scheduler._averageFPS);\n\t\t\t\t},\n\t\t\t\tdelay: 0,\n\t\t\t\trepeat: false,\n\t\t\t\tsynchronized: true,\n\t\t\t\timmediateUpdates: false,\n\t\t\t\tredraw: false,\n\t\t\t\tupdateNodesGeometry: false,\n\t\t\t\tupdateEdgesGeometry: false,\n\t\t\t});\n\t\t};\n\n\t\tlet onLayoutStop = () => {\n\t\t\tthis.onLayoutStopCallback?.();\n\t\t}\n\n\t\tlet onLayoutStart = () => {\n\t\t\tthis._layoutLastUpdate = null;\n\t\t\tthis.onLayoutStartCallback?.();\n\t\t}\n\n\n\t\tthis.layoutWorker = new d3ForceLayoutWorker({\n\t\t\tnetwork: this.network,\n\t\t\tonUpdate: onlayoutUpdate,\n\t\t\tonStop: onLayoutStop,\n\t\t\tonStart: onLayoutStart,\n\t\t\tuse2D: this._use2D\n\t\t});\n\t\tconsole.log(\"Set layout worker\",this.layoutWorker)\n\n\t\tif (this._autoStartLayout) {\n\t\t\tthis.layoutWorker.start();\n\t\t\tconsole.log(\"Start\",this.layoutWorker)\n\t\t}\n\n\n\n\t}\n\n\t/** Setup the density map\n\t * @private\n\t * @method _setupDensity\n\t * @memberof Helios\n\t * @instance\n\t * \n\t */\n\t_setupDensity() {\n\n\t\tif (this.densityMap) {\n\t\t\tthis.densityWeights = new Float32Array(this.network.nodeCount);\n\t\t\tlet maxDegree = 1\n\t\t\tfor (let i = 0; i < this.network.nodeCount; i++) {\n\t\t\t\tlet degree = this.network.nodes[i].edges.length\n\t\t\t\tthis.densityWeights[i] = degree;\n\t\t\t\tmaxDegree = Math.max(maxDegree, degree);\n\t\t\t}\n\t\t\tfor (let i = 0; i < this.network.nodeCount; i++) {\n\t\t\t\tthis.densityWeights[i] /= maxDegree;\n\t\t\t}\n\t\t}\n\t}\n\n\n\t/**\n\t * Pauses the layout computation of the network visualization.\n\t * @public\n\t * @method pauseLayout\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @returns {this} Returns the current Helios instance for chaining\n\t * \n\t */\n\tpauseLayout() {\n\t\tthis.layoutWorker.pause();\n\t\tconsole.log(\"Pause\",this.layoutWorker)\n\t\treturn this;\n\t}\n\n\t/**\n\t * Resumes the layout computation of the network visualization after it has been paused.\n\t * @public\n\t * @method resumeLayout\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @returns {this} Returns the current Helios instance for chaining\n\t * \n\t */\n\tresumeLayout() {\n\t\tthis.layoutWorker.resume();\n\t\tconsole.log(\"Resume\",this.layoutWorker)\n\t\treturn this;\n\t}\n\n\t/**\n\t * Calls the appropriate event callback based on the given pickID, eventType, and event.\n\t * @private\n\t * @method _callEventFromPickID\n\t * @memberof Helios\n\t * @instance\n\t * @param {number} pickID - The unique identifier for the picked node or edge.\n\t * @param {string} eventType - The type of event to be triggered (e.g., click, doubleClick, hoverStart, hoverMove, hoverEnd).\n\t * @param {Event} event - The original DOM event associated with the interaction.\n\t * \n\t */\n\t_callEventFromPickID(pickID, eventType, event) {\n        let pickObject = null;\n        let isNode = true;\n        if (pickID >= 0) {\n            let nodePick = null;\n            // first check for nodes\n            if (pickID < this.network.nodeCount) {\n                isNode = true;\n                nodePick = this.network.index2Node[pickID];\n            }\n            \n            // only select edge if there is not a node\n            if (!nodePick && pickID >= this.network.nodeCount) {\n                let edgeIndex = pickID - this.network.nodeCount;\n                if (edgeIndex < this.network.indexedEdges.length / 2) {\n                    let edge = {\n                        \"source\": this.network.index2Node[this.network.indexedEdges[2 * edgeIndex]],\n                        \"target\": this.network.index2Node[this.network.indexedEdges[2 * edgeIndex + 1]],\n                        \"index\": edgeIndex\n                    }\n                    isNode = false;\n                    pickObject = edge;\n                }\n            }\n\n            if (nodePick) {\n                isNode = true;\n                pickObject = nodePick;\n            }\n\t\t}\n\t\t// if(eventType!=\"hoverMove\"){\n\t\t// \tconsole.log({\n\t\t// \t\tisNode: isNode,\n\t\t// \t\teventType: eventType,\n\t\t// \t\tpickObject: pickObject,\n\t\t// \t})\n\t\t// }\n\t\tif (pickObject) {\n\t\t\tswitch (eventType) {\n\t\t\t\tcase \"click\": {\n\t\t\t\t\tif (isNode) {\n\t\t\t\t\t\tthis.onNodeClickCallback?.(pickObject, event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.onEdgeClickCallback?.(pickObject, event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"doubleClick\": {\n\t\t\t\t\tif (isNode) {\n\t\t\t\t\t\tthis.onNodeDoubleClickCallback?.(pickObject, event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.onEdgeDoubleClickCallback?.(pickObject, event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"hoverStart\": {\n\t\t\t\t\tif (isNode) {\n\t\t\t\t\t\tthis.onNodeHoverStartCallback?.(pickObject, event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.onEdgeHoverStartCallback?.(pickObject, event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"hoverMove\": {\n\t\t\t\t\tif (isNode) {\n\t\t\t\t\t\tthis.onNodeHoverMoveCallback?.(pickObject, event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.onEdgeHoverMoveCallback?.(pickObject, event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"hoverEnd\": {\n\t\t\t\t\tif (isNode) {\n\t\t\t\t\t\tthis.onNodeHoverEndCallback?.(pickObject, event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.onEdgeHoverEndCallback?.(pickObject, event);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Sets up event listeners for user interactions such as click, double-click, and hover events.\n\t * @private\n\t * @method _setupEvents\n\t * @memberof Helios\n\t * @instance\n\t * \n\t */\n\t_setupEvents() {\n\t\tthis.lastMouseX = -1;\n\t\tthis.lastMouseY = -1;\n\n\t\tthis.currentHoverIndex = -1;\n\n\t\tif (this._autoCleanup) {\n\t\t\tthis._mutationObserver = new MutationObserver((events) => {\n\t\t\t\tfor (let index = 0; index < events.length; index++) {\n\t\t\t\t\tlet event = events[index];\n\t\t\t\t\tif (event.type == \"childList\") {\n\t\t\t\t\t\tif (event.removedNodes.length > 0) {\n\t\t\t\t\t\t\tfor (let index = 0; index < event.removedNodes.length; index++) {\n\t\t\t\t\t\t\t\tlet element = event.removedNodes[index];\n\t\t\t\t\t\t\t\tif (element == this.canvasElement || element == this.element) {\n\t\t\t\t\t\t\t\t\tthis._mutationObserver.disconnect();\n\t\t\t\t\t\t\t\t\tthis.cleanup();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if (element.removedNodes.length > 0) {\n\t\t\t\t// \tconsole.log(\"Element removed\");\n\t\t\t\t// \tthis._mutationObserver.disconnect();\n\t\t\t\t// \tthis.cleanup();\n\t\t\t\t// }\n\t\t\t});\n\n\t\t\tthis._mutationObserver.observe(this.element, { childList: true });\n\t\t\tthis._mutationObserver.observe(this.element.parentNode, { childList: true });\n\t\t}\n\n\t\t//Event listeners\n\t\tthis._clickEventListener = (event) => {\n\t\t\tconst rect = this.canvasElement.getBoundingClientRect();\n\n\t\t\tthis.lastMouseX = event.clientX;\n\t\t\tthis.lastMouseY = event.clientY;\n\t\t\tconst pickID = this.pickPoint(this.lastMouseX - rect.left, this.lastMouseY - rect.top);\n\t\t\tif (pickID >= 0) {\n\t\t\t\tthis._callEventFromPickID(pickID, \"click\", event);\n\t\t\t} else {\n\t\t\t\tthis.onNodeClickCallback?.(null, event);\n\t\t\t\tthis.onEdgeClickCallback?.(null, event);\n\t\t\t}\n\t\t};\n\n\t\tthis._doubleClickEventListener = (event) => {\n\t\t\tconst rect = this.canvasElement.getBoundingClientRect();\n\n\t\t\tthis.lastMouseX = event.clientX;\n\t\t\tthis.lastMouseY = event.clientY;\n\t\t\tconst pickID = this.pickPoint(this.lastMouseX - rect.left, this.lastMouseY - rect.top);\n\t\t\tif (pickID >= 0) {\n\t\t\t\tthis._callEventFromPickID(pickID, \"doubleClick\", event);\n\t\t\t} else {\n\t\t\t\tthis.onNodeDoubleClickCallback?.(null, event);\n\t\t\t\tthis.onEdgeDoubleClickCallback?.(null, event);\n\t\t\t}\n\t\t};\n\n\t\tthis._hoverMoveEventListener = (event) => {\n\t\t\tthis.lastMouseX = event.clientX;\n\t\t\tthis.lastMouseY = event.clientY;\n\t\t\n\t\t\tconst rect = this.canvasElement.getBoundingClientRect();\n\t\t\tconst pickID = this.pickPoint(this.lastMouseX - rect.left, this.lastMouseY - rect.top);\n\t\t\n\t\t\t// Prioritize nodes for hover events\n\t\t\tif (pickID >= 0) {\n\t\t\t\tthis._callEventFromPickID(pickID, \"hoverMove\", event);\n\t\t\t} else {\n\t\t\t\t// If no node or edge is found, trigger hover events with null\n\t\t\t\tthis.onNodeHoverMoveCallback?.(null, event);\n\t\t\t\tthis.onEdgeHoverMoveCallback?.(null, event);\n\t\t\t}\n\t\t};\n\t\t\n\n\t\tthis._hoverLeaveEventListener = (event) => {\n\t\t\tif (this.currentHoverIndex >= 0) {\n\t\t\t\tthis._callEventFromPickID(this.currentHoverIndex, \"hoverEnd\", event);\n\t\t\t\tthis.currentHoverIndex = -1;\n\t\t\t\tthis.lastMouseX = -1;\n\t\t\t\tthis.lastMouseY = -1;\n\t\t\t}\n\t\t};\n\n\t\tthis._hoverLeaveWindowEventListener = (event) => {\n\t\t\tif (!event.relatedTarget && !event.toElement) {\n\t\t\t\tif (this.currentHoverIndex >= 0) {\n\t\t\t\t\tthis._callEventFromPickID(this.currentHoverIndex, \"hoverEnd\", event);\n\t\t\t\t\tthis.currentHoverIndex = -1;\n\t\t\t\t\tthis.lastMouseX = -1;\n\t\t\t\t\tthis.lastMouseY = -1;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// this.canvasElement.onclick = this._clickEventListener;\n\t\t// this.canvasElement.ondblclick = this._doubleClickEventListener;\n\n\t\tthis.canvasElement.addEventListener(\"click\", this._clickEventListener);\n\t\tthis.canvasElement.addEventListener(\"dblclick\", this._doubleClickEventListener);\n\n\t\tthis.canvasElement.addEventListener(\"mousemove\", this._hoverMoveEventListener);\n\t\tthis.canvasElement.addEventListener(\"mouseleave\", this._hoverLeaveEventListener);\n\t\tdocument.body.addEventListener(\"mouseout\", this._hoverLeaveWindowEventListener);\n\t}\n\n\t/**\n\t * Downloads the image data as a file with the specified filename, supersampling factor, and file format.\n\t * @private\n\t * @method _downloadImageData\n\t * @memberof Helios\n\t * @instance\n\t * @param {ImageData} imageData - The image data to be downloaded.\n\t * @param {string} filename - The name of the file to be downloaded.\n\t * @param {number} supersampleFactor - The supersampling factor for resizing the image.\n\t * @returns {Promise<void>} A Promise that resolves when the download is complete.\n\t */\n\tasync _downloadImageData(imageData, filename, supersampleFactor, scale = 1.0) {\n\t\t// let canvas = document.getElementById('SUPERCANVAS');\n\t\tlet pica = new Pica({\n\t\t\t// features:[\"all\"],\n\t\t})\n\t\tlet canvas = document.createElement('canvas');\n\t\tlet canvasFullSize = document.createElement('canvas');\n\t\tlet ctx = canvas.getContext('2d');\n\t\tlet ctxFullSize = canvasFullSize.getContext('2d');\n\t\tcanvasFullSize.width = imageData.width;\n\t\tcanvasFullSize.height = imageData.height;\n\t\tconsole.log(imageData.width, imageData.height, supersampleFactor, scale);\n\t\tcanvas.width = imageData.width / supersampleFactor;\n\t\tcanvas.height = imageData.height / supersampleFactor;\n\t\tctx.imageSmoothingEnabled = true;\n\t\tctxFullSize.imageSmoothingEnabled = true;\n\t\tif (typeof ctx.imageSmoothingQuality !== 'undefined') {\n\t\t\tctx.imageSmoothingQuality = 'high';\n\t\t}\n\t\tif (typeof ctxFullSize.imageSmoothingQuality !== 'undefined') {\n\t\t\tctxFullSize.imageSmoothingQuality = 'high';\n\t\t}\n\n\t\t// let dpr = window.devicePixelRatio || 1;\n\t\t// canvas.style.width =  canvas.width/dpr/10 + \"px\";\n\t\t// canvas.style.height = canvas.height/dpr/10 + \"px\";\n\n\n\t\tctxFullSize.putImageData(imageData, 0, 0);\n\t\tctxFullSize.transform(1, 0, 0, -1, 0, canvasFullSize.height)\n\t\tctxFullSize.globalCompositeOperation = \"copy\"; // if you have transparent pixels\n\t\tctxFullSize.drawImage(ctxFullSize.canvas, 0, 0);\n\t\tctxFullSize.globalCompositeOperation = \"source-over\"; // reset to default\n\n\t\tawait pica.resize(canvasFullSize, canvas, {\n\t\t\talpha: true,\n\t\t});\n\n\t\t// ctxFullSize.drawImage(canvasFullSize, 0, 0,canvasFullSize.width*0.5,canvasFullSize.height*0.5,0,0,\n\t\t// \timagedata.width/supersampleFactor,\n\t\t// \timagedata.height/supersampleFactor);\n\t\t// ctx.drawImage(canvasFullSize, 0, 0,canvasFullSize.width,canvasFullSize.height,0,0,\n\t\t// \timagedata.width/supersampleFactor,\n\t\t// \timagedata.height/supersampleFactor);\n\n\n\t\t// let image = new Image();\n\t\t// let imageSRC = canvas.toDataURL()\n\t\t// image.src = imageSRC;\n\t\tlet downloadLink = document.createElement('a');\n\t\t// console.log([\"CANVAS\",imageSRC]);\n\n\n\t\tif (isSafari) {\n\t\t\t// BUG in Safari\n\t\t\t// console.log(\"Workaround safari bug...\");\n\t\t\tcanvas.toDataURL();\n\t\t}\n\n\t\tdownloadLink.setAttribute('download', filename);\n\t\tlet blob = await pica.toBlob(canvas, \"image/png\");\n\t\tif (blob) {\n\t\t\tif (filename.endsWith(\"svg\")) {\n\t\t\t\t//Create offscreen\n\t\t\t\t// let svgText = `\n\t\t\t\t// <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\t\t\t// width=\"${canvas.width/scale}\" height=\"${canvas.height/scale}\"\n\t\t\t\t// >\n\t\t\t\t// <image\n\t\t\t\t// \t\twidth=\"${canvas.width/scale}\" height=\"${canvas.height/scale}\"\n\t\t\t\t// \t\txlink:href=\"${canvas.toDataURL()}\"\n\t\t\t\t// \t\t/>\n\t\t\t\t// `;\n\t\t\t\t// generate this svg using code\n\t\t\t\tlet svgText =\n\t\t\t\t\t`<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" ` +\n\t\t\t\t\t` width=\"${canvas.width / scale}\" height=\"${canvas.height / scale}\"` +\n\t\t\t\t\t` viewBox=\"0 0 ${canvas.width / scale} ${canvas.height / scale}\"` +\n\t\t\t\t\t` >` +\n\t\t\t\t\t`<image width=\"${canvas.width / scale}\" height=\"${canvas.height / scale}\" xlink:href=\"${canvas.toDataURL()}\" />`;\n\n\t\t\t\tlet svgLayerContent = this.svgLayer.innerHTML;\n\t\t\t\tsvgText += svgLayerContent;\n\n\t\t\t\tsvgText += `</svg>`;\n\t\t\t\tdownloadLink.setAttribute('download', filename);\n\t\t\t\tlet blobSVG = new Blob([svgText], { type: 'image/svg+xml' });\n\t\t\t\tlet url = URL.createObjectURL(blobSVG);\n\t\t\t\tdownloadLink.setAttribute('href', url);\n\t\t\t\tdownloadLink.click();\n\n\t\t\t} else {\n\t\t\t\tlet url = URL.createObjectURL(blob);\n\t\t\t\tdownloadLink.setAttribute('href', url);\n\t\t\t\tdownloadLink.click();\n\t\t\t}\n\t\t} else {\n\t\t\twindow.alert(`An error occured while trying to download the image. Please try again. (Error: blob is null.)`);\n\t\t\t// console.log(\"BLOB IS NULL\");\n\t\t}\n\n\t\t// if (filename.endsWith(\"svg\")) {\n\t\t// \tlet svgText = `\n\t\t// \t<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\t// \twidth=\"${canvas.width}\" height=\"${canvas.width}\"\n\t\t// \t>\n\t\t// \t<image\n\t\t// \t\t\twidth=\"${canvas.width}\" height=\"${canvas.width}\"\n\t\t// \t\t\txlink:href=\"${canvas.toDataURL()}\"\n\t\t// \t\t\t/>\n\n\t\t// \t`;\n\t\t// \t// add contents of svgLayer to svgText without the svg tag\n\t\t// \tlet svgLayerContent = this.svgLayer.innerHTML;\n\t\t// \tsvgLayerContent = svgLayerContent.replace(/<svg[^>]*>/, \"\");\n\t\t// \tsvgLayerContent = svgLayerContent.replace(/<\\/svg>/, \"\");\n\t\t// \tsvgText += svgLayerContent;\n\n\t\t// \tsvgText+=`</svg>`;\n\t\t// \tdownloadLink.setAttribute('download', filename);\n\t\t// \tlet blob = new Blob([svgText], { type: 'image/svg+xml' });\n\t\t// \tlet url = URL.createObjectURL(blob);\n\t\t// \tdownloadLink.setAttribute('href', url);\n\t\t// \tdownloadLink.click();\n\t\t// } else if (false) {\n\t\t// \tdownloadLink.setAttribute('download', filename);\n\t\t// \tdownloadLink.setAttribute('href', canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\"));\n\t\t// \tdownloadLink.click();\n\t\t// } else {\n\n\t\t// \t// canvas.toBlob(function(blob) {\n\t\t// \t// \tconsole.log([\"CANVAS\",blob]);\n\t\t// \t// \tlet trials = 3;\n\t\t// \t// \tlet success = false;\n\t\t// \t// \tlet lastError = null;\n\t\t// \t// \twhile(trials>0 && !success){\n\t\t// \t// \t\t// FIXME: Safari BUG\n\t\t// \t// \t\ttry {\n\t\t// \t// \t\t\tlet url = URL.createObjectURL(blob);\n\t\t// \t// \t\t\tdownloadLink.setAttribute('href', url);\n\t\t// \t// \t\t\tdownloadLink.click();\n\t\t// \t// \t\t\tsuccess=true;\n\t\t// \t// \t\t} catch (error) {\n\t\t// \t// \t\t\tlastError = error;\n\t\t// \t// \t\t}\n\t\t// \t// \t\ttrials--;\n\t\t// \t// \t}\n\t\t// \t// \tif(!success){\n\t\t// \t// \t\twindow.alert(`An error occured while trying to download the image. Please try again. (Error: ${lastError})`)\n\t\t// \t// \t}\n\t\t// \t// });\n\t\t// }\n\t}\n\n\n\t/**\n\t * Returns the image data from the specified framebuffer.\n\t * @private\n\t * @method _framebufferImage\n\t * @memberof Helios\n\t * @instance\n\t * @param {WebGLFramebuffer} framebuffer - The WebGLFramebuffer from which to read the image data.\n\t * @returns {ImageData} An ImageData object containing the image data from the framebuffer.\n\t */\n\t_framebufferImage(framebuffer) {\n\t\tconst fbWidth = framebuffer.size.width;\n\t\tconst fbHeight = framebuffer.size.height;\n\t\tconst data = new Uint8ClampedArray(4 * fbWidth * fbHeight);\n\t\tconst gl = this.gl;\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\t\tgl.readPixels(\n\t\t\t0,            // x\n\t\t\t0,            // y\n\t\t\tfbWidth,                 // width\n\t\t\tfbHeight,                 // height\n\t\t\tgl.RGBA,           // format\n\t\t\tgl.UNSIGNED_BYTE,  // type\n\t\t\tdata);             // typed array to hold result\n\n\t\treturn new ImageData(data, fbWidth, fbHeight);\n\t}\n\n\t/**\n\t * Exports the current figure to an image file.\n\t * @method exportFigure\n\t * @memberof Helios\n\t * @instance\n\t * @param {string} filename - The filename for the exported image, including the extension (e.g., \"image.png\").\n\t * @param {Object} options - An object containing export options.\n\t * @param {number} [options.scale=1.0] - The scale factor for the exported image.\n\t * @param {number} [options.supersampleFactor=4.0] - The supersampling factor for the exported image.\n\t * @param {number|null} [options.width=null] - The width of the exported image. If null, the current canvas width is used.\n\t * @param {number|null} [options.height=null] - The height of the exported image. If null, the current canvas height is used.\n\t * @param {string|null} [options.backgroundColor=null] - The background color of the exported image. If null, the current background color is used.\n\t * @example\n\t * helios.exportFigure(\"figure.png\", {\n\t *   scale: 1.0,\n\t *   supersampleFactor: 4.0,\n\t *   width: 800,\n\t *   height: 600,\n\t *   backgroundColor: \"#FFFFFF\",\n\t * });\n\t */\n\texportFigure(filename, {\n\t\tscale,\n\t\tsupersampleFactor,\n\t\twidth = null,\n\t\theight = null,\n\t\tbackgroundColor = null,\n\t}) {\n\t\tif (typeof (scale) === 'undefined') {\n\t\t\tscale = 1.0;\n\t\t}\n\t\tif (typeof (supersampleFactor) === 'undefined') {\n\t\t\tsupersampleFactor = 2.0;\n\t\t}\n\t\tlet framebuffer = this._createOffscreenFramebuffer();\n\t\tif (width == null && height == null) {\n\t\t\twidth = this.canvasElement.clientWidth;\n\t\t\theight = this.canvasElement.clientHeight;\n\t\t} else if (!width) {\n\t\t\twidth = Math.round(height * this.canvasElement.width / this.canvasElement.height);\n\t\t} else if (!height) {\n\t\t\theight = Math.round(width * this.canvasElement.height / this.canvasElement.width);\n\t\t}\n\t\tif (!backgroundColor) {\n\t\t\tbackgroundColor = this.backgroundColor;\n\t\t}\n\t\tframebuffer.setSize(width * scale * supersampleFactor, height * scale * supersampleFactor);\n\t\tframebuffer.backgroundColor = backgroundColor;\n\t\tthis._redrawAll(framebuffer);\n\t\tlet image = this._framebufferImage(framebuffer);\n\t\tthis._downloadImageData(image, filename, supersampleFactor, scale);\n\n\t\tframebuffer.discard();\n\t}\n\n\t/**\n\t * Forces triggering hover events based on the current mouse position.\n\t * @method triggerHoverEvents\n\t * @memberof Helios\n\t * @instance\n\t * @param {Event} event - The MouseEvent object associated with the triggering event (e.g., mousemove, touchmove).\n\t * @param {boolean} shallCancel - If true, the method returns immediately without triggering any events.\n\t * @example\n\t * helios.triggerHoverEvents(event, false);\n\t */\n\ttriggerHoverEvents(event, shallCancel) {\n\t\tif (!this._isReady) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.lastMouseX == -1 || this.lastMouseY == -1) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet pickID = -1;\n\t\tif (!this.interacting) {\n\t\t\tconst rect = this.canvasElement.getBoundingClientRect();\n\t\t\tpickID = this.pickPoint(this.lastMouseX - rect.left, this.lastMouseY - rect.top);\n\t\t}\n\t\t// let nodesCount = \n\t\tif (pickID >= 0 && this.currentHoverIndex == -1) {\n\t\t\tthis.currentHoverIndex = pickID;\n\t\t\tthis._callEventFromPickID(pickID, \"hoverStart\", event);\n\t\t} else if (pickID >= 0 && this.currentHoverIndex == pickID) {\n\t\t\t// console.log(\"mouse: \",this.lastMouseX,this.lastMouseY)\n\t\t\tthis._callEventFromPickID(pickID, \"hoverMove\", event);\n\t\t} else if (pickID >= 0 && this.currentHoverIndex != pickID) {\n\t\t\tthis._callEventFromPickID(this.currentHoverIndex, \"hoverEnd\", event);\n\t\t\tthis.currentHoverIndex = pickID;\n\t\t\tthis._callEventFromPickID(pickID, \"hoverStart\", event);\n\t\t} else if (pickID == -1 && this.currentHoverIndex != pickID) {\n\t\t\tthis._callEventFromPickID(this.currentHoverIndex, \"hoverEnd\", event);\n\t\t\tthis.currentHoverIndex = -1;\n\t\t}\n\t}\n\n\n\t/**\n\t * Initializes the shader programs used for rendering nodes and edges.\n\t * @method _setupShaders\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t */\n\t_setupShaders() {\n\t\tconst gl = this.gl;\n\n\t\tthis.edgesShaderProgram = new glUtils.ShaderProgram(\n\t\t\tglUtils.getShaderFromString(gl, this._hyperbolic ? edgesShaders.vertexHyperbolicShader : edgesShaders.vertexShader, gl.VERTEX_SHADER),\n\t\t\tglUtils.getShaderFromString(gl, edgesShaders.fragmentShader, gl.FRAGMENT_SHADER),\n\t\t\t[\"viewMatrix\", \"projectionMatrix\", \"nearFar\",\n\t\t\t\t\"globalOpacityScale\", \"globalWidthScale\", \"globalSizeScale\", \"globalOpacityBase\", \"globalWidthBase\", \"globalSizeBase\"],\n\t\t\t[\"fromVertex\", \"toVertex\", \"vertexType\", \"fromColor\", \"toColor\", \"fromSize\", \"toSize\", \"encodedIndex\"],\n\t\t\tthis.gl);\n\n\t\tthis.edgesFastShaderProgram = new glUtils.ShaderProgram(\n\t\t\tglUtils.getShaderFromString(gl, this._hyperbolic ? edgesShaders.fastVertexHyperbolicShader : edgesShaders.fastVertexShader, gl.VERTEX_SHADER),\n\t\t\tglUtils.getShaderFromString(gl, edgesShaders.fastFragmentShader, gl.FRAGMENT_SHADER),\n\t\t\t[\"projectionViewMatrix\", \"nearFar\", \"globalOpacityScale\", \"globalOpacityBase\"],\n\t\t\t[\"vertex\", \"color\"],\n\t\t\tthis.gl);\n\n\t\tthis.edgesPickingShaderProgram = new glUtils.ShaderProgram(\n\t\t\tglUtils.getShaderFromString(gl, this._hyperbolic ? edgesShaders.vertexHyperbolicShader : edgesShaders.vertexShader, gl.VERTEX_SHADER),\n\t\t\tglUtils.getShaderFromString(gl, edgesShaders.pickingShader, gl.FRAGMENT_SHADER),\n\t\t\t[\"viewMatrix\", \"projectionMatrix\", \"nearFar\",\n\t\t\t\t\"globalOpacityScale\", \"globalWidthScale\", \"globalSizeScale\", \"globalOpacityBase\", \"globalWidthBase\", \"globalSizeBase\"],\n\t\t\t[\"fromVertex\", \"toVertex\", \"vertexType\", \"fromColor\", \"toColor\", \"fromSize\", \"toSize\", \"encodedIndex\"],\n\t\t\tthis.gl);\n\n\n\t\tthis.nodesShaderProgram = new glUtils.ShaderProgram(\n\t\t\tglUtils.getShaderFromString(gl, this._hyperbolic ? nodesShaders.vertexHyperbolicShader : nodesShaders.vertexShader, gl.VERTEX_SHADER),\n\t\t\tglUtils.getShaderFromString(gl, nodesShaders.fragmentShader, gl.FRAGMENT_SHADER),\n\t\t\t[\"viewMatrix\", \"projectionMatrix\", \"normalMatrix\",\n\t\t\t\t\"globalOpacityScale\", \"globalSizeScale\", \"globalOutlineWidthScale\", \"globalOpacityBase\", \"globalSizeBase\", \"globalOutlineWidthBase\"],\n\t\t\t[\"vertex\", \"position\", \"color\", \"size\", \"outlineWidth\", \"outlineColor\", \"encodedIndex\"], this.gl);\n\n\t\tthis.nodesFastShaderProgram = new glUtils.ShaderProgram(\n\t\t\tglUtils.getShaderFromString(gl, this._hyperbolic ? nodesShaders.vertexHyperbolicShader : nodesShaders.vertexShader, gl.VERTEX_SHADER),\n\t\t\tglUtils.getShaderFromString(gl, nodesShaders.fastFragmentShader, gl.FRAGMENT_SHADER),\n\t\t\t[\"viewMatrix\", \"projectionMatrix\", \"normalMatrix\",\n\t\t\t\t\"globalOpacityScale\", \"globalSizeScale\", \"globalOutlineWidthScale\", \"globalOpacityBase\", \"globalSizeBase\", \"globalOutlineWidthBase\"],\n\t\t\t[\"vertex\", \"position\", \"color\", \"size\", \"outlineWidth\", \"outlineColor\", \"encodedIndex\"], this.gl);\n\n\t\tthis.nodesPickingShaderProgram = new glUtils.ShaderProgram(\n\t\t\tglUtils.getShaderFromString(gl, this._hyperbolic ? nodesShaders.vertexHyperbolicShader : nodesShaders.vertexShader, gl.VERTEX_SHADER),\n\t\t\tglUtils.getShaderFromString(gl, nodesShaders.pickingShader, gl.FRAGMENT_SHADER),\n\t\t\t[\"viewMatrix\", \"projectionMatrix\", \"normalMatrix\",\n\t\t\t\t\"globalOpacityScale\", \"globalSizeScale\", \"globalOutlineWidthScale\", \"globalOpacityBase\", \"globalSizeBase\", \"globalOutlineWidthBase\"],\n\t\t\t[\"vertex\", \"position\", \"color\", \"size\", \"outlineWidth\", \"outlineColor\", \"encodedIndex\"], this.gl);\n\t}\n\n\n\t/**\n\t * Initializes the picking framebuffer used for object selection.\n\t * @method _buildPickingBuffers\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t */\n\t_buildPickingBuffers() {\n\t\tconst gl = this.gl;\n\t\tthis.pickingFramebuffer = this._createOffscreenFramebuffer();\n\t}\n\n\t/**\n\t * Initializes the tracking framebuffer used for getting the displayed objects.\n\t * @method _buildTrackingBuffers\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t */\n\t_buildTrackingBuffers() {\n\t\tconst gl = this.gl;\n\t\tif (this._trackingBufferEnabled) {\n\t\t\tthis._trackingFramebuffer = this._createOffscreenFramebuffer();\n\t\t}\n\t}\n\n\n\t/**\n\t * Creates and initializes an offscreen framebuffer for rendering operations.\n\t * @method createOffscreenFramebuffer\n\t * @memberof Helios\n\t * @instance\n\t * @returns {WebGLFramebuffer} An offscreen framebuffer with associated texture and depth buffer.\n\t * @private\n\t */\n\t_createOffscreenFramebuffer() {\n\t\tconst gl = this.gl;\n\t\tlet framebuffer = gl.createFramebuffer();\n\t\tframebuffer.texture = gl.createTexture();\n\t\tgl.bindTexture(gl.TEXTURE_2D, framebuffer.texture);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n\t\tframebuffer.depthBuffer = gl.createRenderbuffer();\n\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, framebuffer.depthBuffer);\n\n\t\t// Create and bind the framebuffer\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\t\tframebuffer.size = {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t};\n\n\t\tframebuffer.setSize = (width, height) => {\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, framebuffer.texture);\n\t\t\t// define size and format of level 0\n\t\t\tconst level = 0;\n\t\t\tconst internalFormat = gl.RGBA;\n\t\t\tconst border = 0;\n\t\t\tconst format = gl.RGBA;\n\t\t\tconst type = gl.UNSIGNED_BYTE;\n\t\t\tconst data = null;\n\t\t\tconst fbWidth = width;\n\t\t\tconst fbHeight = height;\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, level, internalFormat,\n\t\t\t\tfbWidth, fbHeight, border, format, type, data);\n\t\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, framebuffer.depthBuffer);\n\t\t\tgl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, fbWidth, fbHeight);\n\t\t\tframebuffer.size.width = width;\n\t\t\tframebuffer.size.height = height;\n\t\t};\n\n\t\tframebuffer.discard = () => {\n\t\t\tgl.deleteRenderbuffer(framebuffer.depthBuffer);\n\t\t\tgl.deleteTexture(framebuffer.texture);\n\t\t\tgl.deleteFramebuffer(framebuffer);\n\t\t}\n\t\t// attach the texture as the first color attachment\n\t\tconst attachmentPoint = gl.COLOR_ATTACHMENT0;\n\t\tconst level = 0;\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, attachmentPoint, gl.TEXTURE_2D, framebuffer.texture, level);\n\n\t\t// make a depth buffer and the same size as the targetTexture\n\t\tgl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, framebuffer.depthBuffer);\n\t\treturn framebuffer;\n\t}\n\n\t/**\n\t * Builds the nodes geometry and creates related WebGL buffers.\n\t * @method _buildNodesGeometry\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t */\n\t_buildNodesGeometry() {\n\t\tconst gl = this.gl;\n\t\tlet sphereQuality = 20;\n\t\t// this.nodesGeometry = glUtils.makeSphere(gl, 1.0, sphereQuality, sphereQuality);\n\t\tthis.nodesGeometry = glUtils.makePlane(gl, false, false);\n\t\t// //vertexShape = makeBox(gl);\n\n\n\n\t\tthis.nodesPositionBuffer = gl.createBuffer();\n\t\tthis.nodesColorBuffer = gl.createBuffer();\n\t\tthis.nodesSizeBuffer = gl.createBuffer();\n\t\tthis.nodesOutlineWidthBuffer = gl.createBuffer();\n\t\tthis.nodesOutlineColorBuffer = gl.createBuffer();\n\t\tthis.nodesIndexBuffer = gl.createBuffer();\n\n\t\t//encodedIndex\n\t\tthis.nodesIndexArray = new Float32Array(this.network.index2Node.length * 4);\n\t\tfor (let ID = 0; ID < this.network.index2Node.length; ID++) {\n\t\t\tthis.nodesIndexArray[4 * ID] = (((ID + 1) >> 0) & 0xFF) / 0xFF;\n\t\t\tthis.nodesIndexArray[4 * ID + 1] = (((ID + 1) >> 8) & 0xFF) / 0xFF;\n\t\t\tthis.nodesIndexArray[4 * ID + 2] = (((ID + 1) >> 16) & 0xFF) / 0xFF;\n\t\t\tthis.nodesIndexArray[4 * ID + 3] = (((ID + 1) >> 24) & 0xFF) / 0xFF;\n\t\t}\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesIndexBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, this.nodesIndexArray, gl.STATIC_DRAW);\n\t\t// console.log(this.nodesIndexArray)\n\n\t\tthis.updateNodesGeometry();\n\t}\n\n\t/** Updates the density map with the current node positions.\n\t * @method updateDensityMap\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @example<caption>Update the density map</caption>\n\t * helios.updateDensityMap();\n\t * @example<caption>Update the density map and render the scene</caption>\n\t * helios.updateDensityMap().render();\n\t * @returns {this} Returns the current Helios instance for chaining.\n\t */\n\tupdateDensityMap() {\n\t\tlet positions = this.network.positions;\n\t\tthis.densityMap?.setData(positions);\n\t\tthis.densityMap?.setWeights(this.densityWeights);\n\t\treturn this;\n\t}\n\n\n\t/** Force update of Nodes Geometry.\n\t * @method updateNodesGeometry\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @example<caption>Update the nodes geometry</caption>\n\t * helios.updateNodesGeometry();\n\t * @example<caption>Update the nodes geometry and render the scene</caption>\n\t * helios.updateNodesGeometry().render();\n\t * @returns {this} Returns the current Helios instance for chaining.\n\t */\n\tupdateNodesGeometry() {\n\n\t\tconst gl = this.gl;\n\n\t\tlet positions = this.network.positions;\n\n\t\tthis.updateDensityMap();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesPositionBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, positions, gl.DYNAMIC_DRAW);\n\n\t\tlet colors = this.network.colors;\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesColorBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n\n\t\tlet sizes = this.network.sizes;\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesSizeBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, sizes, gl.STATIC_DRAW);\n\n\t\tlet outlineWidths = this.network.outlineWidths;\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesOutlineWidthBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, outlineWidths, gl.STATIC_DRAW);\n\n\t\tlet outlineColors = this.network.outlineColors;\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesOutlineColorBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, outlineColors, gl.STATIC_DRAW);\n\n\n\t\t// //Depth test is essential for the desired effects\n\n\t\t// gl.disable(gl.CULL_FACE);\n\t\t// gl.frontFace(gl.CCW);\n\t\treturn this;\n\t}\n\n\n\t/** Initializes the geometry and buffers used for rendering edges.\n\t * @method _buildFastEdgesGeometry\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t */\n\t_buildFastEdgesGeometry() {\n\t\tconst gl = this.gl;\n\t\tlet edges = this.network.indexedEdges;\n\t\tlet positions = this.network.positions;\n\t\tlet colors = this.network.colors;\n\n\t\tlet indicesArray;\n\t\tthis.fastEdgesGeometry = null;\n\t\tthis.fastEdgesIndicesArray = null;\n\t\tlet newGeometry = new Object();\n\t\t//FIXME: If num of vertices > 65k, we need to store the geometry in two different indices objects\n\t\tif (positions.length < 65535) {\n\t\t\tindicesArray = new Uint16Array(edges);\n\t\t\tnewGeometry.indexType = gl.UNSIGNED_SHORT;\n\t\t} else {\n\t\t\tvar uints_for_indices = gl.getExtension(\"OES_element_index_uint\");\n\t\t\tif (uints_for_indices == null) {\n\t\t\t\tindicesArray = new Uint16Array(edges);\n\t\t\t\tnewGeometry.indexType = gl.UNSIGNED_SHORT;\n\t\t\t} else {\n\t\t\t\tindicesArray = new Uint32Array(edges);\n\t\t\t\tnewGeometry.indexType = gl.UNSIGNED_INT;\n\t\t\t}\n\t\t}\n\n\t\t// create the lines buffer 2 vertices per geometry.\n\t\tnewGeometry.vertexObject = gl.createBuffer();\n\t\tnewGeometry.colorObject = gl.createBuffer();\n\t\tnewGeometry.numIndices = indicesArray.length;\n\t\tnewGeometry.indexObject = gl.createBuffer();\n\n\t\tthis.fastEdgesGeometry = newGeometry;\n\t\tthis.fastEdgesIndicesArray = indicesArray;\n\n\t}\n\n\t/** Initializes the geometry and buffers used for advanced rendering edges.\n\t * @method _buildAdvancedEdgesGeometry\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t */\n\t_buildAdvancedEdgesGeometry() {\n\t\tconst gl = this.gl;\n\t\tlet edgeVertexTypeArray = [\n\t\t\t0, 1,\n\t\t\t0, 0,\n\t\t\t1, 1,\n\t\t\t1, 0,\n\t\t];\n\t\tlet newGeometry = new Object();\n\t\tnewGeometry.edgeVertexTypeBuffer = gl.createBuffer();\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, newGeometry.edgeVertexTypeBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array(edgeVertexTypeArray), gl.STATIC_DRAW);\n\n\t\tnewGeometry.verticesBuffer = gl.createBuffer();\n\t\tnewGeometry.colorBuffer = gl.createBuffer();\n\t\tnewGeometry.sizeBuffer = gl.createBuffer();\n\t\t// this.nodesOutlineWidthBuffer = gl.createBuffer();\n\t\t// this.nodesOutlineColorBuffer = gl.createBuffer();\n\t\tnewGeometry.indexBuffer = gl.createBuffer();\n\n\t\tthis.edgesGeometry = newGeometry;\n\t\tthis.edgesGeometry.count = this.network.indexedEdges.length / 2;\n\n\t\t//encodedIndex\n\t\tthis.edgesGeometry.edgesIndexArray = new Float32Array(this.network.indexedEdges.length * 4 / 2);\n\t\tthis._edgeIndicesUpdate = true;\n\t\t// console.log(this.nodesIndexArray)\n\t}\n\n\t/** Initializes the geometry and buffers used for rendering edges.\n\t * @method _buildEdgesGeometry\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t */\n\t_buildEdgesGeometry() {\n\t\tif (this.fastEdges) {\n\t\t\tthis._buildFastEdgesGeometry();\n\t\t} else {\n\t\t\tthis._buildAdvancedEdgesGeometry();\n\t\t}\n\t\tthis.updateEdgesGeometry()\n\t}\n\n\n\t/** Updates the indices used for picking edges.\n\t * @method _updateEdgeIndices\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t */\n\t_updateEdgeIndices() {\n\t\tif (this._edgeIndicesUpdate) {\n\t\t\tconst gl = this.gl;\n\t\t\tfor (let ID = 0; ID < this.network.indexedEdges.length / 2; ID++) {\n\t\t\t\tlet edgeID = this.network.index2Node.length + ID;\n\t\t\t\tif (this._pickeableEdges.has(ID)) {\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID] = (((edgeID + 1) >> 0) & 0xFF) / 0xFF;\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID + 1] = (((edgeID + 1) >> 8) & 0xFF) / 0xFF;\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID + 2] = (((edgeID + 1) >> 16) & 0xFF) / 0xFF;\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID + 3] = (((edgeID + 1) >> 24) & 0xFF) / 0xFF;\n\t\t\t\t} else {\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID] = 0;\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID + 1] = 0;\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID + 2] = 0;\n\t\t\t\t\tthis.edgesGeometry.edgesIndexArray[4 * ID + 3] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.indexBuffer);\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, this.edgesGeometry.edgesIndexArray, gl.DYNAMIC_DRAW);\n\t\t\tthis._edgeIndicesUpdate = false;\n\t\t}\n\t}\n\n\n\t/** Updates the geometry and buffers used for rendering edges.\n\t * @method updateEdgesGeometry\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {boolean} [force=false] - Forces the update of the geometry and buffers.\n\t * @returns {this} Returns the current Helios instance for chaining.\n\t */\n\tupdateEdgesGeometry() {\n\t\tconst gl = this.gl;\n\t\tlet edges = this.network.indexedEdges;\n\t\tlet positions = this.network.positions;\n\t\tlet colors = this.network.colors;\n\t\tif (this.fastEdges) {\n\t\t\tif (!this.fastEdgesGeometry) {\n\t\t\t\tthis._buildEdgesGeometry();\n\t\t\t}\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.fastEdgesGeometry.vertexObject);\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, positions, gl.STREAM_DRAW);\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.fastEdgesGeometry.colorObject);\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.fastEdgesGeometry.indexObject);\n\t\t\tgl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.fastEdgesIndicesArray, gl.STREAM_DRAW);\n\t\t} else {\n\n\t\t\tconst gl = this.gl;\n\t\t\tthis.network.updateEdgePositions();\n\t\t\tif (this._edgesColorsFromNodes) {\n\t\t\t\tthis.network.updateEdgeColors();\n\t\t\t}\n\t\t\tif (this._edgesWidthFromNodes) {\n\t\t\t\tthis.network.updateEdgeSizes();\n\t\t\t}\n\t\t\tthis._updateEdgeIndices();\n\n\t\t\tlet edgePositions = this.network.positions;\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.verticesBuffer);\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, this.network.edgePositions, gl.DYNAMIC_DRAW);\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.colorBuffer);\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, this.network.edgeColors, gl.DYNAMIC_DRAW);\n\n\t\t\t// gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.edgesGeometry.indexBuffer);\n\t\t\t// gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.edgesGeometry.edgesIndexArray, gl.DYNAMIC_DRAW);\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.sizeBuffer);\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, this.network.edgeSizes, gl.DYNAMIC_DRAW);\n\t\t}\n\t\treturn this;\n\t}\n\n\n\t/** Updates the all the framebuffers\n\t * @method _updatePickingFramebufferSize\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t * @param {number} newWidth - The new width of the framebuffers.\n\t * @param {number} newHeight - The new height of the framebuffers.\n\t * @returns {this} Returns the current Helios instance for chaining.\n\t */\n\t_resizeGL(newWidth, newHeight) {\n\t\tthis.canvasElement.width = newWidth;\n\t\tthis.canvasElement.height = newHeight;\n\t\tthis.pickingFramebuffer.setSize(Math.round(newWidth * this.pickingResolutionRatio), Math.round(newHeight * this.pickingResolutionRatio));\n\t\tthis._lastCanvasDimensions = [this.canvasElement.clientWidth, this.canvasElement.clientHeight];\n\t\t// distribute at most this.trackingMaxPixels across the screen (width * height), keeping the aspect ratio\n\t\tlet aspectRatio = newWidth / newHeight;\n\t\tif (this._trackingBufferEnabled) {\n\t\t\tlet trackingWidth, trackingHeight;\n\n\t\t\tif (aspectRatio > 1) {\n\t\t\t\ttrackingWidth = Math.sqrt(this._trackingMaxPixels * aspectRatio);\n\t\t\t\ttrackingHeight = this._trackingMaxPixels / trackingWidth;\n\t\t\t} else {\n\t\t\t\ttrackingHeight = Math.sqrt(this._trackingMaxPixels / aspectRatio);\n\t\t\t\ttrackingWidth = this._trackingMaxPixels / trackingHeight;\n\t\t\t}\n\t\t\tthis._trackingFramebuffer.setSize(Math.round(trackingWidth), Math.round(trackingHeight));\n\t\t\tlet totalTrackingPixels = this._trackingFramebuffer.size.width * this._trackingFramebuffer.size.height;\n\t\t\tthis._pixelXYOnScreen = Array(totalTrackingPixels);\n\t\t\tthis._trackingBufferPixels = new Uint8Array(4 * totalTrackingPixels);\n\t\t\tthis._nodesOnScreen = Array(totalTrackingPixels);\n\t\t\tthis._nodesOnScreen.fill(-1);\n\n\t\t\tfor (let i = 0; i < this._pixelXYOnScreen.length; i++) {\n\t\t\t\tlet x = (i % this._trackingFramebuffer.size.width) / this._trackingFramebuffer.size.width * this.canvasElement.clientWidth;\n\t\t\t\tlet y = (Math.floor(i / this._trackingFramebuffer.size.width)) / this._trackingFramebuffer.size.height * this.canvasElement.clientHeight;\n\t\t\t\tthis._pixelXYOnScreen[i] = [x, y];\n\t\t\t}\n\t\t}\n\n\t\tif (this.densityPlot) {\n\t\t\tthis.densityMap.resize(newWidth, newHeight);\n\t\t}\n\t\tthis.render(true);\n\t\treturn this;\n\t}\n\n\n\n\t/** Setup the camera data.\n\t * @method _setupCamera\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t */\n\t_setupCamera() {\n\t\t// this.canvasElement.onmousedown = event=>this.handleMouseDown(event);\n\t\t// document.onmouseup = event=>this.handleMouseUp(event);\n\t\t// document.onmousemove = event=>this.handleMouseMove(event);\n\t\t// document.onclick = void(0);\n\n\n\t\tthis.zoom = d3Zoom()\n\t\t\t.on(\"zoom\", event => {\n\t\t\t\tthis.interacting = true;\n\t\t\t\tthis._zoomFactor = event.transform.k;\n\t\t\t\tthis.triggerHoverEvents(event);\n\t\t\t\t// check if prevX is undefined\n\t\t\t\tif (this.prevK === undefined) {\n\t\t\t\t\tthis.prevK = event.transform.k;\n\t\t\t\t}\n\t\t\t\tlet dx = 0;\n\t\t\t\tlet dy = 0;\n\t\t\t\tif (this.prevK == event.transform.k || this._use2D) {\n\t\t\t\t\tif (this.prevX === undefined || this._use2D) {\n\t\t\t\t\t\tif (this._use2D) {\n\t\t\t\t\t\t\tdx = event.transform.x - this.canvasElement.clientWidth / 2;\n\t\t\t\t\t\t\tdy = event.transform.y - this.canvasElement.clientHeight / 2;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdx = event.transform.x;\n\t\t\t\t\t\t\tdy = event.transform.y;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdx = event.transform.x - this.prevX * this._zoomFactor;\n\t\t\t\t\t\tdy = event.transform.y - this.prevY * this._zoomFactor;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t}\n\n\t\t\t\tif (!this._use2D) {\n\t\t\t\t\tthis.prevX = event.transform.x / this._zoomFactor;\n\t\t\t\t\tthis.prevY = event.transform.y / this._zoomFactor;\n\t\t\t\t}\n\t\t\t\tthis.prevK = event.transform.k;\n\t\t\t\t// \tif (!this.positionInterpolator) {\n\t\t\t\t// \t\tthis.update();\n\t\t\t\t// \t\tthis.render();\n\t\t\t\t// \t}\n\t\t\t\t// \t// event => event.preventDefault();\n\t\t\t\t// })\n\t\t\t\t// // this.drag = d3Drag().on(\"drag\", event => {\n\t\t\t\t// // \tlet dx = event.dx;\n\t\t\t\t// // \tlet dy = event.dy;\n\n\t\t\t\t// this.zoom2 = d3Zoom().scaleExtent([1.0,1.0]).on(\"zoom\", event => {\n\t\t\t\t// \tconsole.log(\"ZOOM 2\")\n\t\t\t\t// \t// let dx = event.dx;\n\t\t\t\t// \t// let dy = event.dy;\n\t\t\t\t// let dx = 0;\n\t\t\t\t// let dy = 0;\n\t\t\t\t// if(this.prevX=== undefined){\n\t\t\t\t// \tdx = event.transform.x;\n\t\t\t\t// \tdy = event.transform.y;\n\t\t\t\t// }else{\n\t\t\t\t// \tdx = event.transform.x - this.prevX;\n\t\t\t\t// \tdy = event.transform.y - this.prevY;\n\t\t\t\t// }\n\n\t\t\t\tlet newRotationMatrix = glm.mat4.create();\n\t\t\t\t// console.log(event.sourceEvent.shiftKey)\n\t\t\t\tif (this._use2D || event.sourceEvent?.shiftKey) {\n\t\t\t\t\tconst panelHeight = this.canvasElement.clientHeight;\n\t\t\t\t\tconst fovy = Math.PI * 2 / 360 * this._fieldOfView;\n\t\t\t\t\t// FIXME: Maybe use the distance to the objects instead of the camera distance\n\t\t\t\t\t// For the 3D case. The 2D case is fine.\n\t\t\t\t\tconst finalCameraDistance = this.cameraDistance / this._zoomFactor;\n\t\t\t\t\tconst displacementFactor = 2 * finalCameraDistance * Math.tan(fovy / 2) / panelHeight;\n\t\t\t\t\tif (this._centerNodes.length == 0) {\n\t\t\t\t\t\tif (this._use2D) {\n\n\t\t\t\t\t\t\tthis.panX = dx * displacementFactor;\n\t\t\t\t\t\t\tthis.panY = -dy * displacementFactor;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.panX = this.panX + dx * displacementFactor;\n\t\t\t\t\t\t\tthis.panY = this.panY - dy * displacementFactor;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {//pan\n\t\t\t\t\tglm.mat4.identity(newRotationMatrix);\n\t\t\t\t\tglm.mat4.rotate(newRotationMatrix, newRotationMatrix, glUtils.degToRad(dx / 2), [0, 1, 0]);\n\t\t\t\t\tglm.mat4.rotate(newRotationMatrix, newRotationMatrix, glUtils.degToRad(dy / 2), [1, 0, 0]);\n\n\t\t\t\t\tglm.mat4.multiply(this.rotationMatrix, newRotationMatrix, this.rotationMatrix);\n\t\t\t\t}\n\n\t\t\t\tthis.update();\n\t\t\t\tthis.render();\n\t\t\t\t// this.triggerHoverEvents(event);\n\t\t\t\tevent?.sourceEvent?.preventDefault();\n\t\t\t\tevent?.sourceEvent?.stopPropagation();\n\t\t\t})\n\t\t\t.on(\"end\", event => {\n\t\t\t\tthis.interacting = false;\n\t\t\t\tevent?.sourceEvent?.preventDefault();\n\t\t\t\tevent?.sourceEvent?.stopPropagation();\n\t\t\t});\n\n\t\td3Select(this.canvasElement)//\n\t\t\t// .call(d3ZoomTransform, d3ZoomIdentity.translate(0, 0).scale(this.cameraDistance))\n\t\t\t// .call(this.drag)\n\t\t\t.call(this.zoom)\n\t\t\t// .on(\"mousedown.drag\", null)\n\t\t\t// .on(\"touchstart.drag\", null)\n\t\t\t// .on(\"touchmove.drag\", null)\n\t\t\t// .on(\"touchend.drag\", null)\n\t\t\t.on(\"dblclick.zoom\", null);\n\n\n\t\t// this.zoomFactor(0.05)\n\t\t// this.zoomFactor(1.0,500);\n\t}\n\n\t/** Set the zoom factor.\n\t * @method zoomFactor\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} zoomFactor - The zoom factor.\n\t * @param {number} [duration] - The duration of the zoom animation in milliseconds.\n\t * @returns {this | number} Returns this for chaining if zoomFactor is defined, otherwise returns the current zoom factor.\n\t * @example\n\t * // Set the zoom factor to 0.5\n\t * helios.zoomFactor(0.5);\n\t * @example\n\t * // Set the zoom factor to 0.5 with an animation duration of 500 milliseconds\n\t * helios.zoomFactor(0.5, 500);\n\t * @example\n\t * // Get the current zoom factor\n\t * let zoomFactor = helios.zoomFactor();\n\t */\n\tzoomFactor(zoomFactor, duration) {\n\t\tif (zoomFactor !== undefined) {\n\t\t\tif (duration === undefined) {\n\t\t\t\tif (this._use2D) {\n\t\t\t\t\td3Select(this.canvasElement).call(this.zoom.transform,\n\t\t\t\t\t\td3ZoomIdentity.translate(this.canvasElement.clientWidth / 2, this.canvasElement.clientHeight / 2).scale(zoomFactor))\n\t\t\t\t} else {\n\t\t\t\t\td3Select(this.canvasElement).call(this.zoom.transform, d3ZoomIdentity.translate(0, 0).scale(zoomFactor))\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this._use2D) {\n\t\t\t\t\td3Select(this.canvasElement).transition().ease(d3Ease.easeLinear).duration(duration)\n\t\t\t\t\t\t.call(this.zoom.transform, d3ZoomIdentity.translate(this.canvasElement.clientWidth / 2, this.canvasElement.clientHeight / 2).scale(zoomFactor))\n\n\t\t\t\t} else {\n\t\t\t\t\td3Select(this.canvasElement).transition().ease(d3Ease.easeLinear).duration(duration).call(this.zoom.transform, d3ZoomIdentity.translate(0, 0).scale(zoomFactor))\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this._zoomFactor;\n\t\t}\n\t}\n\n\t/** Set the semantic zoom exponent.\n\t * @method semanticZoomExponent\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} semanticZoomExponent - The semantic zoom exponent.\n\t * @returns {this | number} Returns this for chaining if semanticZoomExponent is defined, otherwise returns the current semantic zoom exponent.\n\t * @example\n\t * // Set the semantic zoom exponent to 0.5\n\t * helios.semanticZoomExponent(0.5);\n\t * @example\n\t * // Get the current semantic zoom exponent\n\t * let semanticZoomExponent = helios.semanticZoomExponent();\n\t */\n\tsemanticZoomExponent(semanticZoomExponent) {\n\t\tif (semanticZoomExponent !== undefined) {\n\t\t\tthis._semanticZoomExponent = semanticZoomExponent;\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this._semanticZoomExponent;\n\t\t}\n\t}\n\n\n\t/** Will resize event helper function\n\t * @method _willResizeEvent\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t * @param {Event} event - The resize event.\n\t */\n\t_willResizeEvent(event) {\n\t\t//requestAnimFrame(function(){\n\t\tlet dpr = window.devicePixelRatio || 1;\n\t\tif (dpr < 2.0 || this.forceSupersample) {\n\t\t\tdpr = dpr * 2.0;\n\t\t}\n\t\t// dpr = 2.0;\n\n\t\t// this.canvasElement.style.width = this.element.clientWidth + \"px\";\n\t\t// this.canvasElement.style.height = this.element.clientHeight + \"px\";\n\t\t// Update margins:\n\n\t\tlet newFrameworkWidth = dpr * this.canvasElement.clientWidth;\n\t\tlet newFrameworkHeight = dpr * this.canvasElement.clientHeight;\n\n\t\tconsole.log(newFrameworkWidth,newFrameworkHeight);\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis._resizeGL(newFrameworkWidth, newFrameworkHeight);\n\t\t});\n\n\t\tthis._updateCameraInteraction();\n\n\t\tthis.onResizeCallback?.(event);\n\t\t//});\n\t}\n\n\t/** Update Camera Interaction.\n\t * @method _updateCameraInteraction\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t * @chainable\n\t * @returns {this} Returns this for chaining.\n\t */\n\t_updateCameraInteraction() {\n\t\tif (this.zoom && this._use2D) {\n\t\t\tconst panelHeight = this.canvasElement.clientHeight;\n\t\t\tconst fovy = Math.PI * 2 / 360 * this._fieldOfView;\n\t\t\t// FIXME: Maybe use the distance to the objects instead of the camera distance\n\t\t\t// For the 3D case. The 2D case is fine.\n\t\t\tconst finalCameraDistance = this.cameraDistance / this._zoomFactor;\n\t\t\tconst displacementFactor = 2 * finalCameraDistance * Math.tan(fovy / 2) / panelHeight;\n\t\t\td3Select(this.canvasElement).property(\"__zoom\",\n\t\t\t\td3ZoomIdentity.translate(\n\t\t\t\t\tthis.panX / displacementFactor + this._lastCanvasDimensions[0] / 2,\n\t\t\t\t\t-this.panY / displacementFactor + this._lastCanvasDimensions[1] / 2\n\t\t\t\t).scale(this._zoomFactor));\n\t\t}\n\t}\n\n\t/** Will hint force Helios to redraw the network.\n\t * @method redraw\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @returns {this} Returns this for chaining.\n\t * @fires Helios#redraw\n\t * @fires Helios#draw\n\t * @fires Helios#HoverEvent\n\t * @example\n\t * // Redraw the network\n\t * helios.redraw();\n\t * @example\n\t * // Update geometry and redraw the network\n\t * helios.update().redraw();\n\t */\n\tredraw() {\n\t\tthis._redrawAll(null, \"normal\"); // Normal\n\t\tthis._redrawAll(this.pickingFramebuffer, \"picking\"); // Picking\n\t\tif (this._trackingBufferEnabled) {\n\t\t\tthis._redrawAll(this._trackingFramebuffer, \"tracking\"); // Labels buffer\n\t\t}\n\t\t// this.redrawDensityMap();\n\t\tthis.triggerHoverEvents(null);\n\t\tthis._updateTrackerNodesDataThrottle();\n\t\tthis.onDrawCallback?.();\n\t\treturn this;\n\t}\n\n\n\t/** Will hint or force Helios to update the network geometry.\n\t * this method needs to be called after any changes to the network data\n\t * or visual properties.\n\t * @method update\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {boolean} [immediate=false] - If true, the update will be performed immediately, otherwise it will be scheduled.\n\t * @param {boolean} [nodes=true] - If true, the node geometry will be updated.\n\t * @param {boolean} [edges=true] - If true, the edge geometry will be updated.\n\t * @returns {this} Returns this for chaining.\n\t * @example\n\t * // Update the network geometry\n\t * helios.update();\n\t * @example\n\t * // Update the network geometry immediately\n\t * helios.update(true);\n\t */\n\tupdate(immediate = false, nodes = true, edges = true) {\n\t\tthis.scheduler.schedule({\n\t\t\tname: \"9.0.update\",\n\t\t\tcallback: null,\n\t\t\tdelay: 0,\n\t\t\trepeat: false,\n\t\t\tsynchronized: true,\n\t\t\timmediateUpdates: immediate,\n\t\t\t// redraw: true,\n\t\t\tupdateNodesGeometry: nodes,\n\t\t\tupdateEdgesGeometry: edges,\n\t\t});\n\t\treturn this;\n\t}\n\n\t/** Will hint or force Helios to render the network.\n\t * @method render\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {boolean} [immediate=false] - If true, the render will be performed immediately, otherwise it will be scheduled.\n\t * @returns {this} Returns this for chaining.\n\t * @example\n\t * // Render the network\n\t * helios.render();\n\t * @example\n\t * // Update geometry and render the network\n\t * helios.update().render();\n\t */\n\trender(immediate = false) {\n\t\t// if (!this.positionInterpolator) {\n\t\t// \twindow.requestAnimationFrame(() => this.redraw());\n\t\t// }\n\n\t\tthis.scheduler.schedule({\n\t\t\tname: \"9.1.render\",\n\t\t\tcallback: null,\n\t\t\tdelay: 0,\n\t\t\trepeat: false,\n\t\t\tsynchronized: true,\n\t\t\timmediateUpdates: immediate,\n\t\t\tredraw: true,\n\t\t\t// updateNodesGeometry: true,\n\t\t\t// updateEdgesGeometry: true,\n\t\t});\n\t\treturn this;\n\t}\n\n\t/** Helper method to prepare drawing framebuffers\n\t * @method _redrawPrepare\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t * @param {WebGLFramebuffer} destination - The destination framebuffer.\n\t * @param {boolean} isPicking - If true, the framebuffer is used for picking.\n\t * @param {Object} viewport - The viewport to use.\n\t */\n\t_redrawPrepare(destination, framebufferType, viewport) {\n\t\t// if framebufferType is undefined, set it to \"normal\"\n\t\tif (typeof framebufferType === \"undefined\") {\n\t\t\tframebufferType = \"normal\";\n\t\t}\n\t\tconst gl = this.gl;\n\n\t\tconst fbWidth = destination?.size.width || this.canvasElement.width;\n\t\tconst fbHeight = destination?.size.height || this.canvasElement.height;\n\t\t// let orthogonalScaleFactor = 1.0;\n\t\t// orthogonalScaleFactor = Math.max(this.canvasElement.clientWidth/this.canvasElement.width, this.canvasElement.clientHeight/this.canvasElement.height);\n\t\tif (destination == null) {\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\t\tgl.clearColor(...this._backgroundColor);\n\t\t} else if (framebufferType != \"normal\") {\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, destination);\n\t\t\tgl.clearColor(0.0, 0.0, 0.0, 0.0);\n\t\t} else {\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, destination);\n\t\t\tif (typeof destination.backgroundColor === \"undefined\") {\n\t\t\t\tgl.clearColor(...this._backgroundColor);\n\t\t\t} else {\n\t\t\t\tgl.clearColor(...destination.backgroundColor);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof viewport === \"undefined\") {\n\t\t\tgl.viewport(0, 0, fbWidth, fbHeight);\n\t\t} else {\n\t\t\tgl.viewport(...viewport);\n\t\t}\n\n\t\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\t\tgl.depthFunc(gl.LEQUAL);\n\n\t\tthis.projectionMatrix = glm.mat4.create();\n\t\tthis.viewMatrix = glm.mat4.create();\n\t\tthis.projectionViewMatrix = glm.mat4.create();\n\n\t\t// \n\t\tlet fovy = Math.PI * 2 / 360 * this._fieldOfView;\n\t\tlet aspectRatio = fbWidth / fbHeight;\n\t\tif (this._use2D || this._orthographic) {\n\t\t\tconst finalCameraDistance = this.cameraDistance / this._zoomFactor;\n\t\t\tconst orthoHeight = 2 * finalCameraDistance * Math.tan(fovy / 2);\n\t\t\tconst orthoWidth = orthoHeight * aspectRatio;\n\t\t\tconst left = -orthoWidth / 2;\n\t\t\tconst right = orthoWidth / 2;\n\t\t\tconst bottom = -orthoHeight / 2;\n\t\t\tconst top = orthoHeight / 2;\n\t\t\t// orthogonalScaleFactor = 1.0;\n\t\t\t// console.log(\"Scale Factor:\",orthogonalScaleFactor);\n\n\t\t\tglm.mat4.ortho(this.projectionMatrix,\n\t\t\t\tleft,\n\t\t\t\tright,\n\t\t\t\tbottom,\n\t\t\t\ttop,\n\t\t\t\t-100 + finalCameraDistance, 10000.0 + finalCameraDistance);\n\n\t\t\t// glm.mat4.ortho(this.projectionMatrix,\n\t\t\t// \t-fbWidth / this._zoomFactor / orthoRescaleFactor * scaleFactor*orthogonalScaleFactor/ scaleHeight,\n\t\t\t// \tfbWidth / this._zoomFactor / orthoRescaleFactor * scaleFactor*orthogonalScaleFactor / scaleHeight,\n\t\t\t// \t-fbHeight / this._zoomFactor / orthoRescaleFactor * scaleFactor*orthogonalScaleFactor / scaleHeight,\n\t\t\t// \tfbHeight / this._zoomFactor / orthoRescaleFactor * scaleFactor*orthogonalScaleFactor / scaleHeight,\n\t\t\t// \t-10000.0, 100000.0);\n\t\t\t// glm.mat4.perspective(this.projectionMatrix, Math.PI * 2 / 360 * 70, fbWidth / fbHeight, 1.0, 10000.0);\n\n\t\t} else {\n\t\t\tglm.mat4.perspective(this.projectionMatrix, fovy, aspectRatio, 1.0, null);\n\t\t}\n\n\t\tglm.mat4.identity(this.viewMatrix);\n\t\tglm.mat4.translate(this.viewMatrix, this.viewMatrix, [this.panX, this.panY, -this.cameraDistance / this._zoomFactor]);\n\n\n\t\tglm.mat4.multiply(this.viewMatrix, this.viewMatrix, this.rotationMatrix);\n\t\t// glm.mat4.scale(this.viewMatrix, this.viewMatrix, [this._zoomFactor, this._zoomFactor, this._zoomFactor]);\n\t\tglm.mat4.translate(this.viewMatrix, this.viewMatrix, this.translatePosition);\n\n\t\tglm.mat4.multiply(this.projectionViewMatrix, this.projectionMatrix, this.viewMatrix);\n\t}\n\n\t/** Helper method to draw nodes\n\t * @method _redrawNodes\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t * @param {WebGLFramebuffer} destination - The destination framebuffer.\n\t * @param {boolean} isPicking - If true, the framebuffer is used for picking.\n\t */\n\t_redrawNodes(destination, framebufferType) {\n\t\tif (typeof framebufferType === \"undefined\") {\n\t\t\tframebufferType = \"normal\";\n\t\t}\n\t\tconst gl = this.gl;\n\t\tlet ext = gl.getExtension(\"ANGLE_instanced_arrays\");\n\n\t\tlet adjustedScaleFactor = 1.0 / Math.pow(this._zoomFactor, this._semanticZoomExponent);\n\n\t\tif (framebufferType != \"normal\") {\n\t\t\tadjustedScaleFactor = 1.0 / Math.pow(this._zoomFactor, 0.75 * this._semanticZoomExponent);\n\t\t}\n\n\t\tlet currentShaderProgram;\n\t\tif (framebufferType == \"normal\") {\n\t\t\t// console.log(this.nodesShaderProgram);\n\t\t\tgl.enable(gl.BLEND);\n\t\t\t// if(this.useAdditiveBLending){\n\t\t\t// gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n\t\t\t// \t}else{\n\t\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t// gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA,\n\t\t\t// \tgl.ZERO, gl.ONE);\n\t\t\t// \t}\n\t\t\tif (this.useShadedNodes) {\n\t\t\t\tcurrentShaderProgram = this.nodesShaderProgram;\n\t\t\t} else {\n\t\t\t\tcurrentShaderProgram = this.nodesFastShaderProgram;\n\t\t\t}\n\t\t} else {\n\t\t\tgl.disable(gl.BLEND);\n\t\t\t// console.log(this.nodesShaderProgram);\n\t\t\tcurrentShaderProgram = this.nodesPickingShaderProgram;\n\t\t}\n\n\t\tcurrentShaderProgram.use(gl);\n\t\tcurrentShaderProgram.attributes.enable(\"vertex\");\n\t\t// currentShaderProgram.attributes.enable(\"normal\");\n\t\tcurrentShaderProgram.attributes.enable(\"position\");\n\t\tcurrentShaderProgram.attributes.enable(\"size\");\n\t\tcurrentShaderProgram.attributes.enable(\"outlineWidth\");\n\t\tcurrentShaderProgram.attributes.enable(\"outlineColor\");\n\t\tcurrentShaderProgram.attributes.enable(\"encodedIndex\");\n\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesGeometry.vertexObject);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.vertex, 3, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.vertex, 0);\n\n\t\t// gl.bindBuffer(gl.ARRAY_BUFFER, this.nodesGeometry.normalObject);\n\t\t// gl.vertexAttribPointer(currentShaderProgram.attributes.normal, 3, gl.FLOAT, false, 0, 0);\n\t\t// ext.vertexAttribDivisorANGLE(currentShaderProgram.attributes.normal, 0); \n\n\t\tif (this.nodesGeometry.indexObject) {\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.nodesGeometry.indexObject);\n\t\t}\n\n\t\tgl.uniformMatrix4fv(currentShaderProgram.uniforms.projectionMatrix, false, this.projectionMatrix);\n\t\tgl.uniformMatrix4fv(currentShaderProgram.uniforms.viewMatrix, false, this.viewMatrix);\n\n\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOpacityScale, this._nodesGlobalOpacityScale);\n\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOpacityBase, this._nodesGlobalOpacityBase);\n\n\t\tgl.uniform1f(currentShaderProgram.uniforms.globalSizeScale, this._nodesGlobalSizeScale * adjustedScaleFactor);\n\t\tgl.uniform1f(currentShaderProgram.uniforms.globalSizeBase, this._nodesGlobalSizeBase * adjustedScaleFactor);\n\n\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOutlineWidthScale, this._nodesGlobalOutlineWidthScale * adjustedScaleFactor);\n\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOutlineWidthBase, this._nodesGlobalOutlineWidthBase * adjustedScaleFactor);\n\n\t\tlet normalMatrix = glm.mat3.create();\n\t\tglm.mat3.normalFromMat4(normalMatrix, this.viewMatrix);\n\t\tgl.uniformMatrix3fv(currentShaderProgram.uniforms.normalMatrix, false, normalMatrix);\n\n\t\t// Geometry Mutators and colors obtained from the network properties\n\t\tlet colorsArray = this.network.colors;\n\t\tlet positionsArray = this.network.positions;\n\t\tlet sizeValue = this.network.sizes;\n\t\tlet outlineWidthValue = this.network.outlineWidths;\n\n\t\t// Bind the instance position data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesPositionBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.position);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.position, 3, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.position, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesColorBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.color);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.color, 4, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.color, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesSizeBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.size);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.size, 1, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.size, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesOutlineColorBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.outlineColor);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.outlineColor, 4, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.outlineColor, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesOutlineWidthBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.outlineWidth);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.outlineWidth, 1, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.outlineWidth, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesIndexBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.encodedIndex);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.encodedIndex, 4, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.encodedIndex, 1); // This makes it instanced!\n\n\t\t// console.log(this.network.positions.length/3)\n\t\t// Draw the instanced meshes\n\t\tif (this.nodesGeometry.indexObject) {\n\t\t\text.drawElementsInstancedANGLE(gl.TRIANGLES, this.nodesGeometry.numIndices, this.nodesGeometry.indexType, 0, this.network.positions.length / 3);\n\t\t} else {\n\t\t\text.drawArraysInstancedANGLE(gl.TRIANGLE_STRIP, 0, this.nodesGeometry.numIndices, this.network.positions.length / 3);\n\t\t}\n\n\t\t// Disable attributes\n\t\tcurrentShaderProgram.attributes.disable(\"vertex\");\n\t\t// this.nodesShaderProgram.attributes.disable(\"normal\");\n\t\tcurrentShaderProgram.attributes.disable(\"position\");\n\t\tcurrentShaderProgram.attributes.disable(\"size\");\n\t\tcurrentShaderProgram.attributes.disable(\"outlineWidth\");\n\t\tcurrentShaderProgram.attributes.disable(\"outlineColor\");\n\t\tcurrentShaderProgram.attributes.disable(\"encodedIndex\");\n\t}\n\n\n\t/** Helper function to redraw the edges\n\t * @method _redrawEdges\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t * @param {WebGLFramebuffer} destination - The destination framebuffer.\n\t * @param {String} framebufferType - The type of framebuffer to render to (normal, picking, or tracking).\n\t */\n\t_redrawEdges(destination, framebufferType) {\n\n\t\tif (typeof framebufferType === \"undefined\") {\n\t\t\tframebufferType = \"normal\";\n\t\t}\n\t\tlet hasEdgeCallbacks = this.onEdgeClickCallback\n\t\t\t|| this.onEdgeHoverMoveCallback\n\t\t\t|| this.onEdgeHoverStartCallback\n\t\t\t|| this.onEdgeHoverEndCallback\n\t\t\t|| this.onEdgeDoubleClickCallback\n\t\t\t|| this.onEdgeClickCallback;\n\n\t\tif (framebufferType != \"normal\" && (this.fastEdges || !hasEdgeCallbacks)) {\n\t\t\treturn // no picking for fast edges or no callbacks\n\t\t}\n\n\t\tlet adjustedScaleFactor = 1.0 / Math.pow(this._zoomFactor, this._semanticZoomExponent);\n\n\t\tif (framebufferType != \"normal\") {\n\t\t\tadjustedScaleFactor = 1.0 / Math.pow(this._zoomFactor, 0.5 * this._semanticZoomExponent);\n\t\t}\n\t\tconst gl = this.gl;\n\t\tlet ext = gl.getExtension(\"ANGLE_instanced_arrays\");\n\n\t\tlet currentShaderProgram;\n\t\tif (framebufferType == \"normal\") {\n\t\t\tgl.enable(gl.BLEND);\n\t\t\t// \t//Edges are rendered with additive blending.\n\t\t\t// \tgl.enable(gl.BLEND);\n\t\t\tif (this.useAdditiveBlending) {\n\t\t\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n\t\t\t} else {\n\t\t\t\t// gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t\t// gl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t\t// gl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ZERO, gl.ONE ); //Original from Networks 3D\n\t\t\t\tgl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE); // New (works for transparent background)\n\t\t\t}\n\t\t\tif (this.fastEdges) {\n\t\t\t\tcurrentShaderProgram = this.edgesFastShaderProgram;\n\t\t\t} else {\n\t\t\t\tcurrentShaderProgram = this.edgesShaderProgram;\n\t\t\t}\n\t\t} else {\n\t\t\tgl.disable(gl.BLEND);\n\t\t\t// console.log(\"PICKING EDGESSSS\");\n\t\t\tcurrentShaderProgram = this.edgesPickingShaderProgram;\n\t\t}\n\n\t\tif (this.fastEdges) {\n\t\t\t// console.log(this.edgesShaderProgram)\n\n\t\t\tcurrentShaderProgram.use(gl);\n\t\t\tcurrentShaderProgram.attributes.enable(\"vertex\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"color\");\n\t\t\t// currentShaderProgram.attributes.enable(\"encodedIndex\");\n\n\n\n\t\t\t//bind attributes and unions\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.fastEdgesGeometry.vertexObject);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.vertex, 3, gl.FLOAT, false, 0, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.vertex, 0); // This makes it instanced!\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.fastEdgesGeometry.colorObject);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.color, 4, gl.FLOAT, false, 0, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.color, 0); // This makes it instanced!\n\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.fastEdgesGeometry.indexObject);\n\n\t\t\tgl.uniformMatrix4fv(currentShaderProgram.uniforms.projectionViewMatrix, false, this.projectionViewMatrix);\n\n\t\t\t//gl.uniform2fv(edgesShaderProgram.uniforms.nearFar,[0.1,10.0]);\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOpacityScale, this._edgesGlobalOpacityScale);\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOpacityBase, this._edgesGlobalOpacityBase);\n\n\n\t\t\t//drawElements is called only 1 time. no overhead from javascript\n\t\t\tgl.drawElements(gl.LINES, this.fastEdgesGeometry.numIndices, this.fastEdgesGeometry.indexType, 0);\n\n\t\t\t//disabling attributes\n\t\t\tcurrentShaderProgram.attributes.disable(\"vertex\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"color\");\n\t\t\t// currentShaderProgram.attributes.disable(\"encodedIndex\");\n\t\t} else {\n\t\t\tcurrentShaderProgram.use(gl);\n\t\t\tcurrentShaderProgram.attributes.enable(\"fromVertex\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"toVertex\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"vertexType\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"fromColor\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"toColor\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"fromSize\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"toSize\");\n\t\t\tcurrentShaderProgram.attributes.enable(\"encodedIndex\");\n\n\t\t\t// newGeometry.edgeVertexTypeBuffer = gl.createBuffer();\n\t\t\t// newGeometry.verticesBuffer = gl.createBuffer();\n\t\t\t// newGeometry.colorBuffer = gl.createBuffer();\n\t\t\t// newGeometry.sizeBuffer = gl.createBuffer();\n\t\t\t// newGeometry.indexBuffer = gl.createBuffer();\n\t\t\t// console.log(currentShaderProgram.attributes);\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.edgeVertexTypeBuffer);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.vertexType, 2, gl.FLOAT, false, 0, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.vertexType, 0);\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.verticesBuffer);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.fromVertex, 3, gl.FLOAT, false, 4 * 3 * 2, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.fromVertex, 1);\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.verticesBuffer);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.toVertex, 3, gl.FLOAT, false, 4 * 3 * 2, 4 * 3);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.toVertex, 1);\n\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.colorBuffer);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.fromColor, 4, gl.FLOAT, false, 4 * 4 * 2, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.fromColor, 1);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.toColor, 4, gl.FLOAT, false, 4 * 4 * 2, 4 * 4);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.toColor, 1);\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.sizeBuffer);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.fromSize, 1, gl.FLOAT, false, 4 * 2, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.fromSize, 1);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.toSize, 1, gl.FLOAT, false, 4 * 2, 4);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.toSize, 1);\n\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.indexBuffer);\n\t\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.encodedIndex);\n\t\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.encodedIndex, 4, gl.FLOAT, false, 0, 0);\n\t\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.encodedIndex, 1); // This makes it instanced!\n\n\t\t\t// gl.bindBuffer(gl.ARRAY_BUFFER, this.nodesGeometry.normalObject);\n\t\t\t// gl.vertexAttribPointer(currentShaderProgram.attributes.normal, 3, gl.FLOAT, false, 0, 0);\n\t\t\t// ext.vertexAttribDivisorANGLE(currentShaderProgram.attributes.normal, 0); \n\n\t\t\tgl.uniformMatrix4fv(currentShaderProgram.uniforms.projectionMatrix, false, this.projectionMatrix);\n\t\t\tgl.uniformMatrix4fv(currentShaderProgram.uniforms.viewMatrix, false, this.viewMatrix);\n\n\t\t\t//gl.uniform2fv(edgesShaderProgram.uniforms.nearFar,[0.1,10.0]);\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOpacityScale, this._edgesGlobalOpacityScale);\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalOpacityBase, this._edgesGlobalOpacityBase);\n\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalWidthScale, this._edgesGlobalWidthScale);\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalWidthBase, this._edgesGlobalWidthBase);\n\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalSizeScale, this._nodesGlobalSizeScale * adjustedScaleFactor);\n\t\t\tgl.uniform1f(currentShaderProgram.uniforms.globalSizeBase, this._nodesGlobalSizeBase * adjustedScaleFactor);\n\n\t\t\t// 01,11,21\n\t\t\t// let cameraUp = glm.vec3.fromValues(this.viewMatrix[1], this.viewMatrix[5], this.viewMatrix[9]);\n\t\t\t// // let cameraUp = glm.vec3.fromValues(0, 1.0, 0);\n\t\t\t// // 00,10,20\n\t\t\t// let cameraRight = glm.vec3.fromValues(this.viewMatrix[0], this.viewMatrix[4], this.viewMatrix[8]);\n\t\t\t// let cameraForward = glm.vec3.fromValues(this.viewMatrix[2], this.viewMatrix[6], this.viewMatrix[10]);\n\n\t\t\t// console.log(cameraUp);\n\t\t\t// glm.vec3.normalize(cameraUp, cameraUp);\n\t\t\t// glm.vec3.normalize(cameraRight, cameraRight);\n\t\t\t// glm.vec3.cross(cameraForward,cameraUp,cameraRight);\n\t\t\t// glm.vec3.normalize(cameraForward, cameraForward);\n\t\t\t// gl.uniform3fv(currentShaderProgram.uniforms.cameraUp, cameraUp);\n\t\t\t// gl.uniform3fv(currentShaderProgram.uniforms.cameraRight, cameraRight);\n\t\t\t// gl.uniform3fv(currentShaderProgram.uniforms.cameraForward, cameraForward);\n\t\t\t// cameraRight;// = normalize(vec3(viewMatrix[0][0], viewMatrix[1][0], viewMatrix[2][0]));\n\t\t\t// cameraUp;// = normalize(vec3(viewMatrix[0][1], viewMatrix[1][1], viewMatrix[2][1]));\n\t\t\t// cameraForward;// = normalize(vec3(viewMatrix[0][2], viewMatrix[1][2], viewMatrix[2][2]));\n\n\t\t\text.drawArraysInstancedANGLE(gl.TRIANGLE_STRIP, 0, 4, this.edgesGeometry.count);\n\n\t\t\tcurrentShaderProgram.attributes.disable(\"fromVertex\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"toVertex\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"vertexType\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"fromColor\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"toColor\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"fromSize\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"toSize\");\n\t\t\tcurrentShaderProgram.attributes.disable(\"encodedIndex\");\n\t\t\t// console.log(\"PICKING? \" + isPicking)\n\t\t}\n\t}\n\n\t/** Helper function to redraw the scene.\n\t * @method _redrawAll\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t * @param {Object} destination - The destination to draw to. If undefined, the canvas will be used.\n\t * @param {String} framebufferType - Type of the framebuffer to draw \"normal\", \"picking\", \"tracking\" . Default is \"normal\"\n\t */\n\t_redrawAll(destination, framebufferType) {\n\t\tif (typeof framebufferType === 'undefined') {\n\t\t\tframebufferType = \"normal\";\n\t\t}\n\t\tconst gl = this.gl;\n\n\t\tthis._redrawPrepare(destination, framebufferType);\n\t\tif (framebufferType == \"normal\" && this.densityPlot) {\n\n\t\t\t// gl.clearColor(0.0, 0.0, 0.0, 1.0);\n\t\t\t// gl.clearDepth(1.0)\n\t\t\tgl.disable(this.gl.DEPTH_TEST);\n\t\t\t// gl.depthMask(true);\n\n\t\t\tconst fbWidth = destination?.size.width || this.canvasElement.width;\n\t\t\tconst fbHeight = destination?.size.height || this.canvasElement.height;\n\t\t\t// this.densityMap.resize(fbWidth,fbHeight);\n\t\t\tthis.densityMap.drawScene(this.projectionMatrix, this.viewMatrix);\n\t\t}\n\n\t\tgl.depthMask(true);\n\n\t\tif (this._use2D) {\n\t\t\tgl.disable(gl.DEPTH_TEST);\n\t\t\tgl.depthMask(false);\n\t\t\n\t\t\tif (framebufferType != \"tracking\" && this._edgesGlobalOpacityScale > 0.0) {\n\t\t\t\tthis._redrawEdges(destination, framebufferType);\n\t\t\t}\n\t\t\n\t\t\tthis._redrawNodes(destination, framebufferType);\n\t\t} else {\n\t\t\tgl.enable(gl.DEPTH_TEST);\n\t\t\tgl.depthFunc(gl.LEQUAL);\n\t\t\n\t\t\tthis._redrawNodes(destination, framebufferType);\n\t\t\n\t\t\tgl.depthFunc(gl.ALWAYS);\n\t\t\tgl.depthMask(false); // Prevent depth buffer writes for edges\n\t\t\n\t\t\tif (framebufferType != \"tracking\" && this._edgesGlobalOpacityScale > 0.0) {\n\t\t\t\tthis._redrawEdges(destination, framebufferType);\n\t\t\t}\n\t\t\n\t\t\tgl.depthMask(true);\n\t\t\tgl.depthFunc(gl.LEQUAL);\n\t\t}\n\t}\n\n\t// onResizeCallback\n\t// onNodeClickCallback\n\t// onNodeHoverStartCallback \n\t// onNodeHoverEndCallback\n\t// onNodeHoverMoveCallback\n\t// onZoomCallback\n\t// onRotationCallback\n\t// onLayoutStartCallback\n\t// onLayoutFinishCallback\n\t// onDrawCallback\n\n\t/** Helper function to update the center nodes position.\n\t * @method _updateCenterNodesPosition\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t */\n\t_updateCenterNodesPosition() {\n\t\tthis.targetTranslatePosition[0] = 0;\n\t\tthis.targetTranslatePosition[1] = 0;\n\t\tthis.targetTranslatePosition[2] = 0;\n\n\t\tif (this._centerNodes && this._centerNodes.length > 0) {\n\t\t\tfor (let i = 0; i < this._centerNodes.length; i++) {\n\t\t\t\tlet node = this._centerNodes[i];\n\t\t\t\t// if node is not of type node, get node by id\n\t\t\t\tlet pos = node.position;\n\t\t\t\tthis.targetTranslatePosition[0] -= pos[0];\n\t\t\t\tthis.targetTranslatePosition[1] -= pos[1];\n\t\t\t\tthis.targetTranslatePosition[2] -= pos[2];\n\t\t\t}\n\t\t\tlet lengthSize = this._centerNodes.length;\n\t\t\tthis.targetTranslatePosition[0] /= lengthSize;\n\t\t\tthis.targetTranslatePosition[1] /= lengthSize;\n\t\t\tthis.targetTranslatePosition[2] /= lengthSize;\n\t\t}\n\t}\n\n\t/** Center view on nodes with animation.\n\t * @method centerOnNodes\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number[]|Node} nodes - The nodes to center on.\n\t * @param {number} duration - The duration of the animation in milliseconds.\n\t * @example\n\t * // Center on node with id 1\n\t * helios.centerOnNodes([1], 1000);\n\t * @example\n\t * // Center on node with id 1 and 2\n\t * helios.centerOnNodes([1, 2], 1000);\n\t * @example\n\t * // Center on node with id 1 and node object\n\t * helios.centerOnNodes([1, helios.network.nodes[2]], 1000);\n\t * return {this} The current instance of Helios for chaining.\n\t */\n\tcenterOnNodes(nodes, duration) {\n\t\t//\n\t\tthis._centerNodes = [];\n\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\tlet node = nodes[i];\n\t\t\tif (node.ID === undefined) {\n\t\t\t\tnode = this.network.nodes[node];\n\t\t\t}\n\t\t\tthis._centerNodes.push(node);\n\t\t}\n\n\t\tthis._updateCameraInteraction();\n\n\t\tthis.lastTranslatePosition[0] = this.translatePosition[0];\n\t\tthis.lastTranslatePosition[1] = this.translatePosition[1];\n\t\tthis.lastTranslatePosition[2] = this.translatePosition[2];\n\t\tthis.lastPanX = this.panX;\n\t\tthis.lastPanY = this.panY;\n\t\tif (duration === undefined || duration <= 0) {\n\t\t\tthis.translateDuration = 0;\n\t\t\tthis.translateStartTime = null;\n\t\t\t// this.update(); No need to update?\n\t\t\t// this.render();\n\t\t} else {\n\t\t\tthis.translateDuration = duration;\n\t\t\tthis.translateStartTime = performance.now();\n\t\t}\n\t\tthis._scheduleCameraInterpolation();\n\t\treturn this;\n\t}\n\n\t/** Get the nodes being centered on.\n\t * @method getCenterNodes\n\t * @memberof Helios\n\t * @instance\n\t * @return {Array<Node>} The nodes being centered on.\n\t * @example\n\t * // Get the nodes being centered on\n\t * let nodes = helios.getCenterNodes();\n\t */\n\tcenteredNodes() {\n\t\treturn this._centerNodes;\n\t}\n\n\n\t/** Helper method to update the camera interpolation.\n\t * @method _updateCameraInterpolation\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t * @param {Boolean} ignoreInstantaneousUpdate - Ignore instantaneous update.\n\t * @return {Boolean} True if the camera interpolation needs to continue, false otherwise.\n\t */\n\t_updateCameraInterpolation(ignoreInstantaneousUpdate = false) {\n\t\tif (this.translateDuration == 0) {\n\t\t\tif (!ignoreInstantaneousUpdate) {\n\t\t\t\tthis.translatePosition[0] = this.targetTranslatePosition[0];\n\t\t\t\tthis.translatePosition[1] = this.targetTranslatePosition[1];\n\t\t\t\tthis.translatePosition[2] = this.targetTranslatePosition[2];\n\t\t\t\tthis.panX = 0;\n\t\t\t\tthis.panY = 0;\n\t\t\t\tif (this._use2D) {\n\t\t\t\t\t// this.zoom.translateTo(d3Select(this.canvasElement),this.panX+this.canvasElement.clientWidth/2,this.panY+this.canvasElement.clientHeight/2);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false; //no need to continue\n\t\t} else {\n\t\t\tlet elapsedTime = performance.now() - this.translateStartTime;\n\t\t\tlet alpha = elapsedTime / this.translateDuration;\n\t\t\tif (alpha > 1) {\n\t\t\t\talpha = 1.0;\n\t\t\t}\n\t\t\t// console.log(elapsedTime);\n\t\t\tthis.translatePosition[0] = (1.0 - alpha) * this.lastTranslatePosition[0];\n\t\t\tthis.translatePosition[1] = (1.0 - alpha) * this.lastTranslatePosition[1];\n\t\t\tthis.translatePosition[2] = (1.0 - alpha) * this.lastTranslatePosition[2];\n\n\t\t\tthis.translatePosition[0] += alpha * this.targetTranslatePosition[0];\n\t\t\tthis.translatePosition[1] += alpha * this.targetTranslatePosition[1];\n\t\t\tthis.translatePosition[2] += alpha * this.targetTranslatePosition[2];\n\n\t\t\tthis.panX = (1.0 - alpha) * this.lastPanX;\n\t\t\tthis.panY = (1.0 - alpha) * this.lastPanY;\n\t\t\tthis.panX += alpha * this.targetPanX;\n\t\t\tthis.panY += alpha * this.targetPanY;\n\t\t\tif (this._use2D) {\n\t\t\t\t// this.zoom.translateTo(d3Select(this.canvasElement),this.panX+this.canvasElement.clientWidth/2,this.panY+this.canvasElement.clientHeight/2);\n\t\t\t}\n\t\t\tif (alpha >= 1.0) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\n\t/** Helper method to schedule the camera interpolation.\n\t * @method _scheduleCameraInterpolation\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t */\n\t_scheduleCameraInterpolation() {\n\t\tlet cameraInterpolatorTask = {\n\t\t\tname: \"1.1.cameraInterpolator\",\n\t\t\tcallback: (elapsedTime, task) => {\n\t\t\t\tthis._updateCenterNodesPosition();\n\t\t\t\tif (!this._updateCameraInterpolation()) {\n\n\t\t\t\t\tthis.scheduler.unschedule(\"1.1.cameraInterpolator\");\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelay: 0,\n\t\t\trepeat: true,\n\t\t\tsynchronized: true,\n\t\t\timmediateUpdates: false,\n\t\t\tredraw: true,\n\t\t\tupdateNodesGeometry: false,\n\t\t\tupdateEdgesGeometry: false,\n\t\t}\n\t\tthis.scheduler.schedule({\n\t\t\tname: \"1.0.cameraInterpolator\",\n\t\t\tcallback: (elapsedTime, task) => {\n\t\t\t\tthis.scheduler.schedule(cameraInterpolatorTask);\n\t\t\t},\n\t\t\tdelay: 0,\n\t\t\trepeat: false,\n\t\t\tsynchronized: true,\n\t\t\timmediateUpdates: false,\n\t\t\tredraw: false,\n\t\t\tupdateNodesGeometry: false,\n\t\t\tupdateEdgesGeometry: false,\n\t\t});\n\t}\n\n\t//#region Events\n\n\t/** Set the callback for the resize event.\n\t * @method onResize\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the resize event\n\t * helios.onResize((width, height) => {\n\t * \tconsole.log(\"The canvas was resized to \" + width + \"x\" + height);\n\t * });\n\t */\n\tonResize(callback) {\n\t\tthis.onResizeCallback = callback;\n\t\treturn this;\n\t}\n\n\t/** Set the callback for the node click event.\n\t * @method onNodeClick\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the node click event\n\t * helios.onNodeClick((node) => {\n\t * \tconsole.log(\"The node \" + node.id + \" was clicked\");\n\t * });\n\t */\n\tonNodeClick(callback) {\n\t\tthis.onNodeClickCallback = callback;\n\t\treturn this;\n\t}\n\n\t/** Set the callback for the node double click event.\n\t * @method onNodeDoubleClick\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the node double click event\n\t * helios.onNodeDoubleClick((node) => {\n\t * \tconsole.log(\"The node \" + node.id + \" was double clicked\");\n\t * });\n\t * @see {@link Helios#onNodeClick}\n\t */\n\tonNodeDoubleClick(callback) {\n\t\tthis.onNodeDoubleClickCallback = callback;\n\t\treturn this;\n\t}\n\n\t/** Set the callback for the node hover start event.\n\t * @method onNodeHoverStart\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the node hover start event\n\t * helios.onNodeHoverStart((node) => {\n\t * \tconsole.log(\"The node \" + node.id + \" was hovered\");\n\t * });\n\t * @see {@link Helios#onNodeHoverEnd}\n\t * @see {@link Helios#onNodeHoverMove}\n\t */\n\tonNodeHoverStart(callback) {\n\t\tthis.onNodeHoverStartCallback = callback;\n\t\treturn this;\n\t}\n\n\t/** Set the callback for the node hover end event.\n\t * @method onNodeHoverEnd\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the node hover end event\n\t * helios.onNodeHoverEnd((node) => {\n\t * \tconsole.log(\"The node \" + node.id + \" was no longer hovered\");\n\t * });\n\t * @see {@link Helios#onNodeHoverStart}\n\t * @see {@link Helios#onNodeHoverMove}\n\t */\n\tonNodeHoverEnd(callback) {\n\t\tthis.onNodeHoverEndCallback = callback;\n\t\treturn this;\n\t}\n\n\t/** Set the callback for the node hover move event.\n\t * @method onNodeHoverMove\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @category Events\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the node hover move event\n\t * helios.onNodeHoverMove((node) => {\n\t * \tconsole.log(\"The node \" + node.id + \" was hovered\");\n\t * });\n\t * @see {@link Helios#onNodeHoverStart}\n\t * @see {@link Helios#onNodeHoverEnd}\n\t */\n\tonNodeHoverMove(callback) {\n\t\tthis.onNodeHoverMoveCallback = callback;\n\t\treturn this;\n\t}\n\n\n\n\t/** Set the callback for the edge click event.\n\t * @method onEdgeClick\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the edge click event\n\t * helios.onEdgeClick((edge) => {\n\t * \tconsole.log(\"The edge \" + edge.id + \" was clicked\");\n\t * });\n\t * @see {@link Helios#onEdgeDoubleClick}\n\t * @see {@link Helios#onEdgeHoverStart}\n\t * @see {@link Helios#onEdgeHoverEnd}\n\t * @see {@link Helios#onEdgeHoverMove}\n\t */\n\tonEdgeClick(callback) {\n\t\tthis.onEdgeClickCallback = callback;\n\t\treturn this;\n\t}\n\n\t/** Set the callback for the edge double click event.\n\t * @method onEdgeDoubleClick\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the edge double click event\n\t * helios.onEdgeDoubleClick((edge) => {\n\t * \tconsole.log(\"The edge \" + edge.id + \" was double clicked\");\n\t * });\n\t * @see {@link Helios#onEdgeClick}\n\t * @see {@link Helios#onEdgeHoverStart}\n\t * @see {@link Helios#onEdgeHoverEnd}\n\t * @see {@link Helios#onEdgeHoverMove}\n\t */\n\tonEdgeDoubleClick(callback) {\n\t\tthis.onEdgeDoubleClickCallback = callback;\n\t\treturn this;\n\t}\n\n\t/** Set the callback for the edge hover start event.\n\t * @method onEdgeHoverStart\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the edge hover start event\n\t * helios.onEdgeHoverStart((edge) => {\n\t * \tconsole.log(\"The edge \" + edge.id + \" was hovered\");\n\t * });\n\t * @see {@link Helios#onEdgeClick}\n\t * @see {@link Helios#onEdgeDoubleClick}\n\t * @see {@link Helios#onEdgeHoverEnd}\n\t * @see {@link Helios#onEdgeHoverMove}\n\t */\n\tonEdgeHoverStart(callback) {\n\t\tthis.onEdgeHoverStartCallback = callback;\n\t\treturn this;\n\t}\n\n\t/** Set the callback for the edge hover end event.\n\t * @method onEdgeHoverEnd\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the edge hover end event\n\t * helios.onEdgeHoverEnd((edge) => {\n\t * \tconsole.log(\"The edge \" + edge.id + \" was no longer hovered\");\n\t * });\n\t * @see {@link Helios#onEdgeClick}\n\t * @see {@link Helios#onEdgeDoubleClick}\n\t * @see {@link Helios#onEdgeHoverStart}\n\t * @see {@link Helios#onEdgeHoverMove}\n\t */\n\tonEdgeHoverEnd(callback) {\n\t\tthis.onEdgeHoverEndCallback = callback;\n\t\treturn this;\n\t}\n\n\t/** Set the callback for the edge hover move event.\n\t * @method onEdgeHoverMove\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the edge hover move event\n\t * helios.onEdgeHoverMove((edge) => {\n\t * \tconsole.log(\"The edge \" + edge.id + \" was hovered\");\n\t * });\n\t * @see {@link Helios#onEdgeClick}\n\t * @see {@link Helios#onEdgeDoubleClick}\n\t * @see {@link Helios#onEdgeHoverStart}\n\t * @see {@link Helios#onEdgeHoverEnd}\n\t */\n\tonEdgeHoverMove(callback) {\n\t\tthis.onEdgeHoverMoveCallback = callback;\n\t\treturn this;\n\t}\n\n\t/** Set the callback for the zoom event.\n\t * @method onZoom\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the zoom event\n\t * helios.onZoom((zoom) => {\n\t * \tconsole.log(\"The zoom is now \" + zoom);\n\t * });\n\t * @see {@link Helios#onRotation}\n\t */\n\tonZoom(callback) {\n\t\tthis.onZoomCallback = callback;\n\t\treturn this;\n\t}\n\n\t/** Set the callback for the rotation event.\n\t * @method onRotation\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the rotation event\n\t * helios.onRotation((rotation) => {\n\t * \tconsole.log(\"The rotation is now \" + rotation);\n\t * });\n\t * @see {@link Helios#onZoom}\n\t */\n\tonRotation(callback) {\n\t\tthis.onRotationCallback = callback;\n\t\treturn this;\n\t}\n\n\t/** Set the callback for the layout start event.\n\t * @method onLayoutStart\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the layout start event\n\t * helios.onLayoutStart(() => {\n\t * \tconsole.log(\"The layout has started\");\n\t * });\n\t * @see {@link Helios#onLayoutStop}\n\t * @see {@link Helios#onLayoutTick}\n\t * @see {@link Helios#onLayoutEnd}\n\t */\n\tonLayoutStart(callback) {\n\t\tconsole.log(\"On start\",this.layoutWorker)\n\t\tthis.onLayoutStartCallback = callback;\n\t\tthis?.layoutWorker.onStart(() => {\n\t\t\tthis.onLayoutStartCallback?.();\n\t\t});\n\t\treturn this;\n\t}\n\n\n\t/** Set the callback for the layout stop event.\n\t * @method onLayoutStop\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the layout stop event\n\t * helios.onLayoutStop(() => {\n\t * \tconsole.log(\"The layout has stopped\");\n\t * });\n\t * @see {@link Helios#onLayoutStart}\n\t * @see {@link Helios#onLayoutTick}\n\t */\n\tonLayoutStop(callback) {\n\t\tconsole.log(\"Stop\",this.layoutWorker)\n\t\tthis.onLayoutStopCallback = callback;\n\t\tthis?.layoutWorker.onStop(() => {\n\t\t\tthis.onLayoutStopCallback?.();\n\t\t});\n\t\treturn this;\n\t}\n\n\t/** Set the callback for the draw event.\n\t * @method onDraw\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for the draw event\n\t * helios.onDraw(() => {\n\t * \tconsole.log(\"The graph was drawn\");\n\t * });\n\t * @see {@link Helios#onReady}\n\t */\n\tonDraw(callback) {\n\t\tthis.onDrawCallback = callback;\n\t\treturn this;\n\t}\n\n\t/** Set the callback for when Helios is ready and properly initialized.\n\t * @method onReady\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for when Helios is ready\n\t * let helios = Helios(\"elementID\",networkData);\n\t * helios.onReady(() => {\n\t * \tconsole.log(\"Helios is ready\");\n\t * });\n\t */\n\tonReady(callback) {\n\t\tif (this._isReady) {\n\t\t\tcallback?.(this);\n\t\t} else {\n\t\t\tthis.onReadyCallback = callback;\n\t\t}\n\t}\n\n\n\t/** Set the callback for when Helios is cleaned up and properly disposed.\n\t * @method onCleanup\n\t * @memberof Helios\n\t * @instance\n\t * @param {Function} callback - The callback function.\n\t * @chainable\n\t * @return {this} The current Helios instance for chaining.\n\t * @example\n\t * // Set the callback for when Helios is cleaned up\n\t * let helios = Helios(\"elementID\",networkData);\n\t * helios.onCleanup(() => {\n\t * \tconsole.log(\"Helios is cleaned up\");\n\t * });\n\t */\n\tonCleanup(callback) {\n\t\tif (this.isCleanedUp) {\n\t\t\tcallback?.(this);\n\t\t} else {\n\t\t\tthis.onCleanupCallback = callback;\n\t\t}\n\t}\n\n\n\t//#endregion\n\n\n\t//#region Style attributes\n\n\t/** Set the background color of the graph.\n\t * @method backgroundColor\n\t * @memberof Helios\n\t * @instance\n\t * @param {Array<number>} color - The background color of the graph in RGB or RGBA formats as 3 or 4 float entries from 0.0 to 1.0.\n\t * @chainable\n\t * @return {Array<number>|this} The background color of the panel or the current Helios instance for chaining.\n\t * @example\n\t * // Set the background color of the graph to red\n\t * helios.backgroundColor([1.0,0,0,1.0]);\n\t * @example\n\t * // Get the background color of the graph\n\t * let backgroundColor = helios.backgroundColor();\n\t */\n\tbackgroundColor(color) {\n\t\t// check if color is defined\n\t\tif (typeof color === \"undefined\") {\n\t\t\treturn this._backgroundColor;\n\t\t} else {\n\t\t\tthis._backgroundColor = color;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\n\t/** Set the color of the nodes.\n\t * @method nodeColor\n\t * @memberof Helios\n\t * @instance\n\t * @param {Array<number>|Function} colorInput - The color of the nodes in RGB or RGBA formats as 3 or 4 float entries from 0.0 to 1.0 or a function that returns the color of the nodes.\n\t * @param {string} [nodeID] - The ID of the node to set the color of. If not specified, the color of all nodes will be set.\n\t * @chainable\n\t * @return {Array<number>|this} The color of the nodes or the current Helios instance for chaining.\n\t * @example\n\t * // Set the color of all nodes to red\n\t * helios.nodeColor([1.0,0,0,1.0]);\n\t * @example\n\t * // Set the color of a specific node to red\n\t * helios.nodeColor([1.0,0,0,1.0], \"nodeID\");\n\t * @example\n\t * // Set the color of all nodes to a random color\n\t * helios.nodeColor((node) => {\n\t * \treturn [Math.random(), Math.random(), Math.random(), 1.0];\n\t * });\n\t * @example\n\t * // Set the color of all nodes based on an node attribute called `altColor`\n\t * helios.nodeColor((node) => {\n\t * \treturn node.altColor;\n\t * });\n\t */\n\tnodeColor(colorInput, nodeID) {\n\t\tif (typeof nodeID === \"undefined\") {\n\t\t\tif (typeof colorInput === \"undefined\") {\n\t\t\t\treturn this.network.colors;\n\t\t\t} else if (typeof colorInput === \"function\") {\n\t\t\t\t// This may be used in future if we want to have a dynamic nodes\n\t\t\t\t// for (const [nodeID, node] of Object.entries(this.network.nodes)) {\n\t\t\t\t// \tlet nodeIndex = this.network.ID2index[nodeID];\n\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tlet node = allNodes[nodeIndex];\n\t\t\t\t\tlet aColor = colorInput(node, nodeIndex, this.network);\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 0] = aColor[0];\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 1] = aColor[1];\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 2] = aColor[2];\n\t\t\t\t\tif (aColor.length > 3) {\n\t\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 3] = aColor[3];\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} else if (typeof colorInput === \"number\") {\n\t\t\t\t//index\n\t\t\t\treturn this.network.colors[this.network.ID2index[colorInput]];\n\t\t\t} else {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 0] = colorInput[0];\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 1] = colorInput[1];\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 2] = colorInput[2];\n\t\t\t\t\tif (colorInput.length > 3) {\n\t\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 3] = colorInput[3];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof colorInput === \"function\") {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tlet aColor = colorInput(nodeID, nodeIndex, this.network);\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 0] = aColor[0];\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 1] = aColor[1];\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 2] = aColor[2];\n\t\t\t\tif (aColor.length > 3) {\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 3] = aColor[3];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 0] = colorInput[0];\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 1] = colorInput[1];\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 2] = colorInput[2];\n\t\t\t\tif (colorInput.length > 3) {\n\t\t\t\t\tthis.network.colors[nodeIndex * 4 + 3] = colorInput[3];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\t/** Set the size of the nodes.\n\t * @method nodeSize\n\t * @memberof Helios\n\t * @instance\n\t * @param {number|Function} sizeInput - The size of the nodes or a function that returns the size of the nodes.\n\t * @param {string} [nodeID] - The ID of the node to set the size of. If not specified, the size of all nodes will be set.\n\t * @chainable\n\t * @return {number|this} The size of the nodes or the current Helios instance for chaining.\n\t * @example\n\t * // Set the size of all nodes to 10\n\t * helios.nodeSize(10);\n\t * @example\n\t * // Set the size of a specific node to 10\n\t * helios.nodeSize(10, \"nodeID\");\n\t * @example\n\t * // Set the size of all nodes to a random size\n\t * helios.nodeSize(() => {\n\t * \treturn Math.random() * 10;\n\t * });\n\t * @example\n\t * // Set the size of all nodes based on an node attribute called `altSize`\n\t * helios.nodeSize((node) => {\n\t * \treturn node.altSize;\n\t * });\n\t */\n\tnodeSize(sizeInput, nodeID) {\n\t\tif (typeof nodeID === \"undefined\") {\n\t\t\tif (typeof sizeInput === \"undefined\") {\n\t\t\t\treturn this.network.sizes;\n\t\t\t} else if (typeof sizeInput === \"function\") {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tlet node = allNodes[nodeIndex];\n\t\t\t\t\tlet aSize = sizeInput(node, this.network);\n\t\t\t\t\tthis.network.sizes[nodeIndex] = aSize;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tthis.network.sizes[nodeIndex] = sizeInput;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof sizeInput === \"function\") {\n\t\t\t\tlet aSize = sizeInput(nodeID, this.network);\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.sizes[nodeIndex] = aSize;\n\t\t\t} else {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.sizes[nodeIndex] = sizeInput;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\n\t/** Set the color of the node outlines.\n\t * @method nodeOutlineColor\n\t * @memberof Helios\n\t * @instance\n\t * @param {number[]|Function} colorInput - The color of the node outlines or a function that returns the color of the node outlines. Uses RGBA or RGBA formatted array.\n\t * @param {string} [nodeID] - The ID of the node to set the color of. If not specified, the color of all nodes will be set.\n\t * @chainable\n\t * @return {number[]|this} The color of the node outlines or the current Helios instance for chaining.\n\t * @example\n\t * // Set the color of all node outlines to red\n\t * helios.nodeOutlineColor([1, 0, 0, 1]);\n\t * @example\n\t * // Set the color of a specific node outline to red\n\t * helios.nodeOutlineColor([1, 0, 0, 1], \"nodeID\");\n\t * @example\n\t * // Set the color of all node outlines to a random color\n\t * helios.nodeOutlineColor(() => {\n\t * \treturn [Math.random(), Math.random(), Math.random(), 1];\n\t * });\n\t * @example\n\t * // Set the color of all node outlines based on an node attribute called `altColor`\n\t * helios.nodeOutlineColor((node) => {\n\t * \treturn node.altColor;\n\t * });\n\t */\n\tnodeOutlineColor(colorInput, nodeID) {\n\t\tif (typeof nodeID === \"undefined\") {\n\t\t\tif (typeof colorInput === \"undefined\") {\n\t\t\t\treturn this.network.outlineColors;\n\t\t\t} else if (typeof colorInput === \"function\") {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tlet node = allNodes[nodeIndex];\n\t\t\t\t\tlet aColor = colorInput(node, nodeIndex, this.network);\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 0] = aColor[0];\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 1] = aColor[1];\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 2] = aColor[2];\n\t\t\t\t\tif (aColor.length > 3) {\n\t\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 3] = aColor[3];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (typeof colorInput === \"number\") {\n\t\t\t\t//index\n\t\t\t\treturn this.network.outlineColors[this.network.ID2index[colorInput]];\n\t\t\t} else {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 0] = colorInput[0];\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 1] = colorInput[1];\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 2] = colorInput[2];\n\t\t\t\t\tif (colorInput.length > 3) {\n\t\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 3] = colorInput[3];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof colorInput === \"function\") {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tlet aColor = colorInput(nodeID, nodeIndex, this.network);\n\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 0] = aColor[0];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 1] = aColor[1];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 2] = aColor[2];\n\t\t\t\tif (aColor.length > 3) {\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 3] = aColor[3];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 0] = colorInput[0];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 1] = colorInput[1];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 2] = colorInput[2];\n\t\t\t\tif (colorInput.length > 3) {\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 4 + 3] = colorInput[3];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\t/** Set the width of the node outlines.\n\t * @method nodeOutlineWidth\n\t * @memberof Helios\n\t * @instance\n\t * @param {number|Function} widthInput - The width of the node outlines or a function that returns the width of the node outlines.\n\t * @param {string} [nodeID] - The ID of the node to set the width of. If not specified, the width of all nodes will be set.\n\t * @chainable\n\t * @return {number|this} The width of the node outlines or the current Helios instance for chaining.\n\t * @example\n\t * // Set the width of all node outlines to 5\n\t * helios.nodeOutlineWidth(5);\n\t * @example\n\t * // Set the width of a specific node outline to 5\n\t * helios.nodeOutlineWidth(5, \"nodeID\");\n\t * @example\n\t * // Set the width of all node outlines to a random width\n\t * helios.nodeOutlineWidth(() => {\n\t * \treturn Math.random() * 10;\n\t * });\n\t * @example\n\t * // Set the width of all node outlines based on an node attribute called `altWidth`\n\t * helios.nodeOutlineWidth((node) => {\n\t * \treturn node.altWidth;\n\t * });\n\t * @example\n\t * // Set the width of all node outlines based on an node attribute called `altWidth`\n\t * helios.nodeOutlineWidth((node) => {\n\t * \treturn node.altWidth;\n\t * });\n\t */\n\tnodeOutlineWidth(widthInput, nodeID) {\n\t\tif (typeof nodeID === \"undefined\") {\n\t\t\tif (typeof widthInput === \"undefined\") {\n\t\t\t\treturn this.network.outlineWidths;\n\t\t\t} else if (typeof widthInput === \"function\") {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tlet node = allNodes[nodeIndex];\n\t\t\t\t\tlet aWidth = widthInput(node, this.network);\n\t\t\t\t\tthis.network.outlineWidths[node.index] = aWidth;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\t\tthis.network.outlineWidths[nodeIndex] = widthInput;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof widthInput === \"function\") {\n\t\t\t\tlet aWidth = widthInput(nodeID, this.network);\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.outlineWidths[nodeIndex] = aWidth;\n\t\t\t} else {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.outlineWidths[nodeIndex] = widthInput;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\n\n\t/** Set the color of the edges.\n\t * @method edgeColor\n\t * @memberof Helios\n\t * @instance\n\t * @param {number|Function} colorInput - The color of the edges or a function that returns the color of the edges.\n\t * @param {string} [edgeID] - The ID of the edge to set the color of. If not specified, the color of all edges will be set.\n\t * @chainable\n\t * @return {number|this} The color of the edges or the current Helios instance for chaining.\n\t * @example\n\t * // Set the color of all edges to red\n\t * helios.edgeColor([1, 0, 0, 1]);\n\t * @example\n\t * // Set the color of a specific edge to red\n\t * helios.edgeColor([1, 0, 0, 1], \"edgeID\");\n\t * @example\n\t * // Set the color of all edges to a random color\n\t * helios.edgeColor(() => {\n\t * \treturn [Math.random(), Math.random(), Math.random(), 1];\n\t * });\n\t * @example\n\t * // Set the color of all edges based on an edge attribute called `altColor`\n\t * helios.edgeColor((edge) => {\n\t * \treturn edge.altColor;\n\t * });\n\t */\n\tedgeColor(colorInput, edgeID) {\n\t\tif (typeof edgeID === \"undefined\") {\n\t\t\tif (typeof colorInput === \"undefined\") {\n\t\t\t\treturn this.network.edgeColors;\n\t\t\t} else if (typeof colorInput === \"function\") {\n\t\t\t\t// This may be used in future if we want to have a dynamic nodes\n\t\t\t\t// for (const [nodeID, node] of Object.entries(this.network.nodes)) {\n\t\t\t\t// \tlet nodeIndex = this.network.ID2index[nodeID];\n\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tlet allEdges = this.network.indexedEdges;\n\t\t\t\tfor (let edgeIndex = 0; edgeIndex < allEdges.length / 2; edgeIndex++) {\n\t\t\t\t\tlet sourceNode = allNodes[allEdges[edgeIndex * 2]];\n\t\t\t\t\tlet targetNode = allNodes[allEdges[edgeIndex * 2 + 1]];\n\t\t\t\t\tlet aColor = colorInput(edgeIndex, sourceNode, targetNode, this.network);\n\t\t\t\t\tif (aColor.length == 2) {// two colors\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 0] = aColor[0][0];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 1] = aColor[0][1];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 2] = aColor[0][2];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 0] = aColor[1][0];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 1] = aColor[1][1];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 2] = aColor[1][2];\n\t\t\t\t\t\tif (aColor[0].length > 3) {\n\t\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 3] = aColor[0][3];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (aColor[1].length > 3) {\n\t\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 3] = aColor[1][3];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {// two colors\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 0] = aColor[0];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 1] = aColor[1];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 2] = aColor[2];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 0] = aColor[0];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 1] = aColor[1];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 2] = aColor[2];\n\t\t\t\t\t\tif (aColor.length > 3) {\n\t\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 3] = aColor[3];\n\t\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 3] = aColor[3];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (typeof colorInput === \"number\") {\n\t\t\t\t//index\n\t\t\t\treturn [this.network.edgeColors[colorInput * 2 + 0], this.network.edgeColors[colorInput * 2 + 1]];\n\t\t\t} else {\n\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tlet allEdges = this.network.indexedEdges;\n\t\t\t\tfor (let edgeIndex = 0; edgeIndex < allEdges.length / 2; edgeIndex++) {\n\t\t\t\t\tlet sourceNode = allNodes[allEdges[edgeIndex * 2]];\n\t\t\t\t\tlet targetNode = allNodes[allEdges[edgeIndex * 2 + 1]];\n\t\t\t\t\tif (colorInput.length == 2) {// two colors\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 0] = colorInput[0][0];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 1] = colorInput[0][1];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 2] = colorInput[0][2];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 0] = colorInput[1][0];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 1] = colorInput[1][1];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 2] = colorInput[1][2];\n\t\t\t\t\t\tif (colorInput[0].length > 3) {\n\t\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 3] = colorInput[0][3];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (colorInput[1].length > 3) {\n\t\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 3] = colorInput[1][3];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {// two colors\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 0] = colorInput[0];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 1] = colorInput[1];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 2] = colorInput[2];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 0] = colorInput[0];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 1] = colorInput[1];\n\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 2] = colorInput[2];\n\t\t\t\t\t\tif (colorInput.length > 3) {\n\t\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 3] = colorInput[3];\n\t\t\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 3] = colorInput[3];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tlet aColor = colorInput;\n\t\t\tif (typeof colorInput === \"function\") {\n\t\t\t\tlet aColor = colorInput(nodeID, nodeIndex, this.network);\n\t\t\t}\n\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\tif (colorInput.length == 2) {// two colors\n\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 0] = colorInput[0][0];\n\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 1] = colorInput[0][1];\n\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 2] = colorInput[0][2];\n\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 0] = colorInput[1][0];\n\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 1] = colorInput[1][1];\n\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 2] = colorInput[1][2];\n\t\t\t\tif (colorInput[0].length > 3) {\n\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 3] = colorInput[0][3];\n\t\t\t\t}\n\t\t\t\tif (colorInput[1].length > 3) {\n\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 3] = colorInput[1][3];\n\t\t\t\t}\n\t\t\t} else {// two colors\n\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 0] = colorInput[0];\n\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 1] = colorInput[1];\n\t\t\t\tthis.network.edgeColors[(edgeIndex * 2) * 4 + 2] = colorInput[2];\n\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 0] = colorInput[0];\n\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 1] = colorInput[1];\n\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 2] = colorInput[2];\n\t\t\t\tif (colorInput.length > 3) {\n\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 3] = colorInput[3];\n\t\t\t\t\tthis.network.edgeColors[(edgeIndex * 2 + 1) * 4 + 3] = colorInput[3];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\n\t/** Set the width of the edges. \n\t * @method edgeWidth\n\t * @memberof Helios\n\t * @instance\n\t * @param {number|function} widthInput - The width of the edges. If a function is provided, it will be called for each edge. The function should return a number or an array of two numbers, the width at the source and target.\n\t * @param {number} [edgeIndex] - The index of the edge. If not provided, the width will be set for all edges.\n\t * @return {number|this} - The width of the edge if no arguments are provided, otherwise the Helios instance for chaining.\n\t * @example\n\t * // Set the width of all edges to 5.\n\t * helios.edgeWidth(5);\n\t * @example\n\t * // Set the width of the edge with index 0 to 5.\n\t * helios.edgeWidth(5, 0);\n\t * @example\n\t * // Set the width of all edges to a random number between 1 and 10.\n\t * helios.edgeWidth(sourceNode, targetNode, edgeIndex) => {\n\t *    return Math.random() * 9 + 1;\n\t * });\n\t * @example\n\t * // Set the width of all edges to 5 at source and 2 at target.\n\t * helios.edgeWidth(sourceNode, targetNode, edgeIndex) => {\n\t *   return [5, 2];\n\t * });\n\t * @example\n\t * // Set the width of the edge with altSizes properties from source and target.\n\t * helios.edgeWidth(sourceNode, targetNode, edgeIndex) => {\n\t *  return [sourceNode.altSizes, targetNode.altSizes];\n\t * });\n\t */\n\tedgeWidth(widthInput, edgeIndex) {\n\t\tif (typeof edgeIndex === \"undefined\") {\n\t\t\tif (typeof widthInput === \"undefined\") {\n\t\t\t\treturn this.network.edgeColors;\n\t\t\t} else if (typeof widthInput === \"function\") {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tlet allEdges = this.network.indexedEdges;\n\t\t\t\tfor (let edgeIndex = 0; edgeIndex < allEdges.length / 2; edgeIndex++) {\n\t\t\t\t\tlet sourceNode = allNodes[allEdges[edgeIndex * 2]];\n\t\t\t\t\tlet targetNode = allNodes[allEdges[edgeIndex * 2 + 1]];\n\t\t\t\t\tlet aWidth = widthInput(sourceNode, targetNode, edgeIndex, this.network);\n\n\t\t\t\t\tif (typeof aWidth === \"number\") {\n\t\t\t\t\t\tthis.network.edgeSizes[edgeIndex * 2] = aWidth;\n\t\t\t\t\t\tthis.network.edgeSizes[edgeIndex * 2 + 1] = aWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.network.edgeSizes[edgeIndex * 2] = aWidth[0];\n\t\t\t\t\t\tthis.network.edgeSizes[edgeIndex * 2 + 1] = aWidth[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet allEdges = this.network.indexedEdges;\n\t\t\t\tfor (let edgeIndex = 0; edgeIndex < allEdges.length / 2; edgeIndex++) {\n\t\t\t\t\tif (typeof widthInput === \"number\") {\n\t\t\t\t\t\tthis.network.edgeSizes[edgeIndex * 2] = widthInput;\n\t\t\t\t\t\tthis.network.edgeSizes[edgeIndex * 2 + 1] = widthInput;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.network.edgeSizes[edgeIndex * 2] = widthInput[0];\n\t\t\t\t\t\tthis.network.edgeSizes[edgeIndex * 2 + 1] = widthInput[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof widthInput === \"function\") {\n\t\t\t\tlet allNodes = this.network.index2Node;\n\t\t\t\tlet allEdges = this.network.indexedEdges;\n\t\t\t\tlet sourceNode = allNodes[allEdges[edgeIndex * 2]];\n\t\t\t\tlet targetNode = allNodes[allEdges[edgeIndex * 2 + 1]];\n\t\t\t\tlet aWidth = widthInput(sourceNode, targetNode, edgeIndex, this.network);\n\t\t\t\tif (typeof aWidth === \"number\") {\n\t\t\t\t\tthis.network.edgeSizes[edgeIndex * 2] = aWidth;\n\t\t\t\t\tthis.network.edgeSizes[edgeIndex * 2 + 1] = aWidth;\n\t\t\t\t} else {\n\t\t\t\t\tthis.network.edgeSizes[edgeIndex * 2] = aWidth[0];\n\t\t\t\t\tthis.network.edgeSizes[edgeIndex * 2 + 1] = aWidth[1];\n\t\t\t\t}\n\t\t\t} else if (typeof widthInput === \"number\") {\n\t\t\t\tthis.network.edgeSizes[edgeIndex * 2] = widthInput;\n\t\t\t\tthis.network.edgeSizes[edgeIndex * 2 + 1] = widthInput;\n\t\t\t} else {\n\t\t\t\tthis.network.edgeSizes[edgeIndex * 2] = widthInput[0];\n\t\t\t\tthis.network.edgeSizes[edgeIndex * 2 + 1] = widthInput[1];\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\n\t/** Project the positions of the nodes provided to the screen (using the projection matrix).\n\t * @method getProjectedPositions\n\t * @memberof Helios\n\t * @instance\n\t * @param {Node[]|number} nodes - The nodes or indices of nodes to project.\n\t * @return {Float32Array} - The projected positions of the nodes.\n\t * @example\n\t * // Get the projected positions of all nodes.\n\t * let projectedPositions = helios.getProjectedPositions(helios.network.nodes);\n\t */\n\tgetProjectedPositions(nodes) {\n\t\t// Use the CPU to project the positions\n\t\t// if nodes are provided, use them, otherwise use all nodes\n\t\tif (nodes === undefined) {\n\t\t\tnodes = this.network.nodes;\n\t\t}\n\t\t// if nodes is not empty\n\t\tif (nodes.length > 0) {\n\t\t\tconst gl = this.gl;\n\t\t\tlet nodeIndices = new Uint32Array(nodes.length);\n\t\t\tif (typeof nodes[0] === \"number\") {\n\t\t\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\t\t\tnodeIndices[i] = nodes[i];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnodeIndices = new Uint32Array(nodes.length);\n\t\t\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\t\t\tnodeIndices[i] = nodes[i].index;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet nodePositions = this.network.positions;\n\t\t\tlet projectedPositions = new Float32Array(nodes.length * 4);\n\n\t\t\tlet [w2d, h2d] = this._lastCanvasDimensions;\n\n\t\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\t\tlet nodeIndex = nodeIndices[i];\n\t\t\t\tlet nodePosition = [nodePositions[nodeIndex * 3], nodePositions[nodeIndex * 3 + 1], nodePositions[nodeIndex * 3 + 2], 1.0];\n\n\t\t\t\tlet projectedPosition = glm.vec4.create();\n\t\t\t\tglm.vec4.transformMat4(projectedPosition, nodePosition, this.projectionViewMatrix);\n\t\t\t\t// console.log(projectedPosition)\n\t\t\t\t// mat4.multiplyVec4(projectionViewMatrix, position, dest);\n\t\t\t\t// if (projectedPosition[2] < 0) {//behind the camera\n\t\t\t\t// \t// continue;\n\t\t\t\t// }\n\n\t\t\t\tlet perspectiveFactor = 1.0 / projectedPosition[3];\n\n\t\t\t\t// if(!this._orthographic){\n\t\t\t\t// \tperspectiveFactor = 1.0 / (projectedPosition[3]);\n\t\t\t\t// }\n\t\t\t\tlet x = w2d / 2 + projectedPosition[0] * w2d * 0.5 * perspectiveFactor;\n\t\t\t\tlet y = h2d / 2 - projectedPosition[1] * h2d * 0.5 * perspectiveFactor;\n\t\t\t\t//perspective divide\n\t\t\t\tprojectedPositions[i * 4] = x;\n\t\t\t\tprojectedPositions[i * 4 + 1] = y;\n\t\t\t\tprojectedPositions[i * 4 + 2] = projectedPosition[2];\n\t\t\t\tprojectedPositions[i * 4 + 3] = projectedPosition[3];\n\t\t\t}\n\t\t\treturn projectedPositions;\n\t\t} else {\n\t\t\treturn Float32Array(0);\n\t\t}\n\t}\n\n\n\n\t/** Pick a node at the given screen coordinates.\n\t * @method pickNode\n\t * @memberof Helios\n\t * @instance\n\t * @param {number} x - The x coordinate of the point to pick.\n\t * @param {number} y - The y coordinate of the point to pick.\n\t * @return {Node} - The node at the given point, or null if no node was picked.\n\t * @example\n\t * // Pick a node at the center of the canvas.\n\t * let node = helios.pickNode(helios.canvasElement.width / 2, helios.canvasElement.height / 2);\n\t * if(node !== null) {\n\t *    console.log(\"Picked node \" + node.index);\n\t * }\n\t * @example\n\t * // Pick a node at the center of the canvas, and highlight it.\n\t * let node = helios.pickNode(helios.canvasElement.width / 2, helios.canvasElement.height / 2);\n\t * if(node !== null) {\n\t *   console.log(\"Picked node \" + node.index);\n\t *  helios.highlightNode(node);\n\t * }\n\t */\n\tpickPoint(x, y) {\n\t\tconst fbWidth = this.canvasElement.width * this.pickingResolutionRatio;\n\t\tconst fbHeight = this.canvasElement.height * this.pickingResolutionRatio;\n\t\tconst pixelX = Math.round(x * fbWidth / this.canvasElement.clientWidth - 0.5);\n\t\tconst pixelY = Math.round(fbHeight - y * fbHeight / this.canvasElement.clientHeight - 0.5);\n\t\tconst data = new Uint8Array(4);\n\t\tconst gl = this.gl;\n\t\n\t\t// Helper function to read the ID\n\t\tconst readID = () => {\n\t\t\tgl.readPixels(\n\t\t\t\tpixelX,            // x\n\t\t\t\tpixelY,            // y\n\t\t\t\t1,                 // width\n\t\t\t\t1,                 // height\n\t\t\t\tgl.RGBA,           // format\n\t\t\t\tgl.UNSIGNED_BYTE,  // type\n\t\t\t\tdata);             // typed array to hold result\n\t\t\treturn (data[0] + (data[1] << 8) + (data[2] << 16) + (data[3] << 24)) - 1;\n\t\t};\n\t\n\t\t// Bind the framebuffer for picking\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.pickingFramebuffer);\n\t\n\t\tconst ID = readID();\n\t\tif (ID >= 0) {\n\t\t\t// it is a node or edge\n\t\t\tif (ID < this.network.nodeCount) {\n\t\t\t\treturn ID; // Node\n\t\t\t} else if (ID <= this.network.nodeCount) {\n\t\t\t\treturn ID; // Edge\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn -1; // Nothing picked\n\n\t}\n\t\n\n\t_consolidateCentroids(centroids, counts) {\n\t\tfor (const [nodeAttribute, centroid] of centroids) {\n\t\t\tconst count = counts.get(nodeAttribute);\n\t\t\tcentroid[0] /= count;\n\t\t\tcentroid[1] /= count;\n\t\t}\n\t}\n\n\t_calculateCentroidForAttribute(nodeAttribute, xy, centroids, counts) {\n\t\t// const xy = this._pixelXYOnScreen[i];\n\t\tif (!centroids.has(nodeAttribute)) {\n\t\t\tcentroids.set(nodeAttribute, [0, 0]);\n\t\t\tcounts.set(nodeAttribute, 0);\n\t\t}\n\t\tconst centroid = centroids.get(nodeAttribute);\n\t\tcentroid[0] += xy[0];\n\t\tcentroid[1] += xy[1];\n\n\t\tconst count = counts.get(nodeAttribute);\n\t\tcounts.set(nodeAttribute, count + 1);\n\t}\n\n\n\t_updateTrackerNodesData() {\n\t\tconst gl = this.gl;\n\t\tconst data = this._trackingBufferPixels;\n\t\tconst nodesOnScreen = this._nodesOnScreen;\n\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this._trackingFramebuffer);\n\t\tgl.readPixels(\n\t\t\t0,            // x\n\t\t\t0,            // y\n\t\t\tthis._trackingFramebuffer.size.width,                 // width\n\t\t\tthis._trackingFramebuffer.size.height,                 // height\n\t\t\tgl.RGBA,           // format\n\t\t\tgl.UNSIGNED_BYTE,  // type\n\t\t\tdata);             // typed array to hold result\n\t\t//  if this.pixelCountsByIndex is not defined\n\n\t\tfor (let i = 0; i < data.length; i += 4) {\n\t\t\tconst nodeIndex = (data[i] + (data[i + 1] << 8) + (data[i + 2] << 16) + (data[i + 3] << 24)) - 1;\n\t\t\tnodesOnScreen[i / 4] = nodeIndex;\n\t\t}\n\n\t}\n\n\t/** Pick a node at the given screen coordinates.\n\t * @method updateAttributeTrackers\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @return {Helios|this} - The Helios instance (for chaining).\n\t */\n\tupdateAttributeTrackers(avoidPixelBufferUpdate = false) {\n\t\tif (!this._trackingBufferEnabled || Object.keys(this._attributeTrackers).length === 0) {\n\t\t\treturn this;\n\t\t}\n\t\tconst attributeTrackers = this._attributeTrackers;\n\t\tconst totalPixels = this._trackingFramebuffer.size.width * this._trackingFramebuffer.size.height;\n\n\n\t\tconst nodesOnScreen = this._nodesOnScreen;\n\t\tconst XYPositions = this._pixelXYOnScreen;\n\n\t\tif (!avoidPixelBufferUpdate) {\n\t\t\tthis._updateTrackerNodesData();\n\t\t}\n\n\t\tconst now = performance.now();\n\t\tlet elapsedTime = now - this._trackingLastTime || now;\n\t\tif (elapsedTime > 1000) {\n\t\t\telapsedTime = 1000;\n\t\t}\n\t\tthis._trackingLastTime = now;\n\n\t\tfor (let trackedAttributeEntryKey in attributeTrackers) {\n\t\t\tconst trackedAttributeEntry = attributeTrackers[trackedAttributeEntryKey];\n\t\t\tconst pixelCounter = trackedAttributeEntry.pixelCounter;\n\t\t\tconst currentKeys = pixelCounter.getSortedKeys();\n\t\t\tconst smoothness = trackedAttributeEntry.smoothness;\n\t\t\tconst minProportion = trackedAttributeEntry.minProportion;\n\t\t\tconst calculateCentroid = trackedAttributeEntry.calculateCentroid;\n\t\t\tconst centroidPositions = trackedAttributeEntry.centroidPositions;\n\t\t\tconst attribute = trackedAttributeEntry.attribute;\n\t\t\tconst maxLabels = trackedAttributeEntry.maxLabels;\n\t\t\tconst centroids = new Map();\n\t\t\tconst counts = new Map();\n\n\t\t\t// calculate coefficient based on elapsed time of the last update using performance\n\n\n\n\t\t\t// const coefficient = Math.exp(- (now - trackedAttributeEntry.lastUpdate) / smoothness);\n\t\t\tconst coefficient = Math.exp(-elapsedTime / (100 * smoothness));\n\t\t\t// const coefficient = smoothness;\n\t\t\t// console.log(coefficient);\n\n\t\t\t// smoothness = -30/log(0.8)\n\n\t\t\t// const attribute = trackedAttributeEntry.attribute;\n\t\t\t// console.log(currentKeys.length);\n\t\t\tfor (let i = 0; i < currentKeys.length; i++) {\n\t\t\t\tconst currentKey = currentKeys[i];\n\t\t\t\tconst newValue = pixelCounter.get(currentKeys[i]) * coefficient;\n\t\t\t\tif (newValue > minProportion) {\n\t\t\t\t\t// console.log(newValue);\n\t\t\t\t\tpixelCounter.set(currentKeys[i], newValue);\n\t\t\t\t\tif (calculateCentroid) {\n\t\t\t\t\t\tif (centroidPositions.has(currentKeys[i])) {\n\t\t\t\t\t\t\tconst centroidPosition = centroidPositions.get(currentKeys[i]);\n\t\t\t\t\t\t\tif (centroidPosition) {\n\t\t\t\t\t\t\t\tcentroidPosition[0] *= coefficient;\n\t\t\t\t\t\t\t\tcentroidPosition[1] *= coefficient;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// centroidPositions.set(currentKeys[i], centroidPosition);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tpixelCounter.delete(currentKeys[i]);\n\t\t\t\t\tif (calculateCentroid) {\n\t\t\t\t\t\tcentroidPositions.delete(currentKeys[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// const totalPixels\n\n\t\t\tif (attribute == \"index\") {\n\t\t\t\tfor (let i = 0; i < nodesOnScreen.length; i++) {\n\t\t\t\t\tconst nodeIndex = nodesOnScreen[i];\n\t\t\t\t\tif (nodeIndex >= 0) {\n\t\t\t\t\t\tconst newValue = (pixelCounter.get(nodeIndex) || 0) + 1.0 / totalPixels * (1.0 - coefficient);\n\t\t\t\t\t\tpixelCounter.set(nodeIndex, newValue);\n\t\t\t\t\t\tif (calculateCentroid) {\n\t\t\t\t\t\t\tthis._calculateCentroidForAttribute(nodeIndex, XYPositions[i], centroids, counts);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// is a function\n\t\t\t} else if (attribute == \"node\") {\n\t\t\t\tfor (let i = 0; i < nodesOnScreen.length; i++) {\n\t\t\t\t\tconst index2node = this.network.index2Node;\n\t\t\t\t\tif (nodeIndex >= 0) {\n\t\t\t\t\t\tconst node = index2node[nodeIndex];\n\t\t\t\t\t\tconst newValue = (pixelCounter.get(node) || 0) + 1.0 / totalPixels * (1.0 - coefficient);\n\t\t\t\t\t\tpixelCounter.set(node, newValue);\n\t\t\t\t\t\tif (calculateCentroid) {\n\t\t\t\t\t\t\tthis._calculateCentroidForAttribute(node, XYPositions[i], centroids, counts);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// is a function\n\t\t\t} else if (typeof attribute === 'function') {\n\t\t\t\tconst index2node = this.network.index2Node;\n\t\t\t\tfor (let i = 0; i < nodesOnScreen.length; i++) {\n\t\t\t\t\tconst nodeIndex = nodesOnScreen[i];\n\t\t\t\t\tif (nodeIndex >= 0) {\n\t\t\t\t\t\tconst node = index2node[nodeIndex];\n\t\t\t\t\t\tconst attributeEntry = attribute(node, nodeIndex);\n\t\t\t\t\t\tconst newValue = (pixelCounter.get(attributeEntry) || 0) + 1.0 / totalPixels * (1.0 - coefficient);\n\t\t\t\t\t\tpixelCounter.set(attributeEntry, newValue);\n\t\t\t\t\t\tif (calculateCentroid) {\n\t\t\t\t\t\t\tthis._calculateCentroidForAttribute(attributeEntry, XYPositions[i], centroids, counts);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// attribute is a string\n\t\t\t} else {\n\t\t\t\tconst index2node = this.network.index2Node;\n\t\t\t\tfor (let i = 0; i < nodesOnScreen.length; i++) {\n\t\t\t\t\tconst nodeIndex = nodesOnScreen[i];\n\t\t\t\t\tif (nodeIndex >= 0) {\n\t\t\t\t\t\tconst node = index2node[nodeIndex];\n\t\t\t\t\t\tconst attributeEntry = node[attribute];\n\t\t\t\t\t\tconst newValue = (pixelCounter.get(attributeEntry) || 0) + 1.0 / totalPixels * (1.0 - coefficient);\n\t\t\t\t\t\tpixelCounter.set(attributeEntry, newValue);\n\t\t\t\t\t\tif (calculateCentroid) {\n\t\t\t\t\t\t\tthis._calculateCentroidForAttribute(attributeEntry, XYPositions[i], centroids, counts);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (calculateCentroid) {\n\t\t\t\tthis._consolidateCentroids(centroids, counts);\n\t\t\t\tfor (let [key, value] of centroids) {\n\t\t\t\t\t// add to centroidPositions if not null, otherwise set it to the new centroids\n\t\t\t\t\tconst centroidPosition = centroidPositions.get(key);\n\t\t\t\t\tconst newCentroidPosition = value;\n\t\t\t\t\tif (centroidPosition) {\n\t\t\t\t\t\t// add new centroid (1.0 - coefficient)\n\t\t\t\t\t\tcentroidPosition[0] += newCentroidPosition[0] * (1.0 - coefficient);\n\t\t\t\t\t\tcentroidPosition[1] += newCentroidPosition[1] * (1.0 - coefficient);\n\n\t\t\t\t\t\t// centroidPosition[0] = newCentroidPosition[0];\n\t\t\t\t\t\t// centroidPosition[1] = newCentroidPosition[1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcentroidPositions.set(key, newCentroidPosition);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tif (maxLabels >= 0) {\n\t\t\t\t// keeping only 10* maxLabels\n\t\t\t\tlet trackedKeys = pixelCounter.getSortedKeys();\n\t\t\t\tlet toRemove = trackedKeys.slice(maxLabels, trackedKeys.length);\n\t\t\t\tfor (let i = 0; i < toRemove.length; i++) {\n\t\t\t\t\tpixelCounter.delete(toRemove[i]);\n\t\t\t\t\tcentroidPositions.delete(toRemove[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\treturn this;\n\t\t// let IDProportion = this.pixelCountsByIndex.getSortedPairs();\n\t\t// return IDProportion.slice(0,maxLabels);\n\t}\n\n\t/** Returns the attributes on screen\n\t * @method trackedAttributesOnScreen\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t * @param {string} trackerName - Name of the tracker to get the attributes from.\n\t * @return {Array} - Array of attributes on screen. Each entry is an array of two or four elements. \n\t * if the tracker saves the centroid, 4 elements are returned: [attribute,proportion, x, y], otherwise [attribute,proportion]\n\t */\n\ttrackedAttributesOnScreen(trackerName) {\n\t\tif (this._trackingBufferEnabled && this._attributeTrackers[trackerName]) {\n\t\t\tconst attributeTracker = this._attributeTrackers[trackerName];\n\t\t\tconst pixelCounter = attributeTracker.pixelCounter;\n\t\t\t// const IDProportion = \n\t\t\tif (attributeTracker.calculateCentroid) {\n\t\t\t\tconst centroidPositions = attributeTracker.centroidPositions;\n\t\t\t\tconst IDProportion = pixelCounter.getSortedPairs();\n\t\t\t\t// add the centroid positions to the array [ID,proportion,x,y]\n\t\t\t\tfor (let i = 0; i < IDProportion.length; i++) {\n\t\t\t\t\tconst ID = IDProportion[i][0];\n\t\t\t\t\tconst proportion = IDProportion[i][1];\n\t\t\t\t\tconst centroidPosition = centroidPositions.get(ID);\n\t\t\t\t\tIDProportion[i] = [ID, proportion, centroidPosition[0], centroidPosition[1]];\n\t\t\t\t}\n\t\t\t\treturn IDProportion;\n\t\t\t} else {\n\t\t\t\treturn pixelCounter.getSortedPairs();\n\t\t\t}\n\t\t}\n\t}\n\n\n\t/** Returns tracked attributes centroids\n\t * @method trackedAttributesCentroids\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t * @param {string} trackerName - Name of the tracker to get the attributes from.\n\t * \n\t * @return {Array} - Centroid of trackerName.\n\t * \n\t */\n\ttrackedAttributesCentroids(trackerName) {\n\t\tif (this._trackingBufferEnabled && this._attributeTrackers[trackerName]) {\n\t\t\tconst attributeTracker = this._attributeTrackers[trackerName];\n\t\t\treturn attributeTracker.centroidPositions;\n\t\t}\n\t}\n\n\t/** Update the attribute trackers Schedule.\n\t * @method _updateTrackerScheduleTask\n\t * @memberof Helios\n\t * @instance\n\t * @private\n\t */\n\t_updateTrackerScheduleTask() {\n\t\tconst trackerTaskName = \"9.5.tracker_update\";\n\t\tif (!this._trackingBufferEnabled || Object.keys(this._attributeTrackers).length === 0) {\n\t\t\tif (this.scheduler.hasTask(trackerTaskName)) {\n\t\t\t\tthis.scheduler.unschedule(trackerTaskName);\n\t\t\t\t// this.scheduler.unschedule(trackerNodeUpdateTaskName);\n\t\t\t}\n\t\t} else if (!this.scheduler.hasTask(trackerTaskName)) {\n\t\t\tthis.scheduler.schedule({\n\t\t\t\tname: trackerTaskName,\n\t\t\t\tcallback: (elapsedTime, task) => {\n\t\t\t\t\tthis.updateAttributeTrackers(true);\n\t\t\t\t\tfor (let trackerName in this._attributeTrackers) {\n\t\t\t\t\t\tconst tracker = this._attributeTrackers[trackerName];\n\t\t\t\t\t\tif (tracker.onTrack) {\n\t\t\t\t\t\t\ttracker.onTrack(this.trackedAttributesOnScreen(trackerName), tracker);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdelay: 0,\n\t\t\t\trepeatInterval: this._trackingNodeMinimumUpdateInterval,\n\t\t\t\trepeat: true,\n\t\t\t\tsynchronized: true,\n\t\t\t\tafterRedraw: true,\n\t\t\t\timmediateUpdates: false,\n\t\t\t\tredraw: false,\n\t\t\t\tupdateNodesGeometry: false,\n\t\t\t\tupdateEdgesGeometry: false,\n\t\t\t});\n\n\t\t}\n\t}\n\n\t/** Set the attribute to track.\n\t * @method trackAttribute\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {string} trackerName - A tracker name so that it can be untracked later.\n\t * @param {string|function} attribute - The attribute to track. If a string, it is the name of the attribute of the node to track (use \"index\" for index and \"node\" for the node itself). If a function, it is a function that takes a node and its index as arguments and returns the attribute to track.\n\t * \t * @param {Object} options - The configuration object\n\t * @param {string} [options.minProportion=0.001] - The minimum proportion of the screen that a node must occupy to be tracked.\n\t * @param {string} [options.smoothness=0.8] - The smoothness of the tracking. The higher the value, the more the tracking is smoothed.\n\t * @param {string} [options.maxLabels=20] - The maximum number of labels to display. If -1, all labels are displayed.\n\t * @param {string} [options.calculateCentroid=false] - If true, the centroid of the tracked nodes is calculated and expored as the 3rd and 4th (x and y) elements of the tracker results.\n\t * @param {function} [options.onTrack=null] - A callback function that is called when a node is tracked. It takes the attribute entries and relative proportions as argument and the tracker (attributeProportions,tracker)=>{} \n\t * @return {Helios|this} - The Helios instance for chaining.\n\t * @example\n\t * // Track the index of the nodes, with a minimum proportion of 0.001, a smoothness of 0.8 and a maximum of 10 labels.\n\t * helios.trackAttribute(\"indexTracker\",\"index\",{minProportion:0.001,smoothness:0.8,maxLabels:20});\n\t * @example\n\t * // Track the community attribute of the nodes, with a minimum proportion of 0.001, a smoothness of 0.8 and a maximum of 20 labels.\n\t * helios.trackAttribute(\"communityTracker\",\"community\",{minProportion:0.001,smoothness:0.8,maxLabels:20});\n\t */\n\ttrackAttribute(trackerName, attribute, { minProportion = 0.001, smoothness = 0.8, maxLabels = 20, calculateCentroid = false, onTrack = null } = {}) {\n\t\tif (trackerName in this._attributeTrackers) {\n\t\t\tthis.untrackAttribute(trackerName);\n\t\t}\n\t\tthis._attributeTrackers[trackerName] = {\n\t\t\tattribute: attribute,\n\t\t\tpixelCounter: new SortedValueMap(false),\n\t\t\tminProportion: minProportion,\n\t\t\tsmoothness: smoothness,\n\t\t\tmaxLabels: maxLabels,\n\t\t\tcalculateCentroid: calculateCentroid,\n\t\t\tcentroidPositions: new Map(),\n\t\t\tonTrack: onTrack,\n\t\t};\n\n\t\tthis._updateTrackerScheduleTask();\n\t\treturn this;\n\t}\n\n\t/** Untrack the attribute.\n\t * @method untrackAttribute\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {string|function} attribute - The attribute to untrack. If a string, it is the name of the attribute of the node to untrack (use \"index\" for index and \"node\" for the node itself). If a function, it is a function that takes a node and its index as arguments and returns the attribute to untrack.\n\t * @return {Helios|this} - The Helios instance for chaining.\n\t * @example\n\t * // Untrack the index of the nodes.\n\t * helios.untrackAttribute(\"indexTracker\");\n\t */\n\tuntrackAttribute(attribute) {\n\t\tthis._attributeTrackers = this._attributeTrackers.filter((trackedAttribute) => {\n\t\t\treturn trackedAttribute.attribute !== attribute;\n\t\t});\n\t\tthis._updateTrackerScheduleTask();\n\t\treturn this;\n\t}\n\n\t/** attributesTrackers getter.\n\t * @method attributesTrackers\n\t * @memberof Helios\n\t * @instance\n\t * @return {Object} - The tracked attributes.\n\t * @example\n\t * // Get the tracked attributes.\n\t * let attributesTrackers = helios.attributesTrackers();\n\t */\n\tattributesTrackers() {\n\t\t// copy the _attributeTrackers object\n\t\treturn Object.assign({}, this._attributeTrackers);\n\t}\n\n\t/** Set/get tracker node update interval.\n\t * @method trackingNodeUpdateInterval\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} interval - The interval in milliseconds.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current interval if no argument is provided.\n\t * @example\n\t * // Set the tracker node update interval to 200ms.\n\t * helios._trackingBufferUpdateInterval(200);\n\t * @example\n\t * // Get the tracker node update interval.\n\t * let interval = helios._trackingBufferUpdateInterval();\n\t * console.log(interval);\n\t */\n\ttrackingBufferUpdateInterval(interval) {\n\t\t// check if interval is defined\n\t\tif (typeof interval === \"undefined\") {\n\t\t\treturn this._trackingBufferUpdateInterval;\n\t\t} else {\n\t\t\tthis._trackingBufferUpdateInterval = interval;\n\t\t\tthis._updateTrackerScheduleTask();\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Set/get tracker update interval\n\t * @method trackingUpdateInterval\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} interval - The interval in milliseconds.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current interval if no argument is provided.\n\t * @example\n\t * // Set the tracker update interval to 33ms.\n\t * helios._trackingUpdateInterval(33);\n\t * @example\n\t * // Get the tracker update interval.\n\t * let interval = helios._trackingUpdateInterval();\n\t * console.log(interval);\n\t */\n\ttrackingUpdateInterval(interval) {\n\t\t// check if interval is defined\n\t\tif (typeof interval === \"undefined\") {\n\t\t\treturn this._trackingUpdateInterval;\n\t\t} else {\n\t\t\tthis._trackingUpdateInterval = interval;\n\t\t\tthis._updateTrackerScheduleTask();\n\t\t\treturn this;\n\t\t}\n\t}\n\n\n\t/** Set/get edge global opacity scale. The opacity of each edge is calculated as: opacity = globalBase + globalScale * edgeOpacity\n\t * @method edgesGlobalOpacityScale\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} opacity - The global opacity scale of the edges.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current global opacity if no argument is provided.\n\t * @example\n\t * // Set the global opacity of the edges to 0.5.\n\t * helios.edgesGlobalOpacityScale(0.5);\n\t */\n\tedgesGlobalOpacityScale(opacity) {\n\t\t// check if color is defined\n\t\tif (typeof opacity === \"undefined\") {\n\t\t\treturn this._edgesGlobalOpacityScale;\n\t\t} else {\n\t\t\tthis._edgesGlobalOpacityScale = opacity;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Set/get edge global opacity base. The opacity of each edge is calculated as: opacity = globalBase + globalScale * edgeOpacity\n\t * @method edgesGlobalOpacityBase\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} opacity - The global opacity base of the edges.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current global opacity if no argument is provided.\n\t * @example\n\t * // Set the global opacity base of the edges to 0.5.\n\t * helios.edgesGlobalOpacityBase(0.5);\n\t */\n\tedgesGlobalOpacityBase(opacity) {\n\t\t// check if color is defined\n\t\tif (typeof opacity === \"undefined\") {\n\t\t\treturn this._edgesGlobalOpacityBase;\n\t\t} else {\n\t\t\tthis._edgesGlobalOpacityBase = opacity;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Set/get edge global width scale. The width of each edge is calculated as: width = globalBase + globalScale * edgeWidth\n\t * @method edgesGlobalWidthScale\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} width - The global width scale of the edges.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current global width if no argument is provided.\n\t * @example\n\t * // Set the global width of the edges to 0.5.\n\t * helios.edgesGlobalWidthScale(0.5);\n\t */\n\tedgesGlobalWidthScale(width) {\n\t\t// check if color is defined\n\t\tif (typeof width === \"undefined\") {\n\t\t\treturn this._edgesGlobalWidthScale;\n\t\t} else {\n\t\t\tthis._edgesGlobalWidthScale = width;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Set/get edge global width base. The width of each edge is calculated as: width = globalBase + globalScale * edgeWidth\n\t * @method edgesGlobalWidthBase\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} width - The global width base of the edges.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current global width if no argument is provided.\n\t * @example\n\t * // Set the global width base of the edges to 0.5.\n\t * helios.edgesGlobalWidthBase(0.5);\n\t */\n\tedgesGlobalWidthBase(width) {\n\t\t// check if color is defined\n\t\tif (typeof width === \"undefined\") {\n\t\t\treturn this._edgesGlobalWidthBase;\n\t\t} else {\n\t\t\tthis._edgesGlobalWidthBase = width;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Set/get node global opacity scale. The opacity of each node is calculated as: opacity = globalBase + globalScale * nodeOpacity\n\t * @method nodesGlobalOpacityScale\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} opacity - The global opacity scale of the nodes.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current global opacity if no argument is provided.\n\t * @example\n\t * // Set the global opacity of the nodes to 0.5.\n\t * helios.nodesGlobalOpacityScale(0.5);\n\t * @example\n\t * // Get the global opacity of the nodes.\n\t * let scale = helios.nodesGlobalOpacityScale();\n\t */\n\tnodesGlobalOpacityScale(opacity) {\n\t\t// check if color is defined\n\t\tif (typeof opacity === \"undefined\") {\n\t\t\treturn this._nodesGlobalOpacityScale;\n\t\t} else {\n\t\t\tthis._nodesGlobalOpacityScale = opacity;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Set/get node global opacity base. The opacity of each node is calculated as: opacity = globalBase + globalScale * nodeOpacity\n\t * @method nodesGlobalOpacityBase\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} opacity - The global opacity base of the nodes.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current global opacity if no argument is provided.\n\t * @example\n\t * // Set the global opacity base of the nodes to 0.5.\n\t * helios.nodesGlobalOpacityBase(0.5);\n\t * @example\n\t * // Get the global opacity base of the nodes.\n\t * let base = helios.nodesGlobalOpacityBase();\n\t */\n\tnodesGlobalOpacityBase(opacity) {\n\t\t// check if color is defined\n\t\tif (typeof opacity === \"undefined\") {\n\t\t\treturn this._nodesGlobalOpacityBase;\n\t\t} else {\n\t\t\tthis._nodesGlobalOpacityBase = opacity;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Set/get node global size scale. The size of each node is calculated as: size = globalBase + globalScale * nodeSize\n\t * @method nodesGlobalSizeScale\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} size - The global size scale of the nodes.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current global size if no argument is provided.\n\t * @example\n\t * // Set the global size of the nodes to 0.5.\n\t * helios.nodesGlobalSizeScale(0.5);\n\t * @example\n\t * // Get the global size of the nodes.\n\t * let scale = helios.nodesGlobalSizeScale();\n\t */\n\tnodesGlobalSizeScale(size) {\n\t\t// check if color is defined\n\t\tif (typeof size === \"undefined\") {\n\t\t\treturn this._nodesGlobalSizeScale;\n\t\t} else {\n\t\t\tthis._nodesGlobalSizeScale = size;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Set/get node global size base. The size of each node is calculated as: size = globalBase + globalScale * nodeSize\n\t * @method nodesGlobalSizeBase\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} size - The global size base of the nodes.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current global size if no argument is provided.\n\t * @example\n\t * // Set the global size base of the nodes to 0.5.\n\t * helios.nodesGlobalSizeBase(0.5);\n\t * @example\n\t * // Get the global size base of the nodes.\n\t * let base = helios.nodesGlobalSizeBase();\n\t */\n\tnodesGlobalSizeBase(size) {\n\t\t// check if color is defined\n\t\tif (typeof size === \"undefined\") {\n\t\t\treturn this._nodesGlobalSizeBase;\n\t\t} else {\n\t\t\tthis._nodesGlobalSizeBase = size;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Set/get node global outline width scale. The outline width of each node is calculated as: width = globalBase + globalScale * nodeOutlineWidth\n\t * @method nodesGlobalOutlineWidthScale\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} width - The global outline width scale of the nodes.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current global outline width if no argument is provided.\n\t * @example\n\t * // Set the global outline width of the nodes to 0.5.\n\t * helios.nodesGlobalOutlineWidthScale(0.5);\n\t * @example\n\t * // Get the global outline width of the nodes.\n\t * let scale = helios.nodesGlobalOutlineWidthScale();\n\t */\n\tnodesGlobalOutlineWidthScale(width) {\n\t\t// check if color is defined\n\t\tif (typeof width === \"undefined\") {\n\t\t\treturn this._nodesGlobalOutlineWidthScale;\n\t\t} else {\n\t\t\tthis._nodesGlobalOutlineWidthScale = width;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Set/get node global outline width base. The outline width of each node is calculated as: width = globalBase + globalScale * nodeOutlineWidth\n\t * @method nodesGlobalOutlineWidthBase\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} width - The global outline width base of the nodes.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current global outline width if no argument is provided.\n\t * @example\n\t * // Set the global outline width base of the nodes to 0.5.\n\t * helios.nodesGlobalOutlineWidthBase(0.5);\n\t * @example\n\t * // Get the global outline width base of the nodes.\n\t * let base = helios.nodesGlobalOutlineWidthBase();\n\t */\n\tnodesGlobalOutlineWidthBase(width) {\n\t\t// check if color is defined\n\t\tif (typeof width === \"undefined\") {\n\t\t\treturn this._nodesGlobalOutlineWidthBase;\n\t\t} else {\n\t\t\tthis._nodesGlobalOutlineWidthBase = width;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\n\t/** Set/get node global outline opacity scale. The outline opacity of each node is calculated as: opacity = globalBase + globalScale * nodeOutlineOpacity\n\t * @method nodesGlobalOutlineOpacityScale\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} opacity - The global outline opacity scale of the nodes.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current global outline opacity if no argument is provided.\n\t * @example\n\t * // Set the global outline opacity of the nodes to 0.5.\n\t * helios.nodesGlobalOutlineOpacityScale(0.5);\n\t * @example\n\t * // Get the global outline opacity of the nodes.\n\t * let scale = helios.nodesGlobalOutlineOpacityScale();\n\t */\n\tnodeOpacity(colorInput) {\n\t\tif (typeof colorInput === \"undefined\") {\n\t\t\treturn this.network.colors.map(color => color[3]);\n\t\t} else if (typeof colorInput === \"function\") {\n\t\t\tlet allNodes = this.network.index2Node;\n\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\tlet node = allNodes[nodeIndex];\n\t\t\t\tlet anOpacity = colorInput(node, nodeIndex, this.network);\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 3] = anOpacity;\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let nodeIndex = 0; nodeIndex < allNodes.length; nodeIndex++) {\n\t\t\t\tthis.network.colors[nodeIndex * 4 + 3] = colorInput;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\n\t/** Enables or disables updating the edge colors to match the node colors.\n\t * @method edgesColorsFromNodes\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {boolean} edgesColorsFromNodes - Whether to update the edge colors to match the node colors.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current value if no argument is provided.\n\t * @example\n\t * // Enable updating the edge colors to match the node colors.\n\t * helios.edgesColorsFromNodes(true);\n\t */\n\tedgesColorsFromNodes(edgesColorsFromNodes) {\n\t\t// check if shaded is defined\n\t\tif (typeof edgesColorsFromNodes === \"undefined\") {\n\t\t\treturn this._edgesColorsFromNodes;\n\t\t} else {\n\t\t\tthis._edgesColorsFromNodes = edgesColorsFromNodes;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Enables or disables updating the edge widths to match the node widths.\n\t * @method edgesWidthFromNodes\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {boolean} edgesWidthFromNodes - Whether to update the edge widths to match the node widths.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current value if no argument is provided.\n\t * @example\n\t * // Enable updating the edge widths to match the node widths.\n\t * helios.edgesWidthFromNodes(true);\n\t */\n\tedgesWidthFromNodes(edgesWidthFromNodes) {\n\t\t// check if shaded is defined\n\t\tif (typeof edgesWidthFromNodes === \"undefined\") {\n\t\t\treturn this._edgesWidthFromNodes;\n\t\t} else {\n\t\t\tthis._edgesWidthFromNodes = edgesWidthFromNodes;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t//#endregion\n\n\n\t/** Enables or disables additive blending (Useful for dark backgrounds).\n\t * @method additiveBlending\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {boolean} enableAdditiveBlending - Whether to enable additive blending.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current value if no argument is provided.\n\t * @example\n\t * // Enable additive blending.\n\t * helios.additiveBlending(true);\n\t * @example\n\t * // Disable additive blending.\n\t * helios.additiveBlending(false);\n\t */\n\tadditiveBlending(enableAdditiveBlending) {\n\t\t// check if color is defined\n\t\tif (typeof enableAdditiveBlending === \"undefined\") {\n\t\t\treturn this.useAdditiveBlending;\n\t\t} else {\n\t\t\tthis.useAdditiveBlending = enableAdditiveBlending;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Enables or disables shaded nodes.\n\t * @method shadedNodes\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {boolean} enableShadedNodes - Whether to enable shaded nodes.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current value if no argument is provided.\n\t * @example\n\t * // Enable shaded nodes.\n\t * helios.shadedNodes(true);\n\t */\n\tshadedNodes(enableShadedNodes) {\n\t\t// check if shaded is defined\n\t\tif (typeof enableShadedNodes === \"undefined\") {\n\t\t\treturn this.useShadedNodes;\n\t\t} else {\n\t\t\tthis.useShadedNodes = enableShadedNodes;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Enables or disables edges that can be pickeable\n\t * @method pickeableEdges\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number[]|\"all\"} pickables - The indices of the edges that can be pickeable, or \"all\" to make all edges pickeable.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current value if no argument is provided.\n\t * @example\n\t * // Enable pickeable edges for [0,1,2,3]\n\t * helios.pickeableEdges([0, 1, 2, 3]);\n\t * @example\n\t * // Enable pickeable edges for all edges\n\t * helios.pickeableEdges(\"all\");\n\t */\n\tpickeableEdges(pickables) {\n\t\t// check if pickables is defined\n\t\tif (typeof pickables === \"undefined\") {\n\t\t\treturn this._pickeableEdges;\n\t\t} else {\n\t\t\tthis._pickeableEdges = new Set(pickables);\n\t\t\tif (pickables == \"all\") {\n\t\t\t\t// console.log(\"all\");\n\t\t\t\tfor (let i = 0; i < this.network.edges.length; i++) {\n\t\t\t\t\tthis._pickeableEdges.add(i);\n\t\t\t\t}\n\t\t\t\tthis._edgeIndicesUpdate = true;\n\t\t\t\tthis.update();\n\t\t\t} else {\n\t\t\t\t// console.log(this._pickeableEdges);\n\t\t\t\tthis._edgeIndicesUpdate = true;\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Get or set labels buffer size\n\t * @method labelsMaxPixels\n\t * @memberof Helios\n\t * @instance\n\t * @chainable\n\t * @param {number} labelsMaxPixels - The maximum number of pixels for the labels buffer.\n\t * @return {Helios|this} - The Helios instance for chaining, or the current value if no argument is provided.\n\t * @example\n\t * // Set the maximum number of pixels for the labels buffer to 10000.\n\t * helios.labelsMaxPixels(10000);\n\t */\n\tlabelsMaxPixels(labelsMaxPixels) {\n\t\t// check if labelsMaxPixels is defined\n\t\tif (typeof labelsMaxPixels === \"undefined\") {\n\t\t\treturn this._trackingMaxPixels;\n\t\t} else {\n\t\t\tthis._trackingMaxPixels = labelsMaxPixels;\n\t\t\t_willResizeEvent(0);\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t/** Manually cleanup the Helios instance.\n\t * @method cleanup\n\t * @memberof Helios\n\t * @instance\n\t * @param {boolean} keepGLContext - Whether to keep the WebGL context alive.\n\t * @example\n\t * // Cleanup the Helios instance.\n\t * helios.cleanup();\n\t * @example\n\t * // Cleanup the Helios instance and keep the WebGL context alive.\n\t * helios.cleanup(true);\n\t */\n\tcleanup(keepGLContext) {\n\t\t// console.log(\"Cleanup started\");\n\t\tthis._isReady = false;\n\n\t\tconsole.log(\"Cleanup\",this.layoutWorker)\n\t\tthis.layoutWorker?.cleanup();\n\t\tthis.scheduler?.stop();\n\t\tconsole.log(\"Null\",this.layoutWorker)\n\t\tthis.layoutWorker = null;\n\t\tconst gl = this.gl;\n\t\tthis.onReadyCallback = null;\n\n\t\tthis.onNodeClickCallback = null;\n\t\tthis.onNodeDoubleClickCallback = null;\n\t\tthis.onNodeHoverStartCallback = null;\n\t\tthis.onNodeHoverMoveCallback = null;\n\t\tthis.onNodeHoverEndCallback = null;\n\n\t\tthis.onEdgeClickCallback = null;\n\t\tthis.onEdgeDoubleClickCallback = null;\n\t\tthis.onEdgeHoverStartCallback = null;\n\t\tthis.onEdgeHoverMoveCallback = null;\n\t\tthis.onEdgeHoverEndCallback = null;\n\n\n\t\tthis.onZoomCallback = null;\n\t\tthis.onRotationCallback = null;\n\t\tthis.onResizeCallback = null;\n\t\tthis.onLayoutStartCallback = null;\n\t\tthis.onLayoutStopCallback = null;\n\t\tthis.onDrawCallback = null;\n\t\tthis.onReadyCallback = null;\n\t\tthis._isReady = false;\n\n\t\t// window.removeEventListener('resize', this._onresizeEvent);\n\t\tif (this._resizeObserver) {\n\t\t\tconsole.log(\"disconnecting resize observer\");\n\t\t\tthis._resizeObserver.disconnect();\n\t\t\tthis._resizeObserver = null;\n\t\t\tdelete this._resizeObserver;\n\t\t}\n\n\t\tif (this.canvasElement) {\n\t\t\tthis.canvasElement.removeEventListener(\"click\", this._clickEventListener);\n\t\t\tthis.canvasElement.removeEventListener(\"dblclick\", this._doubleClickEventListener);\n\n\t\t\tthis.canvasElement.removeEventListener(\"mousemove\", this._hoverMoveEventListener);\n\t\t\tthis.canvasElement.removeEventListener(\"mouseleave\", this._hoverLeaveEventListener);\n\t\t\tdocument.body.removeEventListener(\"mouseout\", this._hoverLeaveWindowEventListener);\n\t\t}\n\n\t\tif (!keepGLContext && gl) {\n\t\t\tlet numTextureUnits = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n\t\t\tthis.pickingFramebuffer?.discard();\n\t\t\tthis._trackingFramebuffer?.discard();\n\t\t\tfor (let unit = 0; unit < numTextureUnits; ++unit) {\n\t\t\t\tgl.activeTexture(gl.TEXTURE0 + unit);\n\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, null);\n\t\t\t\tgl.bindTexture(gl.TEXTURE_CUBE_MAP, null);\n\t\t\t}\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, null);\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n\t\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, null);\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n\t\t\tgl.deleteBuffer(this.nodesPositionBuffer);\n\t\t\tgl.deleteBuffer(this.nodesColorBuffer);\n\t\t\tgl.deleteBuffer(this.nodesSizeBuffer);\n\t\t\tgl.deleteBuffer(this.nodesSizeBuffer);\n\t\t\tgl.deleteBuffer(this.nodesOutlineWidthBuffer);\n\t\t\tgl.deleteBuffer(this.nodesOutlineColorBuffer);\n\t\t\tgl.deleteBuffer(this.nodesIndexBuffer);\n\n\t\t\tif (this.edgesGeometry) {\n\t\t\t\tgl.deleteBuffer(this.edgesGeometry.edgeVertexTypeBuffer);\n\t\t\t\tgl.deleteBuffer(this.edgesGeometry.verticesBuffer);\n\t\t\t\tgl.deleteBuffer(this.edgesGeometry.colorBuffer);\n\t\t\t\tgl.deleteBuffer(this.edgesGeometry.sizeBuffer);\n\t\t\t}\n\n\t\t\tif (this.fastEdgesGeometry) {\n\t\t\t\tgl.deleteBuffer(this.fastEdgesGeometry.indexBuffer);\n\t\t\t\tgl.deleteBuffer(this.fastEdgesGeometry.vertexObject);\n\t\t\t\tgl.deleteBuffer(this.fastEdgesGeometry.colorObject);\n\t\t\t\tgl.deleteBuffer(this.fastEdgesGeometry.indexObject);\n\t\t\t}\n\t\t}\n\n\t\tif (this.densityMap) {\n\t\t\tthis.densityMap.cleanup();\n\t\t}\n\n\t\tif (this._autoCleanup) {\n\t\t\tthis._mutationObserver.disconnect();\n\t\t\tthis._mutationObserver = null;\n\t\t}\n\t\tif (this.canvasElement) {\n\t\t\tthis.canvasElement.remove();\n\t\t\tthis.canvasElement = null;\n\t\t}\n\t\t// Remove this.svgLayer and this.overlay \n\t\tif (this.svgLayer) {\n\t\t\tthis.svgLayer.remove();\n\t\t\tthis.svgLayer = null;\n\t\t}\n\t\tif (this.overlay) {\n\t\t\tthis.overlay.remove();\n\t\t\tthis.overlay = null;\n\t\t}\n\n\t\tthis.onCleanupCallback?.();\n\n\t\tthis._hasCleanup = true;\n\t}\n\n\n\t/**\n\t * Returns whether the Helios instance is ready to be used.\n\t * @method isReady\n\t * @memberof Helios\n\t * @instance\n\t * @returns {boolean} - Whether the Helios instance is ready to be used.\n\t * @example\n\t * // Check if Helios is ready to be used.\n\t * if (helios.isReady()) {\n\t *   // Helios is ready, do something.\n\t * } else {\n\t *   // Helios is not ready yet, wait or handle the error.\n\t * }\n\t */\n\tisReady() {\n\t\treturn this._isReady;\n\t}\n\n\t/** Destroys the Helios instance.\n\t * @method destroy\n\t * @memberof Helios\n\t * @instance\n\t */\n\tdestroy() {\n\t\tif (!this._hasCleanup) {\n\t\t\tthis.cleanup();\n\t\t}\n\t}\n\n}\n\n// Helios.xnet = xnet;\n","\"use strict\";\n\nlet textSplit2 = (text) => {\n\tlet entries = text.split(/\\s/)\n\tif (entries.length < 2) {\n\t\treturn null;\n\t}\n\treturn [+entries[0], +entries[1]];\n};\n\nlet textSplit3 = (text) => {\n\tlet entries = text.split(/\\s/)\n\tif (entries.length < 3) {\n\t\treturn null;\n\t}\n\treturn [+entries[0], +entries[1], +entries[2]];\n};\n\nlet readNumberIgnoringNone = (text) => {\n\tif (isNaN(text)) {\n\t\treturn 0.0;\n\t} else {\n\t\treturn +text;\n\t}\n};\n\n\nlet propertyHeaderRegular = /#([ve]) \\\"(.+)\\\" ([sn]|v2|v3)/;\nlet propertyFunctions = {\n\t\"s\": String,\n\t\"n\": readNumberIgnoringNone,\n\t\"v2\": textSplit2,\n\t\"v3\": textSplit3\n};\n\n\n\nlet readXNETVerticesHeader = (status) => {\n\twhile (status.lineIndex + 1 < status.lines.length && status.lines[status.lineIndex].length == 0) {\n\t\tstatus.lineIndex++;\n\t}\n\n\tlet headerLine = status.lines[status.lineIndex];\n\tlet headerEntries = headerLine.split(/\\s/);\n\tlet nodeCount = 0;\n\t\n\tif (headerEntries.length == 0 || headerEntries[0].toLowerCase() != \"#vertices\" ||\n\t\tisNaN(headerEntries[1]) || !Number.isInteger(+headerEntries[1])) {\n\t\tthrow `Malformed xnet data (Reading Vertices Header)[line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t}\n\tnodeCount = +headerEntries[1];\n\tstatus.lineIndex++;\n\treturn nodeCount;\n};\n\nlet readXNETLabels = (status) => {\n\tlet labels = [];\n\twhile (status.lineIndex < status.lines.length) {\n\t\tlet currentLine = status.lines[status.lineIndex];\n\t\tlet lineLength = currentLine.length;\n\t\tif (lineLength == 0) {\n\t\t\tstatus.lineIndex++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (currentLine[0] == \"#\") {\n\t\t\tbreak;\n\t\t}\n\t\tvar label = currentLine;\n\t\tif (currentLine[0] == \"\\\"\" && currentLine[lineLength - 1] == \"\\\"\") {\n\t\t\tlabel = currentLine.slice(1, -1);\n\t\t}\n\t\tlabels.push(label);\n\t\tstatus.lineIndex++;\n\t}\n\treturn labels;\n};\n\nlet readXNETEdgesHeader = (status) => {\n\twhile (status.lineIndex + 1 < status.lines.length && status.lines[status.lineIndex].length == 0) {\n\t\tstatus.lineIndex++;\n\t}\n\n\tlet headerLine = status.lines[status.lineIndex];\n\tlet headerEntries = headerLine.split(/\\s/);\n\n\tlet weighted = false;\n\tlet directed = false;\n\n\tif (headerEntries.length == 0 || headerEntries[0].toLowerCase() != \"#edges\") {\n\t\tthrow `Malformed xnet data (Reading Edges Header)[line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t}\n\n\theaderEntries.forEach(headerEntry => {\n\t\tif (headerEntry.toLowerCase() == \"weighted\") {\n\t\t\tweighted = true;\n\t\t}\n\t\tif (headerEntry.toLowerCase() == \"nonweighted\") {\n\t\t\tweighted = false;\n\t\t}\n\t\tif (headerEntry.toLowerCase() == \"directed\") {\n\t\t\tdirected = true;\n\t\t}\n\t\tif (headerEntry.toLowerCase() == \"undirected\") {\n\t\t\tdirected = false;\n\t\t}\n\t});\n\tstatus.lineIndex++;\n\treturn { weighted: weighted, directed: directed };\n};\n\n\nlet readXNETEdges = (status) => {\n\tlet edges = [];\n\tlet weights = [];\n\twhile (status.lineIndex < status.lines.length) {\n\t\tlet currentLine = status.lines[status.lineIndex];\n\t\tlet lineLength = currentLine.length;\n\t\tif (lineLength == 0) {\n\t\t\tstatus.lineIndex++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (currentLine[0] == \"#\") {\n\t\t\tbreak;\n\t\t}\n\t\tlet entries = currentLine.split(/\\s/);\n\t\tlet weight = 1.0;\n\t\t\n\t\tif (entries.length < 2) {\n\t\t\tthrow `Malformed xnet data (Reading Edges)[line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t\t}\n\t\tif (entries.length > 2) {\n\t\t\tweight = +entries[2];\n\t\t}\n\t\tedges.push([+entries[0], +entries[1]]);\n\t\tweights.push(weight);\n\t\tstatus.lineIndex++;\n\t}\n\treturn { edges: edges, weights: weights };\n};\n\n\nlet readXNETPropertyHeader = (status) => {\n\twhile (status.lineIndex + 1 < status.lines.length && status.lines[status.lineIndex].length == 0) {\n\t\tstatus.lineIndex++;\n\t}\n\n\tlet headerEntries = propertyHeaderRegular.exec(status.lines[status.lineIndex]);\n\n\tif (headerEntries.length != 4) {\n\t\tthrow `Malformed xnet data [line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t}\n\tlet propertyType = headerEntries[1];\n\tlet propertyKey = headerEntries[2];\n\tlet propertyFormat = headerEntries[3];\n\n\tstatus.lineIndex++;\n\n\treturn { type: propertyType, key: propertyKey, format: propertyFormat };\n};\n\n\n\nlet readXNETProperty = (status, propertyHeader) => {\n\tlet properties = [];\n\tlet propertyFunction = propertyFunctions[propertyHeader.format];\n\twhile (status.lineIndex < status.lines.length) {\n\t\tlet currentLine = status.lines[status.lineIndex];\n\t\tlet lineLength = currentLine.length;\n\t\tif (lineLength == 0) {\n\t\t\tstatus.lineIndex++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (currentLine[0] == \"#\") {\n\t\t\tbreak;\n\t\t}\n\t\tlet value = currentLine;\n\t\tif (value[0] == \"\\\"\" && value[lineLength - 1] == \"\\\"\") {\n\t\t\tvalue = value.slice(1, -1);\n\t\t}\n\t\tproperties.push(propertyFunction(value));\n\t\tstatus.lineIndex++;\n\t}\n\treturn properties;\n};\n\n\n\nlet loadXNET = (data) => {\n\tlet status = { lineIndex:0, lines: data.split(\"\\n\") };\n\tlet nodesCount = readXNETVerticesHeader(status);\n\tlet labels = readXNETLabels(status);\n\n\tlet network = { nodesCount: nodesCount, verticesProperties: {}, edgesProperties: {} }\n\n\tif (labels.length > 0) {\n\t\tif (labels.length < nodesCount) {\n\t\t\tthrow `Malformed xnet data [line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t\t} else {\n\t\t\tnetwork.labels = labels;\n\t\t}\n\t}\n\tlet edgesHeader = readXNETEdgesHeader(status);\n\tnetwork.directed = edgesHeader.directed;\n\tnetwork.weighted = edgesHeader.weighted;\n\n\tlet edgesData = readXNETEdges(status);\n\tnetwork.edges = edgesData.edges;\n\tif (network.weighted) {\n\t\tnetwork.weights = edgesData.weights;\n\t}\n\n\tdo{\n\t\twhile (status.lineIndex < status.lines.length && status.lines[status.lineIndex].length == 0) {\n\t\t\tstatus.lineIndex++;\n\t\t}\n\t\tif(!(status.lineIndex < status.lines.length)){\n\t\t\tbreak;\n\t\t}\n\t\tlet propertyHeader = readXNETPropertyHeader(status);\n\t\tlet propertyData = readXNETProperty(status, propertyHeader);\n\t\t//console.log(propertyHeader);\n\t\tif (propertyHeader.type == \"e\") {\n\t\t\tnetwork.edgesProperties[propertyHeader.key] = propertyData;\n\t\t} else if (propertyHeader.type == \"v\") {\n\t\t\tnetwork.verticesProperties[propertyHeader.key] = propertyData;\n\t\t}\n\t\t// status.lineIndex++;\n\t}while (status.lineIndex < status.lines.length);\n\treturn network;\n};\n\n\nasync function loadXNETFile(networkFile){\n\tlet networkData = await fetch(networkFile)\n\t\t.then(response => response.text());\n\t\t// .then();\n\treturn loadXNET(networkData);\n}\n\nfunction convertXNET2JSON(network){\n\n\tlet nodeCount = network.nodesCount;\n\n\tlet nodes = {};\n\tlet edges = [];\n\tfor (let index = 0; index < nodeCount; index++) {\n\t\tnodes[\"\" + index] = {\n\t\t\tID: \"\" + index,\n\t\t\t// position: [0,0,0],//network.verticesProperties[\"Position\"][index],\n\t\t\t// color:[0.0,0.0,0.0]//[network.verticesProperties[\"Color\"][index]],\n\t\t\t// size:1\n\t\t};\n\t\tif (network.labels) {\n\t\t\tnodes[\"\" + index].Label = network.labels[index];\n\t\t}\n\t}\n\tfor (const [key, value] of Object.entries(network.verticesProperties)) {\n\t\tfor (let index = 0; index < nodeCount; index++) {\n\t\t\tnodes[\"\" + index][key] = value[index];\n\t\t}\n\t}\n\n\tfor (let index = 0; index < network.edges.length; index++) {\n\t\tlet fromIndex, toIndex;\n\n\t\tedges.push({\n\t\t\t\"source\": \"\" + network.edges[index][0],\n\t\t\t\"target\": \"\" + network.edges[index][1],\n\t\t\t// directed?\n\t\t});\n\t}\n\t\n\treturn {nodes:nodes,edges:edges};\n}\n\nexport {loadXNET,loadXNETFile,convertXNET2JSON}","import { rgb as d3rgb } from \"d3-color\"\n\n'use strict';\n\n/**\n * GEXF Parser\n * ============\n *\n * Author: PLIQUE Guillaume (Yomguithereal)\n * URL: https://github.com/Yomguithereal/gexf\n * Version: 0.2.5\n */\n\n/**\n * Helper Namespace\n * -----------------\n *\n * A useful batch of function dealing with DOM operations and types.\n */\nlet _helpers = {\n\tgetModelTags: function (xml) {\n\t\tlet attributesTags = xml.getElementsByTagName('attributes'),\n\t\t\tmodelTags = {},\n\t\t\tl = attributesTags.length,\n\t\t\ti;\n\n\t\tfor (i = 0; i < l; i++)\n\t\t\tmodelTags[attributesTags[i].getAttribute('class')] =\n\t\t\t\tattributesTags[i].childNodes;\n\n\t\treturn modelTags;\n\t},\n\tnodeListToArray: function (nodeList) {\n\n\t\t// Return array\n\t\tlet children = [];\n\n\t\t// Iterating\n\t\tfor (let i = 0, len = nodeList.length; i < len; ++i) {\n\t\t\tif (nodeList[i].nodeName !== '#text')\n\t\t\t\tchildren.push(nodeList[i]);\n\t\t}\n\n\t\treturn children;\n\t},\n\tnodeListEach: function (nodeList, func) {\n\n\t\t// Iterating\n\t\tfor (let i = 0, len = nodeList.length; i < len; ++i) {\n\t\t\tif (nodeList[i].nodeName !== '#text')\n\t\t\t\tfunc(nodeList[i]);\n\t\t}\n\t},\n\tnodeListToHash: function (nodeList, filter) {\n\n\t\t// Return object\n\t\tlet children = {};\n\n\t\t// Iterating\n\t\tfor (let i = 0; i < nodeList.length; i++) {\n\t\t\tif (nodeList[i].nodeName !== '#text') {\n\t\t\t\tlet prop = filter(nodeList[i]);\n\t\t\t\tchildren[prop.key] = prop.value;\n\t\t\t}\n\t\t}\n\n\t\treturn children;\n\t},\n\tnamedNodeMapToObject: function (nodeMap) {\n\n\t\t// Return object\n\t\tlet attributes = {};\n\n\t\t// Iterating\n\t\tfor (let i = 0; i < nodeMap.length; i++) {\n\t\t\tattributes[nodeMap[i].name] = nodeMap[i].value;\n\t\t}\n\n\t\treturn attributes;\n\t},\n\tgetFirstElementByTagNS: function (node, ns, tag) {\n\t\tlet el = node.getElementsByTagName(ns + ':' + tag)[0];\n\n\t\tif (!el)\n\t\t\tel = node.getElementsByTagNameNS(ns, tag)[0];\n\n\t\tif (!el)\n\t\t\tel = node.getElementsByTagName(tag)[0];\n\n\t\treturn el;\n\t},\n\tgetAttributeNS: function (node, ns, attribute) {\n\t\tlet attr_value = node.getAttribute(ns + ':' + attribute);\n\n\t\tif (attr_value === undefined)\n\t\t\tattr_value = node.getAttributeNS(ns, attribute);\n\n\t\tif (attr_value === undefined)\n\t\t\tattr_value = node.getAttribute(attribute);\n\n\t\treturn attr_value;\n\t},\n\tenforceType: function (type, value) {\n\n\t\tswitch (type) {\n\t\t\tcase 'boolean':\n\t\t\t\tvalue = (value === 'true');\n\t\t\t\tbreak;\n\n\t\t\tcase 'integer':\n\t\t\tcase 'long':\n\t\t\tcase 'float':\n\t\t\tcase 'double':\n\t\t\t\tvalue = +value;\n\t\t\t\tbreak;\n\n\t\t\tcase 'liststring':\n\t\t\t\tvalue = value ? value.split('|') : [];\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn value;\n\t},\n\tgetRGB: function (values) {\n\t\treturn (values[3]) ?\n\t\t\t'rgba(' + values.join(',') + ')' :\n\t\t\t'rgb(' + values.slice(0, -1).join(',') + ')';\n\t}\n};\n\n\n/**\n * Parser Core Functions\n * ----------------------\n *\n * The XML parser's functions themselves.\n */\n\n/**\n * Node structure.\n * A function returning an object guarded with default value.\n *\n * @param  {object} properties The node properties.\n * @return {object}            The guarded node object.\n */\nfunction Node(properties) {\n\n\t// Possible Properties\n\tlet node = {\n\t\tid: properties.id,\n\t\tlabel: properties.label\n\t};\n\n\tif (properties.viz)\n\t\tnode.viz = properties.viz;\n\n\tif (properties.attributes)\n\t\tnode.attributes = properties.attributes;\n\n\treturn node;\n}\n\n\n/**\n * Edge structure.\n * A function returning an object guarded with default value.\n *\n * @param  {object} properties The edge properties.\n * @return {object}            The guarded edge object.\n */\nfunction Edge(properties) {\n\n\t// Possible Properties\n\tlet edge = {\n\t\tid: properties.id,\n\t\ttype: properties.type || 'undirected',\n\t\tlabel: properties.label || '',\n\t\tsource: properties.source,\n\t\ttarget: properties.target,\n\t\tweight: +properties.weight || 1.0\n\t};\n\n\tif (properties.viz)\n\t\tedge.viz = properties.viz;\n\n\tif (properties.attributes)\n\t\tedge.attributes = properties.attributes;\n\n\treturn edge;\n}\n\n/**\n * Graph parser.\n * This structure parse a gexf string and return an object containing the\n * parsed graph.\n *\n * @param  {string} xmlString The xml string of the gexf file to parse.\n * @return {object}     The parsed graph.\n */\nfunction Graph(xmlString) {\n\tlet xmlParser = new DOMParser();\n  let xml = xmlParser.parseFromString(xmlString,\"text/xml\");\n\tlet _xml = {};\n\tconsole.log(xml);\n\t// Basic Properties\n\t//------------------\n\t_xml.els = {\n\t\troot: xml.getElementsByTagName('gexf')[0],\n\t\tgraph: xml.getElementsByTagName('graph')[0],\n\t\tmeta: xml.getElementsByTagName('meta')[0],\n\t\tnodes: xml.getElementsByTagName('node'),\n\t\tedges: xml.getElementsByTagName('edge'),\n\t\tmodel: _helpers.getModelTags(xml)\n\t};\n\n\t// Information\n\t_xml.hasViz = !!_helpers.getAttributeNS(_xml.els.root, 'xmlns', 'viz');\n\t_xml.version = _xml.els.root.getAttribute('version') || '1.0';\n\t_xml.mode = _xml.els.graph.getAttribute('mode') || 'static';\n\n\tlet edgeType = _xml.els.graph.getAttribute('defaultedgetype');\n\t_xml.defaultEdgetype = edgeType || 'undirected';\n\n\t// Parser Functions\n\t//------------------\n\n\t// Meta Data\n\tfunction _metaData() {\n\n\t\tlet metas = {};\n\t\tif (!_xml.els.meta)\n\t\t\treturn metas;\n\n\t\t// Last modified date\n\t\tmetas.lastmodifieddate = _xml.els.meta.getAttribute('lastmodifieddate');\n\n\t\t// Other information\n\t\t_helpers.nodeListEach(_xml.els.meta.childNodes, function (child) {\n\t\t\tmetas[child.tagName.toLowerCase()] = child.textContent;\n\t\t});\n\n\t\treturn metas;\n\t}\n\n\t// Model\n\tfunction _model(cls) {\n\t\tlet attributes = [];\n\n\t\t// Iterating through attributes\n\t\tif (_xml.els.model[cls])\n\t\t\t_helpers.nodeListEach(_xml.els.model[cls], function (attr) {\n\n\t\t\t\t// Properties\n\t\t\t\tlet properties = {\n\t\t\t\t\tid: attr.getAttribute('id') || attr.getAttribute('for'),\n\t\t\t\t\ttype: attr.getAttribute('type') || 'string',\n\t\t\t\t\ttitle: attr.getAttribute('title') || ''\n\t\t\t\t};\n\n\t\t\t\t// Defaults\n\t\t\t\tlet default_el = _helpers.nodeListToArray(attr.childNodes);\n\n\t\t\t\tif (default_el.length > 0)\n\t\t\t\t\tproperties.defaultValue = default_el[0].textContent;\n\n\t\t\t\t// Creating attribute\n\t\t\t\tattributes.push(properties);\n\t\t\t});\n\n\t\treturn attributes.length > 0 ? attributes : false;\n\t}\n\n\t// Data from nodes or edges\n\tfunction _data(model, node_or_edge) {\n\n\t\tlet data = {};\n\t\tlet attvalues_els = node_or_edge.getElementsByTagName('attvalue');\n\n\t\t// Getting Node Indicated Attributes\n\t\tlet ah = _helpers.nodeListToHash(attvalues_els, function (el) {\n\t\t\tlet attributes = _helpers.namedNodeMapToObject(el.attributes);\n\t\t\tlet key = attributes.id || attributes['for'];\n\n\t\t\t// Returning object\n\t\t\treturn { key: key, value: attributes.value };\n\t\t});\n\n\n\t\t// Iterating through model\n\t\tmodel.map(function (a) {\n\n\t\t\t// Default value?\n\t\t\tdata[a.id] = !(a.id in ah) && 'defaultValue' in a ?\n\t\t\t\t_helpers.enforceType(a.type, a.defaultValue) :\n\t\t\t\t_helpers.enforceType(a.type, ah[a.id]);\n\n\t\t});\n\n\t\treturn data;\n\t}\n\n\t// Nodes\n\tfunction _nodes(model) {\n\t\tlet nodes = [];\n\n\t\t// Iteration through nodes\n\t\t_helpers.nodeListEach(_xml.els.nodes, function (n) {\n\n\t\t\t// Basic properties\n\t\t\tlet properties = {\n\t\t\t\tid: n.getAttribute('id'),\n\t\t\t\tlabel: n.getAttribute('label') || ''\n\t\t\t};\n\n\t\t\t// Retrieving data from nodes if any\n\t\t\tif (model)\n\t\t\t\tproperties.attributes = _data(model, n);\n\n\t\t\t// Retrieving viz information\n\t\t\tif (_xml.hasViz)\n\t\t\t\tproperties.viz = _nodeViz(n);\n\n\t\t\t// Pushing node\n\t\t\tnodes.push(Node(properties));\n\t\t});\n\n\t\treturn nodes;\n\t}\n\n\t// Viz information from nodes\n\tfunction _nodeViz(node) {\n\t\tlet viz = {};\n\n\t\t// Color\n\t\tlet color_el = _helpers.getFirstElementByTagNS(node, 'viz', 'color');\n\n\t\tif (color_el) {\n\t\t\tlet color = ['r', 'g', 'b', 'a'].map(function (c) {\n\t\t\t\treturn color_el.getAttribute(c);\n\t\t\t});\n\n\t\t\tviz.color = _helpers.getRGB(color);\n\t\t}\n\n\t\t// Position\n\t\tlet pos_el = _helpers.getFirstElementByTagNS(node, 'viz', 'position');\n\n\t\tif (pos_el) {\n\t\t\tviz.position = {};\n\n\t\t\t['x', 'y', 'z'].map(function (p) {\n\t\t\t\tviz.position[p] = +pos_el.getAttribute(p);\n\t\t\t});\n\t\t}\n\n\t\t// Size\n\t\tlet size_el = _helpers.getFirstElementByTagNS(node, 'viz', 'size');\n\t\tif (size_el)\n\t\t\tviz.size = +size_el.getAttribute('value');\n\n\t\t// Shape\n\t\tlet shape_el = _helpers.getFirstElementByTagNS(node, 'viz', 'shape');\n\t\tif (shape_el)\n\t\t\tviz.shape = shape_el.getAttribute('value');\n\n\t\treturn viz;\n\t}\n\n\t// Edges\n\tfunction _edges(model, default_type) {\n\t\tlet edges = [];\n\n\t\t// Iteration through edges\n\t\t_helpers.nodeListEach(_xml.els.edges, function (e) {\n\n\t\t\t// Creating the edge\n\t\t\tlet properties = _helpers.namedNodeMapToObject(e.attributes);\n\t\t\tif (!('type' in properties)) {\n\t\t\t\tproperties.type = default_type;\n\t\t\t}\n\n\t\t\t// Retrieving edge data\n\t\t\tif (model)\n\t\t\t\tproperties.attributes = _data(model, e);\n\n\n\t\t\t// Retrieving viz information\n\t\t\tif (_xml.hasViz)\n\t\t\t\tproperties.viz = _edgeViz(e);\n\n\t\t\tedges.push(Edge(properties));\n\t\t});\n\n\t\treturn edges;\n\t}\n\n\t// Viz information from edges\n\tfunction _edgeViz(edge) {\n\t\tlet viz = {};\n\n\t\t// Color\n\t\tlet color_el = _helpers.getFirstElementByTagNS(edge, 'viz', 'color');\n\n\t\tif (color_el) {\n\t\t\tlet color = ['r', 'g', 'b', 'a'].map(function (c) {\n\t\t\t\treturn color_el.getAttribute(c);\n\t\t\t});\n\n\t\t\tviz.color = _helpers.getRGB(color);\n\t\t}\n\n\t\t// Shape\n\t\tlet shape_el = _helpers.getFirstElementByTagNS(edge, 'viz', 'shape');\n\t\tif (shape_el)\n\t\t\tviz.shape = shape_el.getAttribute('value');\n\n\t\t// Thickness\n\t\tlet thick_el = _helpers.getFirstElementByTagNS(edge, 'viz', 'thickness');\n\t\tif (thick_el)\n\t\t\tviz.thickness = +thick_el.getAttribute('value');\n\n\t\treturn viz;\n\t}\n\n\n\t// Returning the Graph\n\t//---------------------\n\tlet nodeModel = _model('node'),\n\t\tedgeModel = _model('edge');\n\n\tlet graph = {\n\t\tversion: _xml.version,\n\t\tmode: _xml.mode,\n\t\tdefaultEdgeType: _xml.defaultEdgetype,\n\t\tmeta: _metaData(),\n\t\tmodel: {},\n\t\tnodes: _nodes(nodeModel),\n\t\tedges: _edges(edgeModel, _xml.defaultEdgetype)\n\t};\n\n\tif (nodeModel)\n\t\tgraph.model.node = nodeModel;\n\tif (edgeModel)\n\t\tgraph.model.edge = edgeModel;\n\n\treturn graph;\n}\n\n\n// Parsing the GEXF File\nfunction parse(gexf) {\n\treturn Graph(gexf);\n}\n\n\n/**\n * Exporting\n * ----------\n */\nlet gexf = {\n\n\t// Functions\n\tparse: parse,\n\n\t// Version\n\tversion: '0.2.5'\n};\n\n\n\nfunction loadGEXF(networkData){\n  return gexf.parse(networkData);\n}\n\n\nasync function loadGEXFFile(networkFile){\n  let networkData = await fetch(networkFile)\n    .then(response => response.text());\n  return gexf.parse(networkData);\n}\n\n\n\nfunction convertGEXF2JSON(network){\n  /*\n  network = {\n    nodes: [\n      {id: \"n0\", attributes:{...}},\n      {id: \"n1\", attributes:{...}},\n      {id: \"n2\", attributes:{...}},\n\n    ],\n    edges: [\n      {id: \"e0\", source: \"n0\", target: \"n1\", attributes:{...}},\n      {id: \"e1\", source: \"n1\", target: \"n2\", attributes:{...}},\n  }\n  */\n\n\tlet nodes = {};\n\tlet edges = [];\n  for (let node of network.nodes) {\n    let nodeID = node.id;\n    nodes[nodeID] = {};\n    // update with attributes\n    if (node.attributes) {\n      for (const [key, value] of Object.entries(node.attributes||{})) {\n        nodes[nodeID][key] = value;\n      }\n    }\n    // update label if exists\n    if (node.label) {\n      nodes[nodeID].Label = node.label;\n    }else if (node?.attributes.name) {\n      nodes[nodeID].Label = node.attributes.name;\n    }else{\n      nodes[nodeID].Label = nodeID;\n    }\n    if (node.viz?.position) {\n      let pos = node.viz?.position;\n      nodes[nodeID].Position = [pos?.x||0, pos?.y||0, pos?.z||0];\n    }\n\n    if (node.viz?.color) {\n      let color = d3rgb(node.viz?.color);\n      nodes[nodeID].Color = [color.r/255, color.g/255, color.b/255];\n    }\n  }\n\n\n\tfor (let edge of network.edges||[]) {\n    let newEdge = {};\n    newEdge.source = edge.source;\n    newEdge.target = edge.target;\n    for (const [key, value] of Object.entries(edge.attributes||{})) {\n      newEdge[key] = value;\n    }\n    edges.push(newEdge);\n\t}\n\t\n\treturn {nodes:nodes,edges:edges};\n}\n\nexport {loadGEXFFile,loadGEXF,convertGEXF2JSON}\n","/*\n * The GML software is based on the code from https://github.com/mobenar/mobenga-gml\n *\n * MIT License\n *\n * Copyright (c) [year] [author]\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * Parses GML string.\n *\n * @param {String} gml\n * @returns {Object}\n * @throws {SyntaxError}\n */\n\nfunction GMLParse(gml) {\n\n\tvar json = ('{\\n' + gml + '\\n}')\n\t\t.replace(/^(\\s*)(\\w+)\\s*\\[/gm, '$1\"$2\": {')\n\t\t.replace(/^(\\s*)\\]/gm, '$1},')\n\t\t.replace(/^(\\s*)(\\w+)\\s+(.+)$/gm, '$1\"$2\": $3,')\n\t\t.replace(/,(\\s*)\\}/g, '$1}');\n\n\tvar graph = {};\n\tvar nodes = [];\n\tvar edges = [];\n\tvar i = 0;\n\tvar parsed;\n\n\tjson = json.replace(/^(\\s*)\"node\"/gm, function (all, indent) {\n\n\t\treturn (indent + '\"node[' + (i++) + ']\"');\n\t});\n\n\ti = 0;\n\n\tjson = json.replace(/^(\\s*)\"edge\"/gm, function (all, indent) {\n\n\t\treturn (indent + '\"edge[' + (i++) + ']\"');\n\t});\n\t//replace NaN with null\n\tjson = json.replace(/: NaN/g, ': null');\n\t\n\ttry {\n\t\tparsed = JSON.parse(json);\n\t}\n\tcatch (err) {\n\t\tthrow new SyntaxError('bad format');\n\t}\n\tif (!isObject(parsed.graph)) {\n\t\tthrow new SyntaxError('no graph tag');\n\t}\n\n\tforIn(parsed.graph, function (key, value) {\n\n\t\tvar matches = key.match(/^(\\w+)\\[(\\d+)\\]$/);\n\t\tvar name;\n\t\tvar i;\n\n\t\tif (matches) {\n\t\t\tname = matches[1];\n\t\t\ti = parseInt(matches[2], 10);\n\n\t\t\tif (name === 'node') {\n\t\t\t\tnodes[i] = value;\n\t\t\t}\n\t\t\telse if (name === 'edge') {\n\t\t\t\tedges[i] = value;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tgraph[key] = value;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tgraph[key] = value;\n\t\t}\n\t});\n\tlet nodesDictionary = {};\n\tnodes.forEach(function (node) {\n\t\tnodesDictionary[node.id] = node;\n\t});\n\tgraph.nodes = nodesDictionary;\n\tgraph.edges = edges;\n\n\treturn graph;\n};\n\n/**\n * Stringifies GML object.\n *\n * @param {Object} graph\n * @param {Object} [options]\n * @returns {String}\n */\nfunction GMLStringify(graph, options) {\n\n\tif (typeof graph.toJSON === 'function') {\n\t\tgraph = graph.toJSON();\n\t}\n\n\toptions = options || {};\n\n\tvar nodes = graph.nodes || [];\n\tvar edges = graph.edges || [];\n\tvar indent1 = (typeof options.indent === 'string' ? options.indent : '  ');\n\tvar indent2 = indent1 + indent1;\n\tvar getGraphAttributes = options.graphAttributes || null;\n\tvar getNodeAttributes = options.nodeAttributes || null;\n\tvar getEdgeAttributes = options.edgeAttributes || null;\n\tvar lines = ['graph ['];\n\n\tfunction addAttribute(key, value, indent) {\n\n\t\tif (isObject(value)) {\n\t\t\tlines.push(indent + key + ' [');\n\n\t\t\tforIn(value, function (key, value) {\n\n\t\t\t\taddAttribute(key, value, indent + indent1);\n\t\t\t});\n\n\t\t\tlines.push(indent + ']');\n\t\t}\n\t\telse {\n\t\t\tlines.push(indent + attribute(key, value));\n\t\t}\n\t}\n\n\tforIn(graph, function (key, value) {\n\n\t\tif (key !== 'nodes' && key !== 'edges') {\n\t\t\taddAttribute(key, value, indent1);\n\t\t}\n\t});\n\n\tif (getGraphAttributes) {\n\t\tforIn(getGraphAttributes(graph), function (key, value) {\n\n\t\t\taddAttribute(key, value, indent1);\n\t\t});\n\t}\n\n\tnodes.forEach(function (node) {\n\n\t\tlines.push(indent1 + 'node [');\n\n\t\t// addAttribute('id', node.id, indent2);\n\t\t// addAttribute('label', node.label, indent2);\n\n\t\tif (getNodeAttributes) {\n\t\t\t// getNodeAttributes\n\t\t\tgetNodeAttributes.forEach(function (key) {\n\n\t\t\t\taddAttribute(key, node[key], indent2);\n\t\t\t});\n\t\t}\n\n\t\tlines.push(indent1 + ']');\n\t});\n\n\tedges.forEach(function (edge) {\n\n\t\tlines.push(indent1 + 'edge [');\n\n\t\taddAttribute('source', edge.source, indent2);\n\t\taddAttribute('target', edge.target, indent2);\n\t\t// addAttribute('label', edge.label, indent2);\n\n\t\tif (getEdgeAttributes) {\n\t\t\tgetEdgeAttributes.forEach(function (key) {\n\n\t\t\t\taddAttribute(key, edge[key], indent2);\n\t\t\t});\n\t\t}\n\n\t\tlines.push(indent1 + ']');\n\t});\n\n\tlines.push(']');\n\n\treturn lines.join('\\n');\n};\n\nfunction isObject(value) {\n\n\treturn (value && Object.prototype.toString.call(value) === '[object Object]');\n}\n\nfunction forIn(object, callback) {\n\n\tObject.keys(object).forEach(function (key) {\n\n\t\tcallback(key, object[key]);\n\t});\n}\n\nfunction attribute(key, value) {\n\n\tif (typeof value === 'boolean') {\n\t\tvalue = Number(value);\n\t}\n\telse {\n\t\tvalue = JSON.stringify(value);\n\t}\n\n\treturn (key + ' ' + value);\n}\n\n\n\nfunction loadGML(networkData) {\n\treturn GMLParse(networkData);\n}\n\n\nasync function loadGMLFile(networkFile) {\n\tlet networkData = await fetch(networkFile)\n\t\t.then(response => {\n\t\t\treturn response.text();\n\t\t});\n\treturn loadGML(networkData);\n}\n\nexport { loadGML, loadGMLFile, GMLStringify };","/**\n * A class representing a behavior filter for Helios.\n */\nexport class BehaviorFilter {\n\t/**\n\t * Creates a new instance of BehaviorFilter.\n\t * @param {Helios} helios - The Helios object to be attached to.\n\t */\n\tconstructor(helios) {\n\t\t/**\n\t\t * The filters to be applied.\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tthis._filters = {};\n\t\tthis._updatedNodes = new Set();\n\n\t\t/**\n\t\t * The Helios object to be attached to.\n\t\t * @type {Helios}\n\t\t * @private\n\t\t */\n\t\tthis._helios = helios;\n\t}\n\n\t/**\n\t * Gets the filters.\n\t * @type {Object}\n\t */\n\tget filters() {\n\t\treturn this._filters;\n\t}\n\n\t/**\n\t * Sets a filter.\n\t * @param {string} name - The name of the filter.\n\t * @param {function} filter - The filter function.\n\t */\n\tsetFilter(name, filter) {\n\t\tthis._filters[name] = filter;\n\t}\n\n\t/**\n\t * Removes a filter.\n\t * @param {string} name - The name of the filter to remove.\n\t */\n\tremoveFilter(name) {\n\t\tdelete this._filters[name];\n\t}\n\n\t/**\n\t * Applies the filters.\n\t */\n\tapplyFilters() {\n\t\tfor (let node of this._helios.network.index2Node) {\n\t\t\tlet nodeState = false;\n\t\t\tfor (let filter in this._filters) {\n\t\t\t\tnodeState = nodeState || this._filters[filter](node);\n\t\t\t}\n\t\t\tif (nodeState != node._filtered) {\n\t\t\t\tthis._updatedNodes.add(node);\n\t\t\t}\n\t\t\tnode._filtered = nodeState;\n\t\t}\n\t}\n\n\t/**\n\t * Gets the updated nodes.\n\t * @type {Set}\n\t * @readonly\n\t */\n\tupdatedNodes(clear=true) {\n\t\t//Create copy of set\n\t\tlet nodes = new Set(this._updatedNodes);\n\t\tif (clear) {\n\t\t\tthis._updatedNodes.clear();\n\t\t}\n\t\treturn nodes;\n\t} \n}\n"],"names":["linear","cubicInOut","xhtml","namespaces","namespace","name","prefix","i","creatorInherit","document","uri","creatorFixed","fullname","creator","none","selector","selection_select","select","groups","m","subgroups","j","group","n","subgroup","node","subnode","Selection","array","x","empty","selectorAll","arrayAll","selection_selectAll","parents","matcher","childMatcher","find","childFind","match","childFirst","selection_selectChild","filter","children","childrenFilter","selection_selectChildren","selection_filter","sparse","update","selection_enter","EnterNode","parent","datum","child","next","constant$2","bindIndex","enter","exit","data","groupLength","dataLength","bindKey","key","nodeByKeyValue","keyValues","keyValue","selection_data","value","bind","constant","arraylike","enterGroup","updateGroup","exitGroup","i0","i1","previous","selection_exit","selection_join","onenter","onupdate","onexit","selection_merge","context","selection","groups0","groups1","m0","m1","merges","group0","group1","merge","selection_order","selection_sort","compare","ascending","compareNode","a","b","sortgroups","sortgroup","selection_call","callback","selection_nodes","selection_node","selection_size","size","selection_empty","selection_each","attrRemove","attrRemoveNS","attrConstant","attrConstantNS","attrFunction","v","attrFunctionNS","selection_attr","defaultView","styleRemove","styleConstant","priority","styleFunction","selection_style","styleValue","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","string","classList","ClassList","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textConstant","textFunction","selection_text","htmlRemove","htmlConstant","htmlFunction","selection_html","raise","selection_raise","lower","selection_lower","selection_append","create","constantNull","selection_insert","before","remove","selection_remove","selection_cloneShallow","clone","selection_cloneDeep","selection_clone","deep","selection_datum","contextListener","listener","event","parseTypenames","typenames","t","onRemove","typename","on","o","onAdd","options","selection_on","dispatchEvent","type","params","window","dispatchConstant","dispatchFunction","selection_dispatch","selection_iterator","root","selection_selection","d3Select","sourceEvent","pointer","svg","point","rect","noop","dispatch","_","Dispatch","types","T","get","set","copy","that","args","c","nonpassivecapture","noevent$1","dragDisable","view","noevent","yesdrag","noclick","define$1","constructor","factory","prototype","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","define","color","channels","color_formatHex","color_formatHex8","color_formatHsl","color_formatRgb","hslConvert","format","l","rgbn","Rgb","rgba","hsla","r","g","rgbConvert","rgb","opacity","k","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","hex","h","s","Hsl","min","max","hsl","m2","hsl2rgb","clamph","clampt","constant$1","d","exponential","y","gamma","nogamma","interpolateRgb","rgbGamma","start","end","colorRgb","interpolateNumber","reA","reB","zero","one","interpolateString","bi","am","bm","bs","q","number","degrees","identity","decompose","e","f","scaleX","scaleY","skewX","svgNode","parseCss","parseSvg","interpolateTransform","parse","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","rotate","scale","interpolateTransformCss","interpolateTransformSvg","epsilon2","cosh","sinh","tanh","interpolateZoom","zoomRho","rho","rho2","rho4","zoom","p0","p1","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","S","d1","b0","b1","r0","r1","coshr0","u","_1","_2","_4","frame","timeout","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","setFrame","now","clearNow","Timer","timer","delay","time","sleep","timerFlush","wake","nap","poke","t0","t1","t2","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","id","index","timing","schedules","init","self","tween","stop","tick","interrupt","active","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","tweenValue","transition","interpolate","value1","string00","string1","interpolate0","string0","string10","transition_attr","attrInterpolate","attrInterpolateNS","attrTweenNS","attrTween","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","easeVarying","transition_easeVarying","transition_filter","Transition","transition_merge","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","inherit","transition_selection","styleNull","style","styleMaybeRemove","listener0","transition_style","styleInterpolate","styleTween","transition_styleTween","transition_text","textInterpolate","textTween","transition_textTween","transition_transition","id0","id1","newId","transition_end","resolve","reject","cancel","selection_prototype","defaultTiming","easeCubicInOut","selection_transition","ZoomEvent","target","transform","Transform","location","nopropagation","defaultFilter","defaultExtent","defaultTransform","defaultWheelDelta","defaultTouchable","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","d3Zoom","constrain","wheelDelta","touchable","scaleExtent","duration","listeners","touchstarting","touchfirst","touchending","touchDelay","wheelDelay","clickDistance2","tapDistance","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","collection","gesture","p","k0","k1","centroid","w","clean","Gesture","wheelidled","currentTarget","mousemoved","mouseupped","x0","y0","dragEnable","touches","started","l0","l1","dp","dl","EPSILON","ARRAY_TYPE","out","glMatrix.ARRAY_TYPE","normalFromMat4","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","multiply","b2","b3","z","rad","axis","len","b12","b20","b21","b22","glMatrix.EPSILON","perspectiveNO","fovy","aspect","near","far","nf","perspective","orthoNO","left","right","bottom","top","lr","bt","ortho","vec","stride","offset","count","fn","arg","transformMat4","createWebGLContext","canvas","opt_attribs","ii","getShaderFromString","gl","str","shader","ShaderProgram","vertexShader","fragmentShader","uniforms","attributes","glContext","shaderProgram","attributeName","makePlane","ctx","generateNormal","generateTexCoord","geometryData","normalData","texCoordData","retval","degToRad","findIndex","nodes","delta","delta1","linearMixer","lowerNodeValue","upperNodeValue","frac","isNode","isNodeArray","colorCombination","X","Y","ensureMixer","mixer","createColorMap","colors","noColorMap","createMapFromNodes","createMapFromArray","linearCombination","sortedNodes","scaledValue","coeff0","coeff1","arr","indexFloat","_value","linearScale","domain","range","d0","colors$2","Node$1","originalObject","ID","network","nodeProperty","newColor","nodeIndex","newOpacity","newSize","newWidth","newPosition","Network","edges","properties","nodeID","edgeIndex","edge","fromIndex","toIndex","colorScale","colorMap","inferno","newNode","Node","fromNode","toNode","edgesLength","nodePositions","edgePositions","indexedEdges","edgeFromPositionIndex","edgeToPositionIndex","updateOpacity","edgeColors","nodeColors","edgeFromColorIndex","edgeToColorIndex","edgeSizes","nodeSizes","HeliosScheduler","helios","FPS","throttle","maxQueueLength","repeat","maxRepeatCount","maxRepeatTime","repeatInterval","synchronized","immediateUpdates","updateNodesGeometry","updateEdgesGeometry","afterRedraw","redraw","replace","newTask","currentTimestamp","elapsedTime","newCurrentTimestamp","task","afterRedrawTasks","allTasksCurrentTimestamp","taskName","willExecute","needsRender","needsUpdateNodesGeometry","needsUpdateEdgesGeometry","updateTimeoutAfterRender","taskQueue","taskIndex","module","require","_dereq_","exports","Multimath","mm_unsharp_mask","mm_resize","MathLib","requested_features","__requested_features","features","cache","result","clampTo8","clampNegative","convolveHor","src","dest","srcW","srcH","destW","filters","filterPtr","filterShift","filterSize","srcPtr","srcY","destX","filterVal","srcOffset","destOffset","convolveVert","convolveHorWithPre","alpha","convolveVertWithPre","createFilters","_require","hasAlpha","width","height","ptr","resetAlpha","dst","destH","offsetX","offsetY","filtersX","filtersY","tmp","FILTER_INFO","FIXED_FRAC_BITS","toFixedPoint","num","srcSize","destSize","filterFunction","scaleInverted","scaleClamped","srcWindow","destPixel","srcPixel","srcFirst","srcLast","filterElementSize","floatFilter","fxpFilter","total","pxl","idx","floatVal","filterTotal","leftNotEmpty","rightNotEmpty","maxFilterElementSize","packedFilter","packedFilterPtr","slowCopy","xpi","asUint8Array","IS_LE","copyInt16asLE","target_offset","src_offset","src_size","tmp_offset","tmp_size","filtersX_offset","filtersY_offset","alloc_bytes","instance","mem","mem32","src32","dest32","glur_mono16","hsv_v16","img","amount","radius","threshold","v1","v2","vmul","diff","iTimes4","brightness","blured","amountFp","thresholdFp","pixels","img_bytes_cnt","hsv_bytes_cnt","blur_bytes_cnt","blur_line_byte_cnt","blur_coeffs_byte_cnt","img_offset","hsv_offset","blur_offset","blur_tmp_offset","blur_line_offset","blur_coeffs_offset","img32","GC_INTERVAL","Pool","idle","_this","resource","_this2","_this3","MIN_INNER_TILE_SIZE","fromWidth","fromHeight","toWidth","toHeight","srcTileSize","destTileBorder","minScale","stageCount","PIXEL_EPSILON","pixelFloor","nearest","pixelCeil","innerTileWidth","innerTileHeight","innerX","innerY","toTileWidth","toTileHeight","tiles","tile","objClass","obj","element","cname","concurrency","queue","roll","err","createCanvas","bitmap","status","workerPayload","code","ev","usable","image","mathLib","tileOpts","a0","a1","a2","a3","left_corner","right_corner","gaussCoef","sigma","g1","g2","convolveMono16","line","coeff","prev_src","curr_src","curr_out","prev_out","prev_prev_out","src_index","out_index","line_index","coeff_a0","coeff_a1","coeff_b1","coeff_b2","blurMono16","tmp_line","assign","base64decode","hasWebAssembly","DEFAULT_OPTIONS","MultiMath","opts","bytes","mem_size","memsize","env_extra","env_base","base","reminder","BASE64_MAP","input","bits","tailbits","wa","bin","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","toObject","val","shouldUseNative","test1","test2","order2","test3","letter","source","from","to","symbols","bundleFn","sources","stringify","wkey","cacheKeys","exp","wcache","skey","scache","workerSources","resolveSources","depPath","depKey","URL","blob","workerUrl","worker","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","minLen","_arrayLikeToArray","arr2","_i","_arr","_n","_d","_s","_e","webworkify","utils","createStages","createRegions","filter_info","singletones","NEED_SAFARI_FIX","DEFAULT_PICA_OPTS","tmpCanvas","DEFAULT_RESIZE_OPTS","CAN_NEW_IMAGE_DATA","CAN_CREATE_IMAGE_BITMAP","CAN_USE_CANVAS_GET_IMAGE_DATA","CAN_USE_OFFSCREEN_CANVAS","CAN_USE_CIB_REGION_FOR_IMAGE","workerFabric","url","Pica","limiter_key","wkr","wpool_key","initMath","mathlib","checkCibResize","checkOffscreenCanvas","checkCibRegion","transfer","stageEnv","extractTo","tmpCtx","toImageData","processTile","imageBitmap","regions","jobs","cleanup","stages","_this4","_stages$shift","_stages$shift2","isLastStage","res","_this5","toCtx","iData","_this6","DEST_TILE_BORDER","_this7","mimeType","quality","asString","asBuffer","workerFunctionString","moduleName","N","A","M","E","D","attributeNames","attribute","msg","use2D","inputNodesPositions","inputEdges","links","vz","edgeFrom","edgeTo","edgeObject","vertexIndex","workerURL","d3ForceLayoutWorker","onUpdate","onStop","onStart","alphaValue","velocityDecayValue","vertexHyperbolicShader","pickingShader","fastVertexShader","fastVertexHyperbolicShader","fastFragmentShader","LinkedList_1","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","_classCallCheck","LinkedList","CircularLinkedList_1","CircularLinkedList$1","_LinkedList2","require$$0","_possibleConstructorReturn","call","_inherits","subClass","superClass","CircularLinkedList","_LinkedList","nodeFromStart","nodeFromEnd","useNodes","linked","PRECISION_1","PRECISION","Matrix_1","_PRECISION","_Vector","require$$1","Matrix","elements","col","cols","matrix","nj","els","returnVector","sum","ni","rows","np","multiplier","tr","rank","divisor","inverse_elements","new_element","matrix_rows","theta","mod","Vector_1","_Matrix","Vector","vector","V","dot","mod1","mod2","angle","product","B","part","plane","R","C","P","Q","Plane_1","require$$2","_Line","require$$3","Plane","anchor","direction","O","solver","inverse","intersection","C1","C2","C3","A1","A2","A3","N1","N2","N3","newA","AN1","AN2","AN3","newN","v11","v12","v13","normal","v21","v22","v23","points","prevN","totalN","Line_1","_Plane","Line","PA1","PA2","PA3","modPA","cosTheta","sin2","dist","X1","X2","X3","Y1","Y2","Y3","PsubQ1","PsubQ2","PsubQ3","XdotQsubP","YdotPsubQ","XdotX","YdotY","XdotY","D1","D2","D3","E1","E2","E3","AD1","AD2","AD3","newD","LineSegment_1","LineSegment","segment","vect","startPoint","endPoint","LinkedListNode_1","LinkedListNode","Polygon_1","Polygon","require$$4","require$$5","vertex","triangles","firstVertex","trigs","area","prev","prevWasConvex","nextWasConvex","W","dt","loops","success","poly","convexNode","mainNode","trig","pointSet","newVertex","Vertex_1","Vertex$1","_Vector2","Vertex","_ret","polygon","Utils","mht","makeLookAt","makeOrtho","makePerspective","makeFrustum","ex","ey","ez","cx","cy","cz","ux","uy","uz","eye","center","up","znear","zfar","tx","ty","tz","ymax","ymin","xmin","xmax","_CircularLinkedList","_LineSegment","_LinkedListNode","require$$6","_Polygon","require$$7","require$$8","_Vertex","require$$9","_Utils","require$$10","require$$11","specifier","ramp","textureFragmentShader","textureVertexShader","getShader","createShader","densityShaders.fragmentShader","densityShaders.vertexShader","program","createShader2Dlut","frags","densityShaders.textureFragmentShader","verts","densityShaders.textureVertexShader","log_it","what","DensityGL","qualityScale","vertices","glUtils.makePlane","projectionMatrix","viewMatrix","ext","currentFBO","currentViewport","force","fboWidth","fboHeight","FloatingPointTextureExtensionSupported","FloatingPointTextureExtensionSupportedLinear","FBO","interpolateFunction","colorCount","colormapTexture","d3Chromatic.interpolateInferno","colormapValues","rgbColor","d3rgb","newData","newWeights","print","printNode","row","isTail","indent","isBalanced","lh","rh","loadRecursive","keys","values","middle","markBalance","sort","pivot","DEFAULT_COMPARE","rotateLeft","rightNode","rotateRight","leftNode","AVLTree","comparator","noDuplicates","cmp","successor","predecessor","current","done","low","high","returnValue","subtree","newRoot","pp","presort","SortedValueMap","oldValue","isSafari","_throttle","cb","shouldWait","Helios","elementID","density","orthographic","hyperbolic","fastEdges","tracking","fieldOfView","forceSupersample","autoStartLayout","autoCleanup","webglOptions","glm.mat4.create","glm.vec3.create","glm.mat4.identity","glUtils.createWebGLContext","entries","entry","onlayoutUpdate","layoutElapsedTime","interpolatorTask","maxDisplacement","positionsLength","newPositions","previousPositions","displacement","onLayoutStop","onLayoutStart","maxDegree","degree","pickID","eventType","pickObject","nodePick","events","imageData","filename","supersampleFactor","pica","canvasFullSize","ctxFullSize","downloadLink","svgText","svgLayerContent","blobSVG","framebuffer","fbWidth","fbHeight","backgroundColor","shallCancel","glUtils.ShaderProgram","glUtils.getShaderFromString","edgesShaders.vertexHyperbolicShader","edgesShaders.vertexShader","edgesShaders.fragmentShader","edgesShaders.fastVertexHyperbolicShader","edgesShaders.fastVertexShader","edgesShaders.fastFragmentShader","edgesShaders.pickingShader","nodesShaders.vertexHyperbolicShader","nodesShaders.vertexShader","nodesShaders.fragmentShader","nodesShaders.fastFragmentShader","nodesShaders.pickingShader","level","internalFormat","border","attachmentPoint","positions","sizes","outlineWidths","outlineColors","indicesArray","newGeometry","uints_for_indices","edgeVertexTypeArray","edgeID","newHeight","aspectRatio","trackingWidth","trackingHeight","totalTrackingPixels","newRotationMatrix","panelHeight","displacementFactor","glm.mat4.rotate","glUtils.degToRad","glm.mat4.multiply","zoomFactor","d3ZoomIdentity","d3Ease.easeLinear","semanticZoomExponent","dpr","newFrameworkWidth","newFrameworkHeight","immediate","destination","framebufferType","viewport","finalCameraDistance","orthoHeight","orthoWidth","glm.mat4.ortho","glm.mat4.perspective","glm.mat4.translate","adjustedScaleFactor","currentShaderProgram","normalMatrix","glm.mat3.create","glm.mat3.normalFromMat4","hasEdgeCallbacks","pos","lengthSize","ignoreInstantaneousUpdate","cameraInterpolatorTask","colorInput","allNodes","aColor","sizeInput","aSize","widthInput","aWidth","allEdges","sourceNode","targetNode","nodeIndices","projectedPositions","w2d","h2d","nodePosition","projectedPosition","glm.vec4.create","glm.vec4.transformMat4","perspectiveFactor","pixelX","pixelY","readID","centroids","counts","nodeAttribute","xy","nodesOnScreen","avoidPixelBufferUpdate","attributeTrackers","totalPixels","XYPositions","trackedAttributeEntryKey","trackedAttributeEntry","pixelCounter","currentKeys","smoothness","minProportion","calculateCentroid","centroidPositions","maxLabels","coefficient","newValue","centroidPosition","index2node","attributeEntry","newCentroidPosition","trackedKeys","toRemove","trackerName","attributeTracker","IDProportion","proportion","trackerTaskName","tracker","onTrack","trackedAttribute","anOpacity","edgesColorsFromNodes","edgesWidthFromNodes","enableAdditiveBlending","enableShadedNodes","pickables","labelsMaxPixels","keepGLContext","numTextureUnits","unit","textSplit2","text","textSplit3","readNumberIgnoringNone","propertyHeaderRegular","propertyFunctions","readXNETVerticesHeader","headerEntries","nodeCount","readXNETLabels","labels","currentLine","lineLength","label","readXNETEdgesHeader","weighted","directed","headerEntry","readXNETEdges","weights","weight","readXNETPropertyHeader","propertyType","propertyKey","propertyFormat","readXNETProperty","propertyHeader","loadXNET","nodesCount","edgesHeader","edgesData","propertyData","loadXNETFile","networkFile","networkData","response","convertXNET2JSON","_helpers","xml","attributesTags","modelTags","nodeList","func","prop","nodeMap","ns","tag","el","attr_value","Edge","Graph","xmlString","_xml","edgeType","_metaData","metas","_model","cls","attr","default_el","_data","model","node_or_edge","attvalues_els","ah","_nodes","_nodeViz","viz","color_el","pos_el","size_el","shape_el","_edges","default_type","_edgeViz","thick_el","nodeModel","edgeModel","graph","gexf","loadGEXF","loadGEXFFile","convertGEXF2JSON","newEdge","GMLParse","gml","json","parsed","all","isObject","forIn","matches","nodesDictionary","GMLStringify","indent1","indent2","getGraphAttributes","getNodeAttributes","getEdgeAttributes","lines","addAttribute","object","loadGML","loadGMLFile","BehaviorFilter","nodeState","clear"],"mappings":"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AAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,MAAQ,QAAU,OAAQ,EAC3B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,MAAO,EAC3B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,OAAS,QAAU,OAAQ,EAC5B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,MAAO,EAC3B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,MAAO,EAC3B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,OAAS,OAAQ,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,OAAS,QAAU,MAAO,EAC3B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CAAC,QAAU,QAAU,OAAQ,EAC7B,CAAC,QAAU,QAAU,MAAO,EAC5B,CA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AA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkHvByc,GAAiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAsGjCxc,GAAyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,104,105,108,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,129,130]}